import{d as L,u as P,g as f,a6 as p,W as v,t as $,V as U,r as x,j as e,Z as q,T as F,$ as M,a9 as z,a0 as H,s as k,R as Q,c as V}from"./index-CXgPt5JN.js";import{d as W,c as Z,b as J}from"./index-CDNxKOHP.js";import{G as K}from"./index-Djay0H-Y.js";import{R as X}from"./index-CNq6gBQy.js";import{a as ee,b as se,d as te,m as b}from"./match-YbLQ2-HI.js";import"./index-BHcAlC-o.js";import"./index-kMgS0FzX.js";import"./index-D0c2BEnw.js";import"./index-BQ3DKWO0.js";import"./index-DhnFfT0_.js";const ae=L({key:"salesAtom",default:{data:[]}}),de=()=>{var j,N;const o=P(),C=s=>{o(`/chatroom?roomId=${s}`)},l=f("user"),O=f("accessToken");console.log("쿠키",l);const a=(j=l==null?void 0:l.strfDtos[0])==null?void 0:j.strfId,n=ee((N=l==null?void 0:l.strfDtos[0])==null?void 0:N.category)||p.STAY,T=v($),A=v(ae),d=U($),I=()=>{o("/business")},[r,S]=x.useState(0),[c,w]=x.useState(0),[u,g]=x.useState(!1),[m,y]=x.useState(!1),R=async()=>{const s="/api/chat-room/admin";try{const t=await V.post(s,null,{headers:{Authorization:`Bearer ${O}`}});console.log("관리자 채팅방 생성",t.data);const i=t.data;return i.code==="200 성공"&&C(i.data),i}catch(t){return console.log("관리자 채팅방 생성",t),null}},D=[{icon:se(n),name:"가게 관리",path:"/business/store",subMenu:[{name:"기본 정보",path:`/business/store?strfId=${a}&category=${n}&tab=0`},{name:"운영정보",path:`/business/store?strfId=${a}&category=${n}&tab=1`}]},{icon:te(n),name:`${b(n)} 관리`,path:"/business/menu",subMenu:[{name:`${b(n)} 목록`,path:`/business/menu?strfId=${a}&category=${n}`},{name:`${b(n)} 등록`,path:`/business/menu/create?strfId=${a}&category=${n}`}]},{icon:e.jsx(q,{}),name:"리뷰 관리",path:`/business/review?strfId=${a}`},{icon:e.jsx(W,{}),name:"포인트 관리",path:"/business/point",subMenu:[{name:"포인트 입금 내역",path:`/business/point?strfId=${a}`},{name:"포인트 QR 생성",path:`/business/point/qr?strfId=${a}`}]}],E=[{icon:e.jsx(Z,{}),name:"쿠폰 관리",path:"/business/coupon",subMenu:[{name:"쿠폰 목록",path:`/business/coupon?strfId=${a}`},{name:"쿠폰 발급",path:`/business/coupon/create?strfId=${a}`}],category:[p.STAY]},{icon:e.jsx(K,{}),name:"예약 관리",path:`/business/booking?strfId=${a}`,category:[p.STAY]}],B=[{name:"공지사항",onClick:()=>o("/announcement?type=business")},{name:"자주 묻는 질문",onClick:()=>o("/qna")},{name:"관리자에게 문의하기",onClick:()=>R()}],_=s=>{r===s?(m&&y(!1),g(!u)):S(s)},Y=s=>{c===s?(u&&g(!1),y(!m)):w(s)},G=()=>{T(),A(),H("accessToken");const s=f("user");s.isSaveEmail===!1&&k("user",{...s,email:""}),s.isSaveLogin===!1&&k("user",{...s,userId:"",email:"",accessToken:"",role:[Q.GUEST]}),o("/signin")};return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(F,{icon:"close",title:"",onClick:I,rightContent:e.jsx("div",{className:"flex items-center gap-5",children:e.jsx("button",{type:"button",children:e.jsx(J,{})})})}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx("div",{className:"flex items-end justify-between px-5 pt-5 ",children:e.jsxs("div",{className:"text-2xl text-slate-700 flex items-end gap-2",children:[e.jsx("span",{className:"text-3xl font-semibold line-clamp-1",children:d==null?void 0:d.name})," ","님"]})}),e.jsx("div",{className:"w-full h-[2.67vw] max-h-[10px] bg-slate-100"}),e.jsx("ul",{className:"flex flex-col gap-5 px-6",children:a?e.jsxs(e.Fragment,{children:[D.map((s,t)=>e.jsxs("li",{className:"py-4",children:[e.jsxs("button",{type:"button",onClick:()=>{s.subMenu?_(t):o(s.path)},className:"w-full flex items-center justify-between gap-4 text-2xl font-medium text-slate-700 ",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("i",{className:"text-2xl text-slate-400",children:s.icon}),s.name]}),s.subMenu&&e.jsx("i",{className:`text-2xl text-slate-300 ${r===t&&u===!0?"rotate-90":"rotate-0"} transition-transform duration-300`,children:e.jsx(M,{})})]}),s.subMenu&&e.jsx("ul",{className:`flex flex-col py-4 ${r===t&&u===!0?"visible h-auto opacity-100 relative":"invisible max-h-0 opacity-0 absolute"} overflow-hidden transition-[max-height] duration-300 ease-in-out opacity-transition`,style:{transitionProperty:"opacity, max-height, visibility",transitionDuration:r===t?"400ms":"300ms"},children:s.subMenu.map((i,h)=>e.jsx("li",{className:`px-10 py-2 text-xl text-slate-500 cursor-pointer\r
                      hover:bg-slate-100 transition-all duration-300`,onClick:()=>o(i.path),children:i.name},h))})]},t)),E.map((s,t)=>e.jsxs("li",{className:"py-4",children:[e.jsxs("button",{type:"button",onClick:()=>{s.subMenu?Y(t):o(s.path)},className:`flex items-center gap-4 text-2xl font-medium text-slate-700
                      ${n===p.STAY?"":"hidden"}`,children:[e.jsx("i",{className:"text-2xl text-slate-400",children:s.icon}),s.name,s.subMenu&&e.jsx("i",{className:`text-2xl text-slate-500 ${c===t&&m===!0?"rotate-90":"rotate-0"} transition-transform duration-300`,children:e.jsx(M,{})})]}),s.subMenu&&e.jsx("ul",{className:`flex flex-col gap-2 py-4 ${c===t&&m===!0?"visible h-auto opacity-100 relative":"invisible max-h-0 opacity-0 absolute"} overflow-hidden transition-[max-height] duration-300 ease-in-out opacity-transition`,style:{transitionProperty:"opacity, max-height, visibility",transitionDuration:c===t?"400ms":"300ms"},children:s.subMenu.map((i,h)=>e.jsx("li",{className:"px-10 text-xl text-slate-500 py-1 cursor-pointer",onClick:()=>o(i.path),children:i.name},h))})]},t))]}):e.jsxs("li",{className:"py-4 flex items-center gap-4 text-2xl font-medium text-slate-700",children:[e.jsx("i",{className:"text-2xl text-slate-400",children:e.jsx(z,{})}),"업체 등록"]})}),e.jsx("div",{className:"w-full h-[2.67vw] max-h-[10px] bg-slate-100"}),e.jsxs("ul",{className:"py-5 px-6",children:[B.map((s,t)=>e.jsx("li",{className:"cursor-pointer text-slate-500 py-3 text-lg select-none",onClick:s.onClick,children:s.name},t)),e.jsxs("li",{className:"cursor-pointer text-slate-500 py-3 text-lg flex items-center gap-2",onClick:G,children:[e.jsx(X,{className:"text-slate-300"}),"로그아웃"]})]})]})]})};export{de as default};
