import{g as T,u as L,r as a,j as e,e as u}from"./index-CG8vYf2y.js";import{T as Y}from"./TitleHeader-HJveUMRb.js";import{a as A}from"./pic-Jp7D6aQ0.js";import{a as E}from"./index-BSwssLiK.js";import{c as I}from"./match-D1Z4e6My.js";import{c as m,o as d}from"./search-1EubG62x.js";import{d as M}from"./dayjs.min-DlVafnYe.js";import{F}from"./index-BDzwUFU-.js";import{D as P}from"./index-DSkHQNZZ.js";import{R as W}from"./index-DipEv1TS.js";import{B}from"./button-Qumjrz4E.js";import"./index-CkZhrZUZ.js";import"./iconBase-BliIWTH0.js";import"./index-BK2APq6_.js";import"./index-zbYbnkux.js";import"./index-CWOPntzi.js";import"./index-DNP8OPt4.js";import"./index-DgAP2TMZ.js";import"./context-PnQlGr6A.js";import"./UnstableContext-Cxtoe_qF.js";import"./useSize-s7Cj9DSQ.js";import"./Portal-CztClCTi.js";import"./useCSSVarCls-DVyv07Mk.js";import"./collapse-BbEVqHco.js";import"./zoom-Dx8PYXKT.js";import"./Keyframes-DQFvTPSf.js";import"./genStyleUtils-BNuyCX-p.js";import"./reactNode-Dx8pTwlk.js";import"./index-Dgnr2uwk.js";import"./index-DrSQ8jn4.js";import"./index-E9bkYm6o.js";import"./index-N7vMWSMs.js";import"./useId-D1G52zAA.js";import"./useMergedState-DU3z-VtB.js";import"./ContextIsolator-BLCcxi2B.js";import"./useZIndex-DHIAsWu5.js";import"./useLocale-DGpfybmt.js";import"./ExclamationCircleFilled-B_QXJoCI.js";import"./CloseCircleFilled-BQjJuuZg.js";import"./PurePanel-DL_M_EeW.js";import"./pickAttrs-KpDTT5l5.js";import"./Overflow-shXm7bbs.js";import"./index-Bo0Apytk.js";import"./useIcons-D10tAy91.js";import"./CheckOutlined-DEXRZQVp.js";import"./CloseOutlined-72i2lCdW.js";import"./KeyCode-DNlgD2sM.js";const R=M().format("YYYY-MM-DD"),It=()=>{F.useForm(),T("accessToken");const f=L(),j=()=>{f(-1)},y=t=>{f(`/contents/index?strfId=${t.strfId}`)},[h,o]=a.useState(0),[i,l]=a.useState([]),[r,N]=a.useState(0),[p,v]=a.useState(0),[w,C]=a.useState(!0),[n,D]=a.useState(R);a.useEffect(()=>{console.log("wishListData",i)},[i]);const x=async()=>{try{const t=await u.get(`/api/wish-list?start_idx=${h}&orderType=${d[p].type}&category=${m[r].name}`);console.log(t.data);const s=t.data;l([...i,...s.data]),o(c=>c+10)}catch(t){console.log("찜목록 불러오기",t)}},g=async()=>{var t;try{const s=await u.get(`/api/wish-list/fest?start_idx=${h}&orderType=${d[p].type}&category=${m[r].name}&start_at=${n}`);console.log("축제 찜목록",s.data);const c=s.data;l([...i,...c.data]),o(k=>k+10),(((t=c.data[0])==null?void 0:t.more)===!1||c.data.length===0)&&C(!1)}catch(s){console.log("찜목록 불러오기",s)}},b=t=>{N(t),o(0),l([])},$=t=>{v(t),o(0),l([])},S=async t=>{o(0),l([]);const s=t.format("YYYY-MM-DD");D(s)};return a.useEffect(()=>{x()},[]),a.useEffect(()=>{r!==4?x():g()},[r,p]),a.useEffect(()=>{n&&r===4&&g()},[n]),e.jsxs("div",{children:[e.jsx(Y,{icon:"back",onClick:j,title:"찜 목록"}),e.jsxs("div",{className:"px-[32px] flex flex-col gap-[50px] mt-[30px] ",children:[e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsx("ul",{className:"flex justify-between items-center",children:m.map((t,s)=>e.jsx("li",{onClick:()=>{b(s)},className:`cursor-pointer font-semibold text-[16px] w-full flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${s===r?"bg-primary text-white":"bg-white text-slate-500"}`,children:t.name},s))}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("ul",{className:"flex items-center gap-5",children:d.map((t,s)=>e.jsx("li",{className:`cursor-pointer font-semibold text-[13px] flex items-center py-1  ${s===p?"text-primary":"text-slate-500"}`,onClick:()=>$(s),children:t.name},s))}),r===4&&e.jsx("div",{children:e.jsx(P,{onChange:S})})]})]}),e.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:i.map((t,s)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>y(t),children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:e.jsx("img",{src:`${A}${t.strfId}/${t.strfPic}`,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:t.strfTitle})}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("p",{className:"text-[14px] text-slate-500",children:I(t.category)}),e.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),e.jsx("p",{className:"text-[14px] text-slate-500",children:t.locationName})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(W,{disabled:!0,count:1,value:t.reviewed?1:0,className:"text-primary"}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.ratingAvg!==0?t.ratingAvg:"0"}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",t.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(E,{className:"text-secondary3"})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.wishCnt.toLocaleString()})]})]})]},s))})]}),w&&e.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:e.jsx(B,{variant:"outlined",onClick:()=>{x()},className:"h-[46px] px-[20px] py-[10px] rounded-3xl text-slate-600 text-[16px] font-semibold",children:"더보기"})})]})};export{It as default};
