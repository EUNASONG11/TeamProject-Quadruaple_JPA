import{h as g,g as j,r,j as e,B as v,m as S}from"./index-B5mutXqH.js";import{R as I}from"./ReviewItem-Ca-QhhTk.js";import{S as N}from"./StrfInfo-CX-HDyiF.js";import{L as w}from"./index-BQGSIoXt.js";import{S as y}from"./index-BY3lugu9.js";import"./index-BV7vgP9f.js";import"./BottomSheet-ef9iIxAN.js";import"./ReviewImage-C32OXhgv.js";import"./swiper-react-C7pi3sW5.js";import"./index-Dwc3GK1e.js";import"./index-CDS9wvZX.js";import"./index-DUI94dea.js";import"./index-BAYCThZ_.js";import"./Portal-Cl124Xm8.js";import"./useId-DwjxQd62.js";import"./motion-Bx9cQuU0.js";import"./roundedArrow-DZNwFq69.js";import"./zoom-6e5oPkw1.js";const H=()=>{const[p]=g(),d=Number(p.get("strfId")),f=j("accessToken"),[t,o]=r.useState([]),[i,l]=r.useState(0),[u,n]=r.useState(!1),m=async a=>{const c="/api/business/review/all";n(!0);try{const s=(await S.get(`${c}?start_idx=${i}&page_size=20`,{headers:{Authorization:`Bearer ${f}`}})).data;return console.log("리뷰 목록 조회",s),s&&a==="more"&&o([...t,...s]),s&&a==="delete"&&(l(0),o(s)),n(!1),s}catch(x){return console.log("리뷰 목록 조회",x),n(!1),null}},h=async()=>{l(i+20)};return r.useEffect(()=>{m("more")},[i]),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(N,{}),e.jsxs(y,{spinning:u,children:[e.jsx("section",{className:"flex flex-col gap-10 pb-10",children:t.length>0?t==null?void 0:t.map((a,c)=>e.jsx(I,{item:a,strfId:d,setReviewList:o,getReviewList:m},c)):e.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center text-slate-300 py-12",children:[e.jsx(w,{className:"text-7xl"}),e.jsx("p",{className:"text-2xl",children:"리뷰가 없습니다"})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{variant:"outlined",className:"px-5 py-2 h-[9.6vw] max-h-[60px] text-xl text-slate-400 rounded-[32px]",onClick:h,children:"더보기"})})]})]})};export{H as default};
