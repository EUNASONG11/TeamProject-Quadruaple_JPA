import{a as f,j as e,r,k as A,g as C,R as P,h as F,F as B,e as E}from"./index-DB3eQjaF.js";import{e as O,d as z}from"./index-CTtYMjrs.js";import{a as U}from"./TitleHeader-DaR7UnBM.js";import{U as Y}from"./UserIndex-Beqo5kUs.js";import{S as j,a as g}from"./swiper-react-DjoWp6rM.js";import{a as N,L as H}from"./pic-Bp3CpqNF.js";import{a as k,b as I}from"./index-Se5up3L9.js";import{R as V}from"./index-gFeoScXN.js";import{F as _}from"./Footer-DTKyr1CX.js";import{I as M}from"./index-B30wfAHF.js";import"./index-Bro5j5Ov.js";/* empty css                    */import"./UserTrips-BdCQGssn.js";import"./index-BU4NXrqZ.js";import"./index-CrKY0ESG.js";import"./context-D2Tlqc8S.js";import"./useSize-CL4N8q3x.js";import"./Portal-cPad4SNO.js";import"./collapse-BbEVqHco.js";import"./zoom-BfpzSntc.js";import"./button-x43GSXMA.js";import"./index-CG393yrs.js";import"./index-Chfy1tKF.js";import"./index-CSeeWeAv.js";import"./index-CncOcDmE.js";import"./useId-BBTtT7-5.js";import"./useMergedState-CRVcgrPC.js";import"./ContextIsolator-BsDgCGPW.js";import"./useLocale-MgMWvS9W.js";import"./BaseInput-BY0LxQI1.js";const D=({festivities:a})=>{const l=f();return e.jsx("div",{children:e.jsx(j,{slidesPerView:1.5,spaceBetween:16,className:"mySwiper",children:a.map(s=>e.jsxs(g,{className:"!h-[600px] cursor-pointer relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("img",{src:`${N}${s.strfId}/${s.strfPic}`,alt:s.festTitle,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-[60px] right-[30px] text-right z-[99]",children:[s.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2.5 py-1 rounded-md font-light mb-1.5",children:"개최중"}),e.jsx("h2",{className:"text-3xl font-medium mb-1.5",style:{wordBreak:"auto-phrase"},children:s.festTitle}),e.jsxs("h4",{className:"text-2xl font-medium mb-1.5",children:[s.startAt.replaceAll("-","."),"~",s.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-base font-",children:s.locationTitle})]})]},s.strfId))})})},G=({locations:a})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(j,{slidesPerView:4,spaceBetween:16,className:"mySwiper ",children:a.map((l,s)=>e.jsxs(g,{className:"relative pt-[40px]",children:[e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-[36px] h-[36px] leading-[36px] rounded-full left-1/2 top-[24px] -translate-x-1/2 text-center inline-block text-lg",children:s+1}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden h-[226px]",children:[e.jsx("img",{src:`${H}${l.locationPic}`,alt:l.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white text-base",children:[e.jsx("p",{children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-2xl mt-1",children:l.locationTitle})]})]})]},l.locationId))})]}),W=({recent:a,getMainList:l,setFestivities:s,setLocations:b,setRecent:h,setRecommend:w})=>{const x=f(),[c,d]=r.useState("STAY"),m={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},i=a.find(t=>t.category===c),u=async t=>{const n={strfId:t.strfId};console.log("찜하기 데이터:",n);try{const o=await axios.post("/api/wish-list",{...n},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",o.data),o.data.code==="200 성공"&&l()}catch(o){console.log("찜하기",o)}};return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"최근 본 목록"}),e.jsx("div",{children:a.map(t=>e.jsx("button",{onClick:()=>d(t.category),className:`px-5 py-2 border cursor-pointer mr-2.5 my-8 rounded-2xl ${c===t.category?"bg-primary text-white":"bg-white text-slate-500 border-1 border-slate-300"}`,children:m[t.category]},t.category))}),e.jsx("div",{className:" flex flex-wrap ",children:i==null?void 0:i.recent.slice(0,6).map(t=>e.jsxs("div",{className:"w-[50%] flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{x(`/contents/index?strfId=${t.strfId}`)},children:[e.jsxs("div",{className:"w-[164px] h-[164px] rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${N}${t.strfId}/${t.strfPic}`,alt:t.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>u(item),children:t.wishIn?e.jsx(k,{className:"text-secondary3 text-xl"}):e.jsx(I,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 break-keep",children:t.strfTitle}),e.jsxs("p",{className:"font-medium text-base text-slate-400",children:[t.locationName," · ",m[c]]}),e.jsx("div",{children:e.jsx(V,{disabled:!0,allowHalf:!0,defaultValue:t.averageRating})}),e.jsxs("div",{className:"flex text-slate-400 text-sm align-middle gap-1",children:[t.wishIn?e.jsx(k,{className:"text-secondary3 text-xl"}):e.jsx(I,{className:"text-slate-400 text-xl"}),t.wishCnt]})]})]},t.strfId))})]})},q=({recommend:a})=>{const l=f();return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mx-[32px]",children:"회원님에게 추천하는 여행지"}),e.jsx(j,{slidesPerView:1,className:"mySwiper relative mt-5 after:bg-slate-100 after:inline-block after:w-full after:h-72 after:absolute after:top-0 after:left-0 ",children:a.map(s=>e.jsxs(g,{className:"!flex align-middle justify-center gap-8 mt-12 px-8 cursor-pointer",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("p",{}),e.jsxs("div",{className:"mt-12 w-[50%]",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-3 rounded-2xl font-light text-xs",children:s.locationTitle}),e.jsx("h2",{className:"text-2xl font-medium break-keep",children:s.strfTitle}),e.jsx("p",{className:"text-lg font-normal text-slate-500 break-keep",children:s.explain}),e.jsxs(A,{to:"",className:"text-slate-400 flex align-middle font-light gap-1",children:["자세히보기 ",e.jsx(O,{className:"text-lg"})]})]}),e.jsx("img",{src:`${N}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-[400px] h-[300px] rounded-tr-[36px] rounded-bl-[36px]"})]},s.strfId))})]})},Se=()=>{const a=C("accessToken"),[l,s]=r.useState([]),[b,h]=r.useState([]),[w,x]=r.useState([]),[c,d]=r.useState([]),[m,i]=r.useState(!1),[u,t]=r.useState(0),n=async()=>{try{const p=await E.get("/api/home",{headers:{Authorization:`Bearer ${a}`}});console.log("메인",p.data.data);const{festivalList:T,locationList:$,recentList:L,recommendList:R}=p.data.data;s(T),h($),x(L),d(R)}catch(p){console.log(p)}};r.useEffect(()=>{n()},[]);const o=()=>{window.scrollY>140?t(!0):t(!1)};window.addEventListener("scroll",o);const[v,J]=P(F),y=f();r.useEffect(()=>{},[v]);const S=()=>{y("/search/contents")};return e.jsxs("div",{children:[e.jsx(Y,{isOpen:m,onClose:()=>i(!1)}),e.jsxs("header",{className:`flex h-[60px] items-center px-[32px] max-w-3xl w-full duration-300 ${u?"fixed top-0 ":"relative"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[160px] mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{y("/")}})}),e.jsxs("nav",{className:" flex gap-[16px]",children:[e.jsx(z,{className:"text-3xl text-slate-400 cursor-pointer"}),e.jsx(U,{className:"text-3xl text-slate-400 cursor-pointer",onClick:()=>i(!0)})]})]}),e.jsxs("main",{className:"pb-[60px]",children:[e.jsx("section",{className:"mx-[32px] mt-[30px]",children:e.jsx(M,{className:"h-[60px] text-lg rounded-lg  !bg-slate-100 !border-slate-300  gap-[5px]",placeholder:"지금 어디로 여행을 떠나고  싶으신가요?",readOnly:!0,prefix:e.jsx(B,{className:"text-slate-400 text-2xl"}),onClick:()=>S()})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(D,{festivities:l})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(G,{locations:b})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx("img",{src:"/images/main-banner.png",alt:""})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(W,{recent:w,getMainList:n,setFestivities:s,setLocations:h,setRecent:x,setRecommend:d})}),e.jsx("section",{className:"mt-[70px]",children:e.jsx(q,{recommend:c})})]}),e.jsx(_,{})]})};export{Se as default};
