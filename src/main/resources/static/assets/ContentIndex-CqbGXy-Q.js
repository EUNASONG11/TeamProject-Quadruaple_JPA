import{j as e,b as D,r as i,bm as ee,af as A,u as R,bP as Q,B as P,d as E,H as J,a5 as se,e as te,aD as le,M as ae,J as re,ac as ie,ad as L,aQ as oe,Q as ce,a7 as G,Z as V,N as ne,ay as de,c as xe}from"./index-DZF_lMwV.js";import{j as C}from"./jwt-C3mglyXF.js";import{p as W,F as X,c as me,h as pe,q as ue}from"./match-DOxPiXvs.js";import{b as fe}from"./index-Calry11s.js";/* empty css                    */import{D as he}from"./index-BaOainxA.js";import{L as ge}from"./index-DWVMhexM.js";import{D as je}from"./DynamicGrid-6cYE_Ad8.js";import{R as be}from"./index-DZ82jsPs.js";import{m as $}from"./proxy-sC5Jceop.js";import{t as we}from"./tripAtom-Bk31_AZq.js";import{a as w,K as Ne,b as I,u as ye,M as ve}from"./MarkerClusterer-EbPm5vli.js";import{a as ke}from"./index-C2sVj-25.js";import{P as Ce}from"./index-Cdasvksf.js";import{T as Me}from"./index-Bo1wzlqv.js";import"./index-C8yBNrXo.js";import"./index-BDHbZjIV.js";import"./index-CqiZLVFA.js";import"./index-BMyrdrr4.js";import"./customParseFormat-Z6c6s5zV.js";import"./PurePanel-DLwO8SDB.js";import"./index-D-wHe6FV.js";import"./Portal-hI7XGsNB.js";import"./useId-DRiPHj_v.js";import"./isMobile-DjGTsQxe.js";import"./Overflow-CxqoPdPw.js";import"./useIcons-DDKaph2O.js";import"./CheckOutlined-B95BnGwp.js";import"./DownOutlined-CHeJKV1x.js";import"./roundedArrow-7xBDnTzZ.js";import"./useLocale-B0IsDvs_.js";import"./index-C0b86dr6.js";import"./index-BqnuBRne.js";import"./index-BG6u9KEd.js";import"./fade-CSzS8umC.js";import"./zoom-CNuMB0di.js";import"./addEventListener-Bsrei05G.js";import"./motion-DnGLBzQj.js";import"./RightOutlined-B45YwAxF.js";import"./index-Cbswu_Hk.js";import"./EllipsisOutlined-D9ZW9KNu.js";const Ie=({handleCancel:t,amenities:s})=>(console.log(s),e.jsxs("div",{className:"fixed top-0 left-1/2  -translate-x-1/2 z-[999] bg-white w-full max-w-[768px] h-screen",children:[e.jsx("div",{className:"",children:e.jsx(D,{icon:"close",title:"편의시설 및 서비스",onClick:t})}),e.jsx("ul",{className:"flex flex-wrap mt-6 px-4 gap-5",children:s.map(l=>e.jsxs("li",{className:"min-w-14 flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:W(l.amenityId??0)}),e.jsx("p",{children:l.amenityTitle})]},l.amenityId))})]})),Se=({strfId:t})=>{const[s,l]=i.useState(),[c,d]=i.useState(!1),o=async()=>{try{const r=await C.get(`/api/detail/amenity?strf_id=${t}&category=숙소`);l(r.data.data),console.log("편의시설 조회",r.data.data)}catch(r){console.log("편의시설 조회",r)}};return i.useEffect(()=>{o()},[]),e.jsxs("div",{className:"px-4 my-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"편의시설 및 서비스"}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-[6px] text-sm text-slate-400",children:["더보기 ",e.jsx(ee,{className:"text-xl"})]})]}),e.jsx("ul",{className:"grid grid-flow-col gap-4 overflow-hidden w-full h-[90px] mt-3",children:s==null?void 0:s.map(r=>e.jsxs("li",{className:"min-w-14 flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:W(r.amenityId??0)}),e.jsx("p",{children:r.amenityTitle})]},r.amenityId))}),c?e.jsx(Ie,{handleCancel:()=>d(!c),amenities:s}):null]})},Pe=({strfId:t,menuData:s})=>e.jsxs("div",{className:"px-4 my-6",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"대표메뉴"}),e.jsx("ul",{className:"grid grid-cols-2 gap-3 mt-5",children:s.map(l=>e.jsxs("li",{children:[e.jsx("div",{className:"w-full aspect-square rounded-2xl overflow-hidden",children:e.jsx("img",{src:`${A}/${t}/menu/${l==null?void 0:l.menuPic}`,alt:l==null?void 0:l.menuTitle,className:"w-full h-full object-cover "})}),e.jsxs("div",{className:"mt-2 text-slate-700",children:[e.jsx("p",{className:"text-lg",children:l.menuTitle}),e.jsxs("p",{className:"text-base font-semibold tracking-tight",children:[l.menuPrice.toLocaleString(),"원"]})]})]},l.menuId))})]}),$e=({strfId:t,menuData:s})=>e.jsxs("div",{className:"px-4 my-6",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"입장권"}),e.jsx("ul",{children:s.map(l=>e.jsxs("li",{className:"flex items-center justify-between gap-4 py-4 border-b border-slate-200 last:border-b-0",children:[e.jsxs("div",{className:"text-slate-700",children:[e.jsx("h3",{className:"text-lg",children:l.menuTitle}),e.jsxs("p",{className:"text-base font-semibold",children:[l.menuPrice.toLocaleString(),"원"]})]}),e.jsx("div",{className:"w-24 aspect-square overflow-hidden rounded-2xl",children:e.jsx("img",{src:`${A}/${t}/menu/${l==null?void 0:l.menuPic}`,alt:l==null?void 0:l.menuTitle,className:"w-full h-full object-cover "})})]},l.menuId))})]}),{RangePicker:Re}=he,Te=({strfId:t,menuData:s,contentData:l})=>{const c=R(),[d,o]=i.useState([]),[r,u]=i.useState(null),[m]=i.useState(1),[,x]=i.useState(null),n=async(a,h)=>{var b;try{const g=await C.get(`/api/detail/check?strfId=${t}&checkIn=${a}&checkOut=${h}`);(b=g.data)!=null&&b.data&&o(g.data.data),console.log("예약 가능 여부:",g.data)}catch(g){console.log("예약 조회 에러:",g),o([])}},j=a=>{if(a){const[h,b]=a,g=E(h).format("YYYY-MM-DD"),y=E(b).format("YYYY-MM-DD");console.log("선택된 날짜 범위:",{start:g,end:y}),u([g,y]),n(g,y)}else console.log("날짜 선택이 취소됨"),u(null)},N=a=>{if(!r){J.error("날짜를 선택해주세요");return}x(a),c(`/booking/index?strfId=${t}`,{state:{quantity:m,dates:r,item:a,contentData:l}})},f=a=>{if(!r)return!1;if(d&&d.length>0){const h=d.find(b=>b.menuId===a);return(h==null?void 0:h.check)||!1}return!1},v=a=>f(a)?"예약불가":"예약하기",k=a=>{if(!r){J.warning("날짜를 선택해주세요");return}N(a)},M=a=>!!a&&a.isBefore(E().startOf("day"));return e.jsxs("div",{className:"mt-3 ",children:[e.jsx("div",{className:"px-4",children:e.jsx(Re,{className:"custom-lodgment-picker w-full border-slate-300 rounded-lg py-3 text-slate-700 mb-3",onChange:j,disabledDate:M,format:"YYYY-MM-DD"})}),e.jsx("ul",{children:s==null?void 0:s.map(a=>e.jsxs("li",{className:"py-5 px-4 border-b-[10px] border-slate-100 last:border-b-0",children:[e.jsx("i",{children:e.jsx("img",{src:`${A}/${t}/menu/${a==null?void 0:a.menuPic}`,alt:a==null?void 0:a.menuTitle,className:"w-full aspect-[2/1] object-cover rounded-lg"})}),e.jsxs("div",{className:"my-3",children:[e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:a==null?void 0:a.menuTitle}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm my-1",children:[e.jsx(Q,{className:"text-base"}),"입실 ",a.openCheckIn.replace(/:\d{2}$/,"")," - 퇴실",a.closeCheckIn.replace(/:\d{2}$/,"")]}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm ",children:[e.jsx(fe,{className:"text-base"}),"기준 ",a.recomCapacity,"인 / 최대 ",a.maxCapacity,"인"]}),e.jsxs("div",{className:"w-full border-t border-slate-100 mt-3 pt-3 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xl text-slate-700 font-semibold",children:[a.menuPrice.toLocaleString(),"원"]}),e.jsx(P,{type:"primary",className:"text-base py-2 px-4 h-auto rounded-lg",onClick:()=>k(a),disabled:f(a.menuId),children:v(a.menuId)})]})]})]},a.menuId))})]})},Ee=({strfId:t,contentData:s})=>{console.log("contentData",s);const[l,c]=i.useState([]),[d,o]=i.useState(),[r,u]=i.useState(0),[m,x]=i.useState(null),[n,j]=i.useState({}),N=i.useRef({}),[f,v]=i.useState(0);console.log(d),console.log("리뷰 목록:",l),console.log("reviewIndex:",r);const k=i.useCallback(async()=>{console.log("지금 보내는 start_idx",r);try{const a=await C.get(`/api/review?strf_id=${t}&start_idx=${r}`);console.log("리뷰 불러오기:",a.data),c([...l,...a.data.dtoList]),o(a.data.more)}catch(a){console.log("리뷰 불러오기:",a)}},[r,l,t]),M=async()=>{try{const a=await te.get(`/api/detail/count?strf_id=${t}`);v(a.data.data),console.log("리뷰 수:",a)}catch(a){console.error("리뷰 수 불러오기 실패:",a)}};return i.useEffect(()=>{k()},[r]),i.useEffect(()=>{M()},[t]),i.useEffect(()=>{const a={};l.forEach((h,b)=>{const g=N.current[b];if(g){const y=parseInt(window.getComputedStyle(g).lineHeight),S=g.scrollHeight;a[b]=S>y*3}}),j(a)},[l]),e.jsxs("div",{children:[e.jsxs("p",{className:"text-base text-slate-700 px-4",children:[e.jsx("span",{className:"font-semibold text-primary",children:f}),"개의 리뷰"]}),l?e.jsx("ul",{children:l==null?void 0:l.map((a,h)=>{const b=n[h];return e.jsxs("li",{className:"flex flex-col gap-3 py-8 border-b border-slate-200 px-4 last:border-none",children:[e.jsxs("div",{className:"flex flex-col gap-[6px]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`${se}/${a.writerUserId}/${a.writerUserPic}`,alt:"pofilePic",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"font-semibold text-slate-700 text-base",children:a.writerUserName})]}),e.jsxs("div",{className:"flex gap-[6px] items-center",children:[e.jsx(ge,{className:"text-base text-slate-300"}),e.jsx("p",{className:"font-semibold text-sm text-slate-500",children:a.userWriteReviewCnt})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-[6px]",children:[e.jsx(be,{disabled:!0,count:5,value:a.rating,className:"custom-review-rate"}),e.jsx("p",{className:"font-semibold text-sm text-slate-700",children:a.rating})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-slate-500",children:a.reviewWriteDate.split(" ")[0].replace(/-/g,".")})})]})]}),e.jsxs("div",{children:[e.jsx("p",{ref:g=>N.current[h]=g,className:`text-sm tracking-tight ${m===h?"":"line-clamp-3"}`,children:a.content}),b&&m!==h&&e.jsx("button",{type:"button",className:"text-primary text-sm font-semibold mt-[6px]",onClick:()=>x(h),children:"더보기"})]}),a.reviewPic&&a.reviewPic.length>0&&e.jsx(je,{reviewPics:a,type:"review"})]},h)})}):e.jsx("ul",{children:e.jsx("li",{className:"flex flex-col gap-[20px] py-[30px] border-b border-slate-200"})}),d===!0&&e.jsx("button",{type:"button",className:"w-full py-[20px] rounded-lg border border-slate-300",onClick:()=>u(a=>a+10),children:"리뷰 더보기"})]})},Ae=i.memo(Ee),Le=({open:t,onClose:s})=>{const[l,c]=i.useState([]),d=R();console.log(t);const o=async()=>{try{const r=await C.get("/api/trip-list");c(r.data.data.beforeTripList)}catch(r){console.log("여행 목록 불러오기:",r)}};return i.useEffect(()=>{o()},[]),e.jsx("div",{children:e.jsx($.div,{tabIndex:-1,className:"max-w-[768px] w-full left-1/2 -translate-x-1/2 fixed inset-0 bg-black/50 flex justify-center items-end z-50 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(),children:e.jsxs($.div,{className:" bg-white w-full rounded-t-3xl py-5 shadow-lg",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0,bottom:100},dragElastic:.2,onDragEnd:(r,u)=>{u.offset.y>100&&s()},onClick:r=>r.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1 bg-slate-400 rounded-full mx-auto mb-4"}),e.jsxs("div",{onClick:()=>d("/search/location"),className:"w-auto h-auto p-5 bg-slate-50 rounded-lg flex items-center gap-5 mx-3 cursor-pointer mb-4",children:[e.jsx("i",{className:"inline-block p-[10px] bg-primary rounded-full",children:e.jsx(le,{className:"text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"text-lg text-slate-700 font-semibold",children:"여행 일정 만들기"})})]}),e.jsx("div",{className:"px-3",children:l.map(r=>e.jsxs("div",{className:"flex items-center gap-3 w-full bg-slate-50 p-5 rounded-lg mb-3 cursor-pointer",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("img",{src:`${ae}/${r.locationPic}`,alt:r.title,className:"w-full h-full"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-base text-slate-700 font-semibold",children:r.title}),e.jsxs("p",{className:"text-sm text-slate-500 tracking-tight",children:[r.startAt.replace(/-/g,".")," -"," ",r.endAt.replace(/-/g,".")]})]})]}))})]})})})},ze=({open:t,onClose:s})=>(console.log(t),e.jsx($.div,{tabIndex:-1,className:"max-w-[768px] w-full left-1/2 -translate-x-1/2 fixed inset-0 bg-black/50 flex justify-center items-end z-[9999] overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(),children:e.jsx($.div,{className:" bg-white w-full rounded-t-3xl py-5 shadow-lg",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0,bottom:100},dragElastic:.2,onDragEnd:(l,c)=>{c.offset.y>100&&s()},onClick:l=>l.stopPropagation(),children:e.jsx("div",{})})})),Ye=({strfId:t,contentData:s})=>{const[,l]=i.useState({isRegistModalOpen:!1,openPathModal:!1,isReviewModalOpen:!1}),[c]=re(we),[d,o]=i.useState(!1),[r,u]=i.useState(!1),m=R(),x=()=>{l(n=>({...n,isReviewModalOpen:!0})),m(`/contents/postreview?strfId=${t}`,{state:s})};return e.jsxs("div",{className:"sticky bottom-0 left-0 z-50 w-full px-4 py-5 flex gap-3 bg-white border-t-[1px] border-slate-100",children:[e.jsx(P,{onClick:()=>o(!d),icon:e.jsx(X,{className:"!text-sm opacity-50 mb-[2px]"}),className:"flex items-center justify-center gap-[6px] border-slate-200 rounded-lg w-full h-auto py-[14px] text-lg text-slate-700 ",children:"일정 추가"}),e.jsx(P,{onClick:()=>{x()},icon:e.jsx(ie,{className:"text-sm opacity-50 mb-[2px]"}),className:"flex items-center justify-center gap-[6px]  border-slate-200 rounded-lg w-full  h-auto py-[14px] text-lg text-slate-700 ",children:"리뷰쓰기"}),d&&e.jsx(Le,{open:d,onClose:()=>o(!1)}),c.nowTripId!==0&&r&&e.jsx(ze,{open:r,onClose:()=>u(!1)})]})},He=L.forwardRef(function(s,l){let{map:c,position:d,marker:o,children:r,altitude:u,disableAutoPan:m,range:x,removable:n,zIndex:j,onCreate:N}=s;const f=i.useMemo(()=>{const k=document.createElement("div");return k.style.display="none",new kakao.maps.InfoWindow({altitude:u,disableAutoPan:m,range:x,removable:n,zIndex:j,content:k,position:d})},[m,n]),v=i.useMemo(()=>f.getContent(),[f]);return i.useImperativeHandle(l,()=>f,[f]),i.useLayoutEffect(()=>(f.open(c,o),()=>{f.close()}),[c,o]),i.useLayoutEffect(()=>{N&&N(f)},[f,N]),w(f,"setPosition",d),w(f,"setAltitude",u),w(f,"setRange",x),w(f,"setZIndex",j),oe.createPortal(r,v.parentElement??v)}),Be=L.forwardRef(function(s,l){let{map:c,position:d,children:o,altitude:r,clickable:u,draggable:m,image:x,infoWindowOptions:n,onCreate:j,onClick:N,onDragEnd:f,onDragStart:v,onMouseOut:k,onMouseOver:M,opacity:a,range:h,title:b,zIndex:g}=s;const y=i.useContext(Ne),S=i.useMemo(()=>{var T,z,Y,H,B,F,O,_,U,K,q,Z;return x&&new kakao.maps.MarkerImage(x.src,new kakao.maps.Size(x.size.width,x.size.height),{alt:(T=x.options)==null?void 0:T.alt,coords:(z=x.options)==null?void 0:z.coords,offset:((Y=x.options)==null?void 0:Y.offset)&&new kakao.maps.Point((H=x.options)==null?void 0:H.offset.x,(B=x.options)==null?void 0:B.offset.y),shape:(F=x.options)==null?void 0:F.shape,spriteOrigin:((O=x.options)==null?void 0:O.spriteOrigin)&&new kakao.maps.Point((_=x.options)==null?void 0:_.spriteOrigin.x,(U=x.options)==null?void 0:U.spriteOrigin.y),spriteSize:((K=x.options)==null?void 0:K.spriteSize)&&new kakao.maps.Size((q=x.options)==null?void 0:q.spriteSize.width,(Z=x.options)==null?void 0:Z.spriteSize.height)})},[JSON.stringify(x)]),p=i.useMemo(()=>new kakao.maps.Marker({altitude:r,clickable:u,draggable:m,image:S,opacity:a,range:h,title:b,zIndex:g,position:d}),[]);return i.useImperativeHandle(l,()=>p,[p]),i.useLayoutEffect(()=>y?(y.addMarker(p,!0),()=>y.removeMarker(p,!0)):(p.setMap(c),()=>p.setMap(null)),[c,y,p]),i.useLayoutEffect(()=>{j&&j(p)},[p,j]),w(p,"setPosition",d),w(p,"setImage",S),w(p,"setAltitude",r),w(p,"setClickable",u),w(p,"setDraggable",m),w(p,"setOpacity",a),w(p,"setRange",h),w(p,"setRange",h),w(p,"setTitle",b),w(p,"setTitle",b),w(p,"setZIndex",g),I(p,"click",N),I(p,"dragstart",v),I(p,"dragend",f),I(p,"mouseout",k),I(p,"mouseover",M),o?e.jsx(He,{position:d,map:c,marker:p,altitude:n==null?void 0:n.altitude,disableAutoPan:n==null?void 0:n.disableAutoPan,range:n==null?void 0:n.range,removable:n==null?void 0:n.removable,zIndex:n==null?void 0:n.zIndex,children:o}):null}),Fe=L.forwardRef(function(s,l){let{position:c,...d}=s;const o=ye("MapMarker"),r=i.useMemo(()=>"lat"in c?new kakao.maps.LatLng(c.lat,c.lng):new kakao.maps.Coords(c.x,c.y).toLatLng(),[c.lat,c.lng,c.x,c.y]);return e.jsx(Be,{map:o,position:r,...d,ref:l})}),Oe=({contentData:t})=>{const[s,l]=i.useState(!1),[c,d]=i.useState({lat:0,lng:0}),o={lat:(t==null?void 0:t.latit)||35.868358,lng:(t==null?void 0:t.longitude)||128.593778};return i.useEffect(()=>{const r=document.createElement("script");return r.async=!0,r.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1227efa5c91b2ace09ab915e643a15c9&autoload=false",r.addEventListener("load",()=>{window.kakao.maps.load(()=>{l(!0)})}),document.head.appendChild(r),()=>{document.head.removeChild(r)}},[]),s?e.jsx("div",{children:e.jsx(ve,{center:o,style:{width:"100%",aspectRatio:"4 / 2",minHeight:"200px",borderRadius:"8px"},level:5,children:e.jsx(Fe,{position:o})})}):e.jsx("div",{children:"지도를 불러오는 중입니다..."})},_e=i.memo(Oe),Ue=({contentData:t})=>{const[s,l]=i.useState(!1),[c,d]=i.useState(!1),o=i.useRef(null);return i.useEffect(()=>{o.current&&d(o.current.scrollHeight>o.current.clientHeight)},[t==null?void 0:t.detail]),e.jsxs("div",{children:[e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"소개"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("p",{ref:o,className:`text-base text-slate-500 ${s?"":"line-clamp-5"}`,children:t==null?void 0:t.detail}),c&&!s&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/100 to-white/0"})]}),c&&e.jsx(P,{onClick:()=>l(r=>!r),className:"w-full h-auto py-[14px] border border-slate-300 rounded-lg",children:s?"숨기기":"펼치기"})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"위치"}),e.jsx(_e,{contentData:t}),e.jsx("div",{children:e.jsxs("dl",{className:"mt-4 px-4 py-6 bg-slate-50 rounded-lg",children:[e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"주소"}),e.jsxs("dd",{className:"text-base text-slate-500 mb-1",children:["(",t==null?void 0:t.post,") ",t==null?void 0:t.address]}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"전화"}),e.jsx("dd",{className:"text-base text-slate-500 mb-1",children:"062-610-7000"}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"사업자번호"}),e.jsx("dd",{className:"text-base text-slate-500",children:"410-86-60209"})]})})]})]})},Ke=({strfId:t,contentData:s})=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:`${ce}/${t}/${s==null?void 0:s.strfPics[0].strfPics}`,alt:(s==null?void 0:s.strfTitle)||"",className:"w-full"})}),e.jsxs("div",{className:"px-4 py-3 flex flex-col gap-2",children:[e.jsx("p",{className:"text-sm text-slate-500 -mb-[6px]",children:me(s==null?void 0:s.category)}),e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:s==null?void 0:s.strfTitle}),e.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-[6px]",children:[e.jsx(X,{className:" text-slate-300"}),s==null?void 0:s.address]}),e.jsxs("ul",{className:"flex items-center gap-[6px]",children:[e.jsx("li",{children:e.jsx(ke,{className:"text-primary text-base"})}),e.jsx("li",{className:"text-sm text-slate-700 font-semibold",children:s==null?void 0:s.ratingAvg}),e.jsxs("li",{className:"text-sm text-primary underline",children:["리뷰 ",s==null?void 0:s.reviewCnt.toLocaleString(),"개"]}),e.jsx("li",{className:"text-slate-300 text-base mx-1",children:"|"}),e.jsx("li",{className:"text-lg text-slate-400",children:s!=null&&s.wishIn?e.jsx(G,{className:"text-secondary3"}):e.jsx(V,{})}),e.jsx("li",{className:"text-slate-500 text-sm",children:s==null?void 0:s.wishCnt})]}),e.jsx("div",{children:e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500",children:[e.jsx(Q,{className:"text-sm"}),s!=null&&s.restDate&&s.restDate.length>0?s.restDate.map(l=>` ${pe(l)}요일 휴무 `):"매일",s==null?void 0:s.openCheck.replace(/:\d{2}$/,"")," ~",s==null?void 0:s.closeCheck.replace(/:\d{2}$/,"")]})})]})]}),qe=({scrollEvent:t=!0,strfId:s,contentData:l,getDetailMember:c})=>{const[d,o]=i.useState(!1),r=R(),u=async()=>{const n={strfId:s};console.log("찜하기 데이터:",n);try{const j=await C.post("/api/wish-list",{...n});console.log("찜하기",j.data),j.data.code==="200 성공"&&c()}catch(j){console.log("찜하기",j)}};i.useEffect(()=>{if(!t){o(!1);return}const n=()=>{window.scrollY>0?o(!0):o(!1)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[t]);const m=window.location.href,x=async()=>{try{await navigator.clipboard.writeText(m)}catch(n){console.error("복사 실패",n)}};return console.log("currentUri",m),e.jsx("div",{className:`max-w-[768px] w-full px-4  fixed top-0 left-1/2 -translate-x-1/2 z-10
        duration-300 ${t?d?"bg-white text-slate-700":"bg-transparent text-white":"bg-transparent"}`,children:e.jsxs("div",{className:"flex justify-between items-center h-[60px]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"text-3xl min-w-7 cursor-pointer",onClick:()=>r(-1)}),e.jsx("h2",{className:"font-semibold text-lg line-clamp-1",children:l==null?void 0:l.strfTitle})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[l!=null&&l.wishIn?e.jsx(G,{className:`text-2xl cursor-pointer ${scrollY>0?"text-secondary3":"text-white"}`,onClick:u}):e.jsx(V,{className:`text-2xl cursor-pointer ${scrollY>0?"text-slate-700":"text-white"}`,onClick:u}),e.jsx(Ce,{className:"!rounded-2xl",content:e.jsxs("div",{className:"flex items-center justify-between gap-3 bg-slate-100 pl-3 pr-1 py-1 rounded-lg",children:[e.jsx("p",{className:"line-clamp-1 w-[189px]",children:m}),e.jsxs("button",{onClick:()=>x(),className:" flex items-center gap-1 bg-primary px-3 py-1 rounded-lg text-white",children:[e.jsx(ue,{}),"복사"]})]}),trigger:"click",getPopupContainer:n=>n.parentElement||document.body,children:e.jsx(de,{className:" text-2xl cursor-pointer"})})]})]})})},Es=()=>{const[t,s]=i.useState(null),[l,c]=i.useState([]),[d]=xe(),o=Number(d.get("strfId"))||0,r=async()=>{try{const m=await C.get(`/api/detail/member?&strf_id=${o}`);m.data.data,console.log("상품조회-회원",m.data.data),s(m.data.data)}catch(m){console.log("상품조회-회원",m)}},u=async()=>{try{const m=await C.get(`/api/detail/menu?strf_id=${o}`);c(m.data.data),console.log("상품조회-메뉴",m.data.data)}catch(m){console.log("상품조회-메뉴",m)}};return i.useEffect(()=>{u(),r()},[]),e.jsxs("div",{children:[t&&e.jsx(qe,{strfId:o,contentData:t,getDetailMember:r}),e.jsx("section",{children:t&&e.jsx(Ke,{strfId:o,contentData:t})}),l&&e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{children:[(t==null?void 0:t.category)==="STAY"&&e.jsx(Te,{strfId:o,menuData:l,contentData:t}),(t==null?void 0:t.category)==="RESTAUR"&&e.jsx(Pe,{strfId:o,menuData:l}),((t==null?void 0:t.category)==="TOUR"||(t==null?void 0:t.category)==="FEST")&&e.jsx($e,{strfId:o,menuData:l})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"})]}),(t==null?void 0:t.category)==="STAY"&&e.jsxs(e.Fragment,{children:[e.jsx("section",{children:e.jsx(Se,{strfId:o})}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"})]}),e.jsx("section",{children:e.jsx(Me,{defaultActiveKey:"1",centered:!0,className:"custom-strf-tabs",items:[{label:"상세정보",key:"1",children:e.jsx(e.Fragment,{children:t&&e.jsx(Ue,{strfId:o,contentData:t})})},{label:"리뷰",key:"2",children:e.jsx(e.Fragment,{children:t&&e.jsx(Ae,{strfId:o,contentData:t})})}]})}),t&&e.jsx(Ye,{strfId:o,contentData:t})]})};export{Es as default};
