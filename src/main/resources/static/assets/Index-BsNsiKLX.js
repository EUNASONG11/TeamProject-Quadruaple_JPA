import{u,j as e,r,i as R,X as A,g as C,R as P,k as F,F as B,d as E,b as z}from"./index-H5Y2xFEd.js";import{c as Y}from"./index-Cnc6HU17.js";import{C as H}from"./TitleHeader-X3y5oUDx.js";/* empty css               */import{S as g,a as N}from"./swiper-react-BOiOtV5W.js";import{a as b,L as O}from"./pic-Jp7D6aQ0.js";import{A as y,a as k}from"./index-CzD9Fb6d.js";import{R as V}from"./index-DIA0nrpJ.js";import{F as _}from"./Footer-CYw-NSMR.js";/* empty css                    */import"./UserTrips-QjL_Bwhs.js";import{I as M}from"./index-2avQ3JeW.js";import"./useId-D0Wg6OZK.js";import"./index-BQMakcS5.js";import"./index-DCcoDUJV.js";import"./Portal-C5aUVE5q.js";import"./useSize-e4lHQDv7.js";import"./ContextIsolator-CBJzkMqA.js";import"./context-DieX9Lv6.js";import"./button-CWLWs435.js";import"./index-C-g4QCjD.js";import"./index-DFVhX-h-.js";import"./collapse-BbEVqHco.js";import"./index-yAcEqhNQ.js";import"./useLocale-DZ4ADMTj.js";import"./index-CeBGZAtP.js";import"./BaseInput-wj3I2EyG.js";const U=({festivities:a})=>{const l=u();return e.jsx("div",{children:e.jsx(g,{slidesPerView:1.5,spaceBetween:16,className:"mySwiper",children:a.map(s=>e.jsxs(N,{className:"!h-[600px] cursor-pointer relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("img",{src:`${b}${s.strfId}/${s.strfPic}`,alt:s.festTitle,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-[60px] right-[30px] text-right z-[99]",children:[s.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2.5 py-1 rounded-md font-light mb-1.5",children:"개최중"}),e.jsx("h2",{className:"text-3xl font-medium mb-1.5",style:{wordBreak:"auto-phrase"},children:s.festTitle}),e.jsxs("h4",{className:"text-2xl font-medium mb-1.5",children:[s.startAt.replaceAll("-","."),"~",s.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-base font-",children:s.locationTitle})]})]},s.strfId))})})},D=({locations:a})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(g,{slidesPerView:4,spaceBetween:16,className:"mySwiper ",children:a.map((l,s)=>e.jsxs(N,{className:"relative pt-[40px]",children:[e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-[36px] h-[36px] leading-[36px] rounded-full left-1/2 top-[24px] -translate-x-1/2 text-center inline-block text-lg",children:s+1}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden h-[226px]",children:[e.jsx("img",{src:`${O}${l.locationPic}`,alt:l.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white text-base",children:[e.jsx("p",{children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-2xl mt-1",children:l.locationTitle})]})]})]},l.locationId))})]}),G=({recent:a,getMainList:l,setFestivities:s,setLocations:w,setRecent:j,setRecommend:v})=>{const d=u(),[c,m]=r.useState("STAY"),p={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},i=a.find(t=>t.category===c),f=async t=>{const h={strfId:t.strfId};console.log("찜하기 데이터:",h);try{const n=await axios.post("/api/wish-list",{...h},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",n.data),n.data.code==="200 성공"&&l()}catch(n){console.log("찜하기",n)}};return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"최근 본 목록"}),e.jsx("div",{children:a.map(t=>e.jsx("button",{onClick:()=>m(t.category),className:`px-5 py-2 border cursor-pointer mr-2.5 my-8 rounded-2xl ${c===t.category?"bg-primary text-white":"bg-white text-slate-500 border-1 border-slate-300"}`,children:p[t.category]},t.category))}),e.jsx("div",{className:" flex flex-wrap ",children:i==null?void 0:i.recent.slice(0,6).map(t=>e.jsxs("div",{className:"w-[50%] flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{d(`/contents/index?strfId=${t.strfId}`)},children:[e.jsxs("div",{className:"w-[164px] h-[164px] rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${b}${t.strfId}/${t.strfPic}`,alt:t.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>f(item),children:t.wishIn?e.jsx(y,{className:"text-secondary3 text-xl"}):e.jsx(k,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 break-keep",children:t.strfTitle}),e.jsxs("p",{className:"font-medium text-base text-slate-400",children:[t.locationName," · ",p[c]]}),e.jsx("div",{children:e.jsx(V,{disabled:!0,allowHalf:!0,defaultValue:t.averageRating})}),e.jsxs("div",{className:"flex text-slate-400 text-sm align-middle gap-1",children:[t.wishIn?e.jsx(y,{className:"text-secondary3 text-xl"}):e.jsx(k,{className:"text-slate-400 text-xl"}),t.wishCnt]})]})]},t.strfId))})]})},W=({recommend:a})=>{const l=u();return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mx-[32px]",children:"회원님에게 추천하는 여행지"}),e.jsx(g,{slidesPerView:1,className:"mySwiper relative mt-5 after:bg-slate-100 after:inline-block after:w-full after:h-72 after:absolute after:top-0 after:left-0 ",children:a.map(s=>e.jsxs(N,{className:"!flex align-middle justify-center gap-8 mt-12 px-8 cursor-pointer",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("p",{}),e.jsxs("div",{className:"mt-12 w-[50%]",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-3 rounded-2xl font-light text-xs",children:s.locationTitle}),e.jsx("h2",{className:"text-2xl font-medium break-keep",children:s.strfTitle}),e.jsx("p",{className:"text-lg font-normal text-slate-500 break-keep",children:s.explain}),e.jsxs(R,{to:"",className:"text-slate-400 flex align-middle font-light gap-1",children:["자세히보기 ",e.jsx(A,{className:"text-lg"})]})]}),e.jsx("img",{src:`${b}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-[400px] h-[300px] rounded-tr-[36px] rounded-bl-[36px]"})]},s.strfId))})]})},we=()=>{const a=C("accessToken"),[l,s]=r.useState([]),[w,j]=r.useState([]),[v,d]=r.useState([]),[c,m]=r.useState([]);r.useState(!1);const[p,i]=r.useState(0),f=async()=>{try{let o;a?o=await E.get("/api/home"):o=await z.get("/api/home"),console.log("메인",o.data.data);const{festivalList:S,locationList:T,recentList:$,recommendList:L}=o.data.data;s(S),j(T),d($),m(L)}catch(o){console.log(o)}};r.useEffect(()=>{f()},[]);const t=()=>{window.scrollY>0?i(!0):i(!1)};window.addEventListener("scroll",t);const[h,n]=P(F),x=u();r.useEffect(()=>{},[h]);const I=()=>{x("/search/strf")};return e.jsxs("div",{children:[e.jsxs("header",{className:`flex h-[60px] items-center px-[32px] max-w-3xl w-full sticky top-0 left-0 z-10 duration-300 ${p?"shadow-md":"shadow-none"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[160px] mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{x("/")}})}),e.jsxs("nav",{className:" flex gap-[16px]",children:[e.jsx(Y,{className:"text-3xl text-slate-400 cursor-pointer"}),e.jsx(H,{className:"text-3xl text-slate-400 cursor-pointer",onClick:()=>{x(a?"/user":"/signin")}})]})]}),e.jsxs("main",{className:"pb-[60px]",children:[e.jsx("section",{className:"mx-[32px] mt-[30px]",children:e.jsx(M,{className:"h-[60px] text-lg rounded-lg  !bg-slate-100 !border-slate-300  gap-[5px]",placeholder:"지금 어디로 여행을 떠나고  싶으신가요?",readOnly:!0,prefix:e.jsx(B,{className:"text-slate-400 text-2xl"}),onClick:()=>I()})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(U,{festivities:l})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(D,{locations:w})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx("img",{src:"/images/main-banner.png",alt:""})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(G,{recent:v,getMainList:f,setFestivities:s,setLocations:j,setRecent:d,setRecommend:m})}),e.jsx("section",{className:"mt-[70px]",children:e.jsx(W,{recommend:c})})]}),e.jsx(_,{})]})};export{we as default};
