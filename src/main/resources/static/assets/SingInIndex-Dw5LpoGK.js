import{g as d,k as F,t as U,u as _,r as l,s as m,j as e,l as h,B,L as D,m as b,q as g,e as A,a7 as R,d as K}from"./index-B0MRRT76.js";import{U as j}from"./api-RMrr9BxD.js";/* empty css                    */import{F as i}from"./index-BACgOSd_.js";import{C as v}from"./index-XmNvswlx.js";import"./motion-C3ndXrQk.js";import"./responsiveObserver-BKroisDd.js";import"./zoom-CJdJ6oGz.js";import"./Portal-Bx82L6C2.js";import"./index-C7M7czQ4.js";import"./index-DEcg2jMK.js";import"./index-CqV8RSPu.js";import"./useId-1HpSO0-f.js";import"./roundedArrow-xQaRV5wd.js";import"./useLocale-plFEjJLX.js";import"./Checkbox-3WGeYbAX.js";const O="/assets/logo_1-XpaFKeEm.png",P=window.location.origin,q=`${P}/signup/kakao`,z="http://112.222.157.157:5231",H=`${z}/oauth2/authorization/kakao?redirect_uri=${q}`,M=()=>{window.location.href=`${H}`},ne=()=>{const r=d("user"),k=r==null?void 0:r.email,[N]=i.useForm(),[,y]=F(U),n=_(),w=()=>{n("/")},E=()=>{n("/business")},[a,u]=l.useState("personal"),[c,I]=l.useState(r?r.isSaveLogin:!1),[x,p]=l.useState(r?r.isSaveEmail:!1),S=async s=>{var f;const $=a==="personal"?j.signInUser:j.signInBusiness;try{const o=await b.post(`${$}`,s);console.log("로그인 시도:",o.data);const t=o.data;return t.code==="200 성공"&&(m("accessToken",o.data.accessToken),m("user",{userId:o.data.userId,email:s.email,isSaveLogin:c,isSaveEmail:x,ProviderType:g.LOCAL,role:t.role,strfDtos:t.strfDtos}),y({userId:t.userId,accessToken:t.accessToken,role:[...t.role],providerType:g.LOCAL,strfDtos:t.strfDtos})),console.log(t.role),t.role.includes(A.BUSI)===!0?E():w(),t}catch(o){return console.log("로그인 에러:",o),b.isAxiosError(o)&&(console.log((f=o.response)==null?void 0:f.status),R.error(a==="personal"?"사업자 계정입니다. 개인회원 로그인을 부탁드립니다.":"개인회원 계정입니다. 사업자 로그인을 부탁드립니다.")),K("accessToken"),null}},C=s=>{S(s)},L=()=>{I(!c)},T=()=>{p(!p)};return l.useEffect(()=>{const s=d("user");m("user",{...s,isSaveLogin:!1})},[c]),l.useEffect(()=>{const s=d("user");m("user",{...s,isSaveEmail:!1,email:""})},[x]),l.useEffect(()=>{},[a]),e.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx("div",{className:" w-[44.2vw] max-w-[300px] h-auto ",children:e.jsx("img",{src:O,alt:"main_logo",className:"cursor-pointer",onClick:()=>{n("/")}})})}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-6",children:[e.jsx("div",{className:`text-base pb-2 ${a==="personal"?"text-primary":"text-slate-400"} 
          ${a==="personal"?"border-b-[2px] border-primary":"border-b-1 border-slate-200 hover:text-primary"}`,onClick:()=>u("personal"),children:"개인회원"}),e.jsx("div",{className:`text-base pb-2 ${a==="business"?"text-primary":"text-slate-400"}
          ${a==="business"?"border-b-[2px] border-primary":"border-b-1 border-slate-200 hover:text-primary"}`,onClick:()=>u("business"),children:"기업회원"})]}),e.jsx("div",{className:"w-full px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"w-full",children:[e.jsxs(i,{form:N,name:"register",className:"custom-form",onFinish:s=>C(s),scrollToFirstError:!0,children:[e.jsx(i.Item,{name:"email",label:"이메일",labelCol:{span:24},initialValue:k||"",className:"custom-input-item",children:e.jsx(h,{placeholder:"이메일을 입력하세요",style:{height:"48px"}})}),e.jsx(i.Item,{name:"pw",label:"비밀번호",labelCol:{span:24},className:"custom-input-item",children:e.jsx(h.Password,{placeholder:"비밀번호를 입력하세요",style:{height:"48px"}})}),e.jsxs("div",{className:"w-full flex items-center justify-start",children:[e.jsx(v,{checked:c,onChange:L,className:"text-slate-500 text-xs",children:"로그인 유지"}),e.jsx(v,{checked:x,onChange:T,className:"text-slate-500 text-xs",children:"아이디 저장"})]}),e.jsx(i.Item,{className:"m-0",children:e.jsx(B,{type:"primary",htmlType:"submit",block:!0,className:"font-semibold text-base h-12 my-4",children:"로그인"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-6",children:[e.jsx("button",{type:"button",className:"text-slate-500 text-xs sm:text-sm ",children:"아이디 찾기"}),e.jsx("span",{className:"text-slate-200",children:"|"}),e.jsx("button",{type:"button",className:"text-slate-500 text-xs sm:text-sm ",onClick:()=>n("/user/findpw"),children:"비밀번호 찾기"}),e.jsx("span",{className:"text-slate-200",children:"|"}),e.jsx(D,{to:"/signup/index",className:"text-slate-500 text-xs sm:text-sm ",children:"회원가입"})]})]}),e.jsxs("div",{className:`w-full ${a!=="business"?"visible":"invisible"}`,children:[e.jsx("p",{className:"text-slate-500 text-center text-sm relative my-4 before:absolute before:w-2/5 before:h-[1px] before:bg-slate-200 before:top-1/2 before:left-0 after:absolute after:w-2/5 after:h-[1px] after:bg-slate-200 after:top-1/2 after:right-0",children:"또는"}),e.jsxs("button",{type:"button",onClick:M,className:"w-full h-12 px-6 bg-[#FEE500] hover:bg-[#FEE500]/80 rounded-md flex items-center",children:[e.jsx("img",{src:"/images/kakaoIcon.svg",alt:"kakao"}),e.jsx("p",{className:"w-full text-center font-semibold text-base text-[#191600] ",children:"카카오 로그인"})]})]})]})})]})};export{ne as default};
