import{r as o,aq as ae,bA as Ma,au as Ca,_ as B,aO as hr,bt as wa,o as U,aK as Pa,bx as Sa,bJ as Da,by as Na,bK as La,aB as Ir,bL as ia,bM as Ta,ar as sa,bN as ua,as as ka}from"./index-DZF_lMwV.js";import{P as ba}from"./Portal-hI7XGsNB.js";import{u as Wa}from"./useId-DRiPHj_v.js";import{i as za}from"./isMobile-DjGTsQxe.js";function Ba(r){var n=r.prefixCls,e=r.align,t=r.arrow,u=r.arrowPos,l=t||{},c=l.className,f=l.content,m=u.x,g=m===void 0?0:m,H=u.y,h=H===void 0?0:H,b=o.useRef();if(!e||!e.points)return null;var v={position:"absolute"};if(e.autoArrow!==!1){var S=e.points[0],W=e.points[1],L=S[0],D=S[1],$=W[0],T=W[1];L===$||!["t","b"].includes(L)?v.top=h:L==="t"?v.top=0:v.bottom=0,D===T||!["l","r"].includes(D)?v.left=g:D==="l"?v.left=0:v.right=0}return o.createElement("div",{ref:b,className:ae("".concat(n,"-arrow"),c),style:v},f)}function Ha(r){var n=r.prefixCls,e=r.open,t=r.zIndex,u=r.mask,l=r.motion;return u?o.createElement(Ma,Ca({},l,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(c){var f=c.className;return o.createElement("div",{style:{zIndex:t},className:ae("".concat(n,"-mask"),f)})}):null}var $a=o.memo(function(r){var n=r.children;return n},function(r,n){return n.cache}),Ea=o.forwardRef(function(r,n){var e=r.popup,t=r.className,u=r.prefixCls,l=r.style,c=r.target,f=r.onVisibleChanged,m=r.open,g=r.keepDom,H=r.fresh,h=r.onClick,b=r.mask,v=r.arrow,S=r.arrowPos,W=r.align,L=r.motion,D=r.maskMotion,$=r.forceRender,T=r.getPopupContainer,q=r.autoDestroy,J=r.portal,s=r.zIndex,Sr=r.onMouseEnter,Dr=r.onMouseLeave,mr=r.onPointerEnter,Nr=r.onPointerDownCapture,Fr=r.ready,gr=r.offsetX,yr=r.offsetY,ir=r.offsetR,Mr=r.offsetB,K=r.onAlign,Cr=r.onPrepare,E=r.stretch,x=r.targetWidth,d=r.targetHeight,xr=typeof e=="function"?e():e,rr=m||g,F=(T==null?void 0:T.length)>0,y=o.useState(!T||!F),G=B(y,2),Ar=G[0],ne=G[1];if(hr(function(){!Ar&&F&&c&&ne(!0)},[Ar,F,c]),!Ar)return null;var ur="auto",Q={left:"-1000vw",top:"-1000vh",right:ur,bottom:ur};if(Fr||!m){var Lr,Vr=W.points,I=W.dynamicInset||((Lr=W._experimental)===null||Lr===void 0?void 0:Lr.dynamicInset),lr=I&&Vr[0][1]==="r",er=I&&Vr[0][0]==="b";lr?(Q.right=ir,Q.left=ur):(Q.left=gr,Q.right=ur),er?(Q.bottom=Mr,Q.top=ur):(Q.top=yr,Q.bottom=ur)}var j={};return E&&(E.includes("height")&&d?j.height=d:E.includes("minHeight")&&d&&(j.minHeight=d),E.includes("width")&&x?j.width=x:E.includes("minWidth")&&x&&(j.minWidth=x)),m||(j.pointerEvents="none"),o.createElement(J,{open:$||rr,getContainer:T&&function(){return T(c)},autoDestroy:q},o.createElement(Ha,{prefixCls:u,open:m,zIndex:s,mask:b,motion:D}),o.createElement(wa,{onResize:K,disabled:!m},function(te){return o.createElement(Ma,Ca({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:$,leavedClassName:"".concat(u,"-hidden")},L,{onAppearPrepare:Cr,onEnterPrepare:Cr,visible:m,onVisibleChanged:function(_){var vr;L==null||(vr=L.onVisibleChanged)===null||vr===void 0||vr.call(L,_),f(_)}}),function(Tr,_){var vr=Tr.className,Rr=Tr.style,A=ae(u,vr,t);return o.createElement("div",{ref:Pa(te,n,_),className:A,style:U(U(U(U({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},Q),j),Rr),{},{boxSizing:"border-box",zIndex:s},l),onMouseEnter:Sr,onMouseLeave:Dr,onPointerEnter:mr,onClick:h,onPointerDownCapture:Nr},v&&o.createElement(Ba,{prefixCls:u,arrow:v,arrowPos:S,align:W}),o.createElement($a,{cache:!m&&!H},xr))})}))}),Fa=o.forwardRef(function(r,n){var e=r.children,t=r.getTriggerDOMNode,u=Sa(e),l=o.useCallback(function(f){Da(n,t?t(f):f)},[t]),c=Na(l,La(e));return u?o.cloneElement(e,{ref:c}):e}),ca=o.createContext(null);function fa(r){return r?Array.isArray(r)?r:[r]:[]}function xa(r,n,e,t){return o.useMemo(function(){var u=fa(e??n),l=fa(t??n),c=new Set(u),f=new Set(l);return r&&(c.has("hover")&&(c.delete("hover"),c.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[c,f]},[r,n,e,t])}function Aa(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===n[0]:r[0]===n[0]&&r[1]===n[1]}function Va(r,n,e,t){for(var u=e.points,l=Object.keys(r),c=0;c<l.length;c+=1){var f,m=l[c];if(Aa((f=r[m])===null||f===void 0?void 0:f.points,u,t))return"".concat(n,"-placement-").concat(m)}return""}function da(r,n,e,t){return n||(e?{motionName:"".concat(r,"-").concat(e)}:t?{motionName:t}:null)}function me(r){return r.ownerDocument.defaultView}function la(r){for(var n=[],e=r==null?void 0:r.parentElement,t=["hidden","scroll","clip","auto"];e;){var u=me(e).getComputedStyle(e),l=u.overflowX,c=u.overflowY,f=u.overflow;[l,c,f].some(function(m){return t.includes(m)})&&n.push(e),e=e.parentElement}return n}function he(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?n:r}function de(r){return he(parseFloat(r),0)}function ha(r,n){var e=U({},r);return(n||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var u=me(t).getComputedStyle(t),l=u.overflow,c=u.overflowClipMargin,f=u.borderTopWidth,m=u.borderBottomWidth,g=u.borderLeftWidth,H=u.borderRightWidth,h=t.getBoundingClientRect(),b=t.offsetHeight,v=t.clientHeight,S=t.offsetWidth,W=t.clientWidth,L=de(f),D=de(m),$=de(g),T=de(H),q=he(Math.round(h.width/S*1e3)/1e3),J=he(Math.round(h.height/b*1e3)/1e3),s=(S-W-$-T)*q,Sr=(b-v-L-D)*J,Dr=L*J,mr=D*J,Nr=$*q,Fr=T*q,gr=0,yr=0;if(l==="clip"){var ir=de(c);gr=ir*q,yr=ir*J}var Mr=h.x+Nr-gr,K=h.y+Dr-yr,Cr=Mr+h.width+2*gr-Nr-Fr-s,E=K+h.height+2*yr-Dr-mr-Sr;e.left=Math.max(e.left,Mr),e.top=Math.max(e.top,K),e.right=Math.min(e.right,Cr),e.bottom=Math.min(e.bottom,E)}}),e}function ma(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(n),t=e.match(/^(.*)\%$/);return t?r*(parseFloat(t[1])/100):parseFloat(e)}function ga(r,n){var e=n||[],t=B(e,2),u=t[0],l=t[1];return[ma(r.width,u),ma(r.height,l)]}function ya(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function ee(r,n){var e=n[0],t=n[1],u,l;return e==="t"?l=r.y:e==="b"?l=r.y+r.height:l=r.y+r.height/2,t==="l"?u=r.x:t==="r"?u=r.x+r.width:u=r.x+r.width/2,{x:u,y:l}}function Er(r,n){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(t,u){return u===n?e[t]||"c":t}).join("")}function Ra(r,n,e,t,u,l,c){var f=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:u[t]||{}}),m=B(f,2),g=m[0],H=m[1],h=o.useRef(0),b=o.useMemo(function(){return n?la(n):[]},[n]),v=o.useRef({}),S=function(){v.current={}};r||S();var W=Ir(function(){if(n&&e&&r){let p=function(re,Hr){var $r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ge,fe=y.x+re,$e=y.y+Hr,aa=fe+lr,na=$e+I,ta=Math.max(fe,$r.left),a=Math.max($e,$r.top),i=Math.min(aa,$r.right),P=Math.min(na,$r.bottom);return Math.max(0,(i-ta)*(P-a))},He=function(){Jr=y.y+w,Kr=Jr+I,br=y.x+M,Xr=br+lr};var $,T,q,J,s=n,Sr=s.ownerDocument,Dr=me(s),mr=Dr.getComputedStyle(s),Nr=mr.width,Fr=mr.height,gr=mr.position,yr=s.style.left,ir=s.style.top,Mr=s.style.right,K=s.style.bottom,Cr=s.style.overflow,E=U(U({},u[t]),l),x=Sr.createElement("div");($=s.parentElement)===null||$===void 0||$.appendChild(x),x.style.left="".concat(s.offsetLeft,"px"),x.style.top="".concat(s.offsetTop,"px"),x.style.position=gr,x.style.height="".concat(s.offsetHeight,"px"),x.style.width="".concat(s.offsetWidth,"px"),s.style.left="0",s.style.top="0",s.style.right="auto",s.style.bottom="auto",s.style.overflow="hidden";var d;if(Array.isArray(e))d={x:e[0],y:e[1],width:0,height:0};else{var xr,rr,F=e.getBoundingClientRect();F.x=(xr=F.x)!==null&&xr!==void 0?xr:F.left,F.y=(rr=F.y)!==null&&rr!==void 0?rr:F.top,d={x:F.x,y:F.y,width:F.width,height:F.height}}var y=s.getBoundingClientRect();y.x=(T=y.x)!==null&&T!==void 0?T:y.left,y.y=(q=y.y)!==null&&q!==void 0?q:y.top;var G=Sr.documentElement,Ar=G.clientWidth,ne=G.clientHeight,ur=G.scrollWidth,Q=G.scrollHeight,Lr=G.scrollTop,Vr=G.scrollLeft,I=y.height,lr=y.width,er=d.height,j=d.width,te={left:0,top:0,right:Ar,bottom:ne},Tr={left:-Vr,top:-Lr,right:ur-Vr,bottom:Q-Lr},_=E.htmlRegion,vr="visible",Rr="visibleFirst";_!=="scroll"&&_!==Rr&&(_=vr);var A=_===Rr,xe=ha(Tr,b),C=ha(te,b),ge=_===vr?C:xe,Ur=A?C:ge;s.style.left="auto",s.style.top="auto",s.style.right="0",s.style.bottom="0";var V=s.getBoundingClientRect();s.style.left=yr,s.style.top=ir,s.style.right=Mr,s.style.bottom=K,s.style.overflow=Cr,(J=s.parentElement)===null||J===void 0||J.removeChild(x);var kr=he(Math.round(lr/parseFloat(Nr)*1e3)/1e3),wr=he(Math.round(I/parseFloat(Fr)*1e3)/1e3);if(kr===0||wr===0||ia(e)&&!Ta(e))return;var Ae=E.offset,Ve=E.targetOffset,ye=ga(y,Ae),ar=B(ye,2),nr=ar[0],X=ar[1],Re=ga(d,Ve),jr=B(Re,2),Y=jr[0],Wr=jr[1];d.x-=Y,d.y-=Wr;var Ue=E.points||[],Me=B(Ue,2),je=Me[0],qe=Me[1],sr=ya(qe),Z=ya(je),oe=ee(d,sr),R=ee(y,Z),zr=U({},E),M=oe.x-R.x+nr,w=oe.y-R.y+X,tr=p(M,w),qr=p(M,w,C),ie=ee(d,["t","l"]),O=ee(y,["t","l"]),Ce=ee(d,["b","r"]),ue=ee(y,["b","r"]),Br=E.overflow||{},we=Br.adjustX,Je=Br.adjustY,le=Br.shiftX,_r=Br.shiftY,ve=function(Hr){return typeof Hr=="boolean"?Hr:Hr>=0},Jr,Kr,br,Xr;He();var Gr=ve(Je),be=Z[0]===sr[0];if(Gr&&Z[0]==="t"&&(Kr>Ur.bottom||v.current.bt)){var z=w;be?z-=I-er:z=ie.y-ue.y-X;var Pe=p(M,z),Ke=p(M,z,C);Pe>tr||Pe===tr&&(!A||Ke>=qr)?(v.current.bt=!0,w=z,X=-X,zr.points=[Er(Z,0),Er(sr,0)]):v.current.bt=!1}if(Gr&&Z[0]==="b"&&(Jr<Ur.top||v.current.tb)){var Qr=w;be?Qr+=I-er:Qr=Ce.y-O.y-X;var Se=p(M,Qr),Ge=p(M,Qr,C);Se>tr||Se===tr&&(!A||Ge>=qr)?(v.current.tb=!0,w=Qr,X=-X,zr.points=[Er(Z,0),Er(sr,0)]):v.current.tb=!1}var De=ve(we),Ne=Z[1]===sr[1];if(De&&Z[1]==="l"&&(Xr>Ur.right||v.current.rl)){var Zr=M;Ne?Zr-=lr-j:Zr=ie.x-ue.x-nr;var Le=p(Zr,w),Yr=p(Zr,w,C);Le>tr||Le===tr&&(!A||Yr>=qr)?(v.current.rl=!0,M=Zr,nr=-nr,zr.points=[Er(Z,1),Er(sr,1)]):v.current.rl=!1}if(De&&Z[1]==="r"&&(br<Ur.left||v.current.lr)){var Pr=M;Ne?Pr+=lr-j:Pr=Ce.x-O.x-nr;var Te=p(Pr,w),ke=p(Pr,w,C);Te>tr||Te===tr&&(!A||ke>=qr)?(v.current.lr=!0,M=Pr,nr=-nr,zr.points=[Er(Z,1),Er(sr,1)]):v.current.lr=!1}He();var cr=le===!0?0:le;typeof cr=="number"&&(br<C.left&&(M-=br-C.left-nr,d.x+j<C.left+cr&&(M+=d.x-C.left+j-cr)),Xr>C.right&&(M-=Xr-C.right-nr,d.x>C.right-cr&&(M+=d.x-C.right+cr)));var or=_r===!0?0:_r;typeof or=="number"&&(Jr<C.top&&(w-=Jr-C.top-X,d.y+er<C.top+or&&(w+=d.y-C.top+er-or)),Kr>C.bottom&&(w-=Kr-C.bottom-X,d.y>C.bottom-or&&(w+=d.y-C.bottom+or)));var Or=y.x+M,pr=Or+lr,fr=y.y+w,Qe=fr+I,We=d.x,Ze=We+j,se=d.y,Ie=se+er,_e=Math.max(Or,We),Xe=Math.min(pr,Ze),ze=(_e+Xe)/2,Ye=ze-Or,Oe=Math.max(fr,se),Be=Math.min(Qe,Ie),pe=(Oe+Be)/2,ra=pe-fr;c==null||c(n,zr);var ce=V.right-y.x-(M+y.width),dr=V.bottom-y.y-(w+y.height);kr===1&&(M=Math.round(M),ce=Math.round(ce)),wr===1&&(w=Math.round(w),dr=Math.round(dr));var ea={ready:!0,offsetX:M/kr,offsetY:w/wr,offsetR:ce/kr,offsetB:dr/wr,arrowX:Ye/kr,arrowY:ra/wr,scaleX:kr,scaleY:wr,align:zr};H(ea)}}),L=function(){h.current+=1;var T=h.current;Promise.resolve().then(function(){h.current===T&&W()})},D=function(){H(function(T){return U(U({},T),{},{ready:!1})})};return hr(D,[t]),hr(function(){r||D()},[r]),[g.ready,g.offsetX,g.offsetY,g.offsetR,g.offsetB,g.arrowX,g.arrowY,g.scaleX,g.scaleY,g.align,L]}function Ua(r,n,e,t,u){hr(function(){if(r&&n&&e){let h=function(){t(),u()};var l=n,c=e,f=la(l),m=la(c),g=me(c),H=new Set([g].concat(sa(f),sa(m)));return H.forEach(function(b){b.addEventListener("scroll",h,{passive:!0})}),g.addEventListener("resize",h,{passive:!0}),t(),function(){H.forEach(function(b){b.removeEventListener("scroll",h),g.removeEventListener("resize",h)})}}},[r,n,e])}function ja(r,n,e,t,u,l,c,f){var m=o.useRef(r);m.current=r;var g=o.useRef(!1);o.useEffect(function(){if(n&&t&&(!u||l)){var h=function(){g.current=!1},b=function(L){var D;m.current&&!c(((D=L.composedPath)===null||D===void 0||(D=D.call(L))===null||D===void 0?void 0:D[0])||L.target)&&!g.current&&f(!1)},v=me(t);v.addEventListener("pointerdown",h,!0),v.addEventListener("mousedown",b,!0),v.addEventListener("contextmenu",b,!0);var S=ua(e);return S&&(S.addEventListener("mousedown",b,!0),S.addEventListener("contextmenu",b,!0)),function(){v.removeEventListener("pointerdown",h,!0),v.removeEventListener("mousedown",b,!0),v.removeEventListener("contextmenu",b,!0),S&&(S.removeEventListener("mousedown",b,!0),S.removeEventListener("contextmenu",b,!0))}}},[n,e,t,u,l]);function H(){g.current=!0}return H}var qa=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Ja(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ba,n=o.forwardRef(function(e,t){var u=e.prefixCls,l=u===void 0?"rc-trigger-popup":u,c=e.children,f=e.action,m=f===void 0?"hover":f,g=e.showAction,H=e.hideAction,h=e.popupVisible,b=e.defaultPopupVisible,v=e.onPopupVisibleChange,S=e.afterPopupVisibleChange,W=e.mouseEnterDelay,L=e.mouseLeaveDelay,D=L===void 0?.1:L,$=e.focusDelay,T=e.blurDelay,q=e.mask,J=e.maskClosable,s=J===void 0?!0:J,Sr=e.getPopupContainer,Dr=e.forceRender,mr=e.autoDestroy,Nr=e.destroyPopupOnHide,Fr=e.popup,gr=e.popupClassName,yr=e.popupStyle,ir=e.popupPlacement,Mr=e.builtinPlacements,K=Mr===void 0?{}:Mr,Cr=e.popupAlign,E=e.zIndex,x=e.stretch,d=e.getPopupClassNameFromAlign,xr=e.fresh,rr=e.alignPoint,F=e.onPopupClick,y=e.onPopupAlign,G=e.arrow,Ar=e.popupMotion,ne=e.maskMotion,ur=e.popupTransitionName,Q=e.popupAnimation,Lr=e.maskTransitionName,Vr=e.maskAnimation,I=e.className,lr=e.getTriggerDOMNode,er=ka(e,qa),j=mr||Nr||!1,te=o.useState(!1),Tr=B(te,2),_=Tr[0],vr=Tr[1];hr(function(){vr(za())},[]);var Rr=o.useRef({}),A=o.useContext(ca),xe=o.useMemo(function(){return{registerSubPopup:function(i,P){Rr.current[i]=P,A==null||A.registerSubPopup(i,P)}}},[A]),C=Wa(),ge=o.useState(null),Ur=B(ge,2),V=Ur[0],kr=Ur[1],wr=o.useRef(null),Ae=Ir(function(a){wr.current=a,ia(a)&&V!==a&&kr(a),A==null||A.registerSubPopup(C,a)}),Ve=o.useState(null),ye=B(Ve,2),ar=ye[0],nr=ye[1],X=o.useRef(null),Re=Ir(function(a){ia(a)&&ar!==a&&(nr(a),X.current=a)}),jr=o.Children.only(c),Y=(jr==null?void 0:jr.props)||{},Wr={},Ue=Ir(function(a){var i,P,k=ar;return(k==null?void 0:k.contains(a))||((i=ua(k))===null||i===void 0?void 0:i.host)===a||a===k||(V==null?void 0:V.contains(a))||((P=ua(V))===null||P===void 0?void 0:P.host)===a||a===V||Object.values(Rr.current).some(function(N){return(N==null?void 0:N.contains(a))||a===N})}),Me=da(l,Ar,Q,ur),je=da(l,ne,Vr,Lr),qe=o.useState(b||!1),sr=B(qe,2),Z=sr[0],oe=sr[1],R=h??Z,zr=Ir(function(a){h===void 0&&oe(a)});hr(function(){oe(h||!1)},[h]);var M=o.useRef(R);M.current=R;var w=o.useRef([]);w.current=[];var tr=Ir(function(a){var i;zr(a),((i=w.current[w.current.length-1])!==null&&i!==void 0?i:R)!==a&&(w.current.push(a),v==null||v(a))}),qr=o.useRef(),ie=function(){clearTimeout(qr.current)},O=function(i){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ie(),P===0?tr(i):qr.current=setTimeout(function(){tr(i)},P*1e3)};o.useEffect(function(){return ie},[]);var Ce=o.useState(!1),ue=B(Ce,2),Br=ue[0],we=ue[1];hr(function(a){(!a||R)&&we(!0)},[R]);var Je=o.useState(null),le=B(Je,2),_r=le[0],ve=le[1],Jr=o.useState(null),Kr=B(Jr,2),br=Kr[0],Xr=Kr[1],Gr=function(i){Xr([i.clientX,i.clientY])},be=Ra(R,V,rr&&br!==null?br:ar,ir,K,Cr,y),z=B(be,11),Pe=z[0],Ke=z[1],Qr=z[2],Se=z[3],Ge=z[4],De=z[5],Ne=z[6],Zr=z[7],Le=z[8],Yr=z[9],Pr=z[10],Te=xa(_,m,g,H),ke=B(Te,2),cr=ke[0],or=ke[1],Or=cr.has("click"),pr=or.has("click")||or.has("contextMenu"),fr=Ir(function(){Br||Pr()}),Qe=function(){M.current&&rr&&pr&&O(!1)};Ua(R,ar,V,fr,Qe),hr(function(){fr()},[br,ir]),hr(function(){R&&!(K!=null&&K[ir])&&fr()},[JSON.stringify(Cr)]);var We=o.useMemo(function(){var a=Va(K,l,Yr,rr);return ae(a,d==null?void 0:d(Yr))},[Yr,d,K,l,rr]);o.useImperativeHandle(t,function(){return{nativeElement:X.current,popupElement:wr.current,forceAlign:fr}});var Ze=o.useState(0),se=B(Ze,2),Ie=se[0],_e=se[1],Xe=o.useState(0),ze=B(Xe,2),Ye=ze[0],Oe=ze[1],Be=function(){if(x&&ar){var i=ar.getBoundingClientRect();_e(i.width),Oe(i.height)}},pe=function(){Be(),fr()},ra=function(i){we(!1),Pr(),S==null||S(i)},ce=function(){return new Promise(function(i){Be(),ve(function(){return i})})};hr(function(){_r&&(Pr(),_r(),ve(null))},[_r]);function dr(a,i,P,k){Wr[a]=function(N){var Ee;k==null||k(N),O(i,P);for(var oa=arguments.length,va=new Array(oa>1?oa-1:0),Fe=1;Fe<oa;Fe++)va[Fe-1]=arguments[Fe];(Ee=Y[a])===null||Ee===void 0||Ee.call.apply(Ee,[Y,N].concat(va))}}(Or||pr)&&(Wr.onClick=function(a){var i;M.current&&pr?O(!1):!M.current&&Or&&(Gr(a),O(!0));for(var P=arguments.length,k=new Array(P>1?P-1:0),N=1;N<P;N++)k[N-1]=arguments[N];(i=Y.onClick)===null||i===void 0||i.call.apply(i,[Y,a].concat(k))});var ea=ja(R,pr,ar,V,q,s,Ue,O),p=cr.has("hover"),He=or.has("hover"),re,Hr;p&&(dr("onMouseEnter",!0,W,function(a){Gr(a)}),dr("onPointerEnter",!0,W,function(a){Gr(a)}),re=function(i){(R||Br)&&V!==null&&V!==void 0&&V.contains(i.target)&&O(!0,W)},rr&&(Wr.onMouseMove=function(a){var i;(i=Y.onMouseMove)===null||i===void 0||i.call(Y,a)})),He&&(dr("onMouseLeave",!1,D),dr("onPointerLeave",!1,D),Hr=function(){O(!1,D)}),cr.has("focus")&&dr("onFocus",!0,$),or.has("focus")&&dr("onBlur",!1,T),cr.has("contextMenu")&&(Wr.onContextMenu=function(a){var i;M.current&&or.has("contextMenu")?O(!1):(Gr(a),O(!0)),a.preventDefault();for(var P=arguments.length,k=new Array(P>1?P-1:0),N=1;N<P;N++)k[N-1]=arguments[N];(i=Y.onContextMenu)===null||i===void 0||i.call.apply(i,[Y,a].concat(k))}),I&&(Wr.className=ae(Y.className,I));var $r=U(U({},Y),Wr),fe={},$e=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];$e.forEach(function(a){er[a]&&(fe[a]=function(){for(var i,P=arguments.length,k=new Array(P),N=0;N<P;N++)k[N]=arguments[N];(i=$r[a])===null||i===void 0||i.call.apply(i,[$r].concat(k)),er[a].apply(er,k)})});var aa=o.cloneElement(jr,U(U({},$r),fe)),na={x:De,y:Ne},ta=G?U({},G!==!0?G:{}):null;return o.createElement(o.Fragment,null,o.createElement(wa,{disabled:!R,ref:Re,onResize:pe},o.createElement(Fa,{getTriggerDOMNode:lr},aa)),o.createElement(ca.Provider,{value:xe},o.createElement(Ea,{portal:r,ref:Ae,prefixCls:l,popup:Fr,className:ae(gr,We),style:yr,target:ar,onMouseEnter:re,onMouseLeave:Hr,onPointerEnter:re,zIndex:E,open:R,keepDom:Br,fresh:xr,onClick:F,onPointerDownCapture:ea,mask:q,motion:Me,maskMotion:je,onVisibleChanged:ra,onPrepare:ce,forceRender:Dr,autoDestroy:j,getPopupContainer:Sr,align:Yr,arrow:ta,arrowPos:na,ready:Pe,offsetX:Ke,offsetY:Qr,offsetR:Se,offsetB:Ge,onAlign:fr,stretch:x,targetWidth:Ie/Zr,targetHeight:Ye/Le})))});return n}const Ia=Ja(ba);export{Ia as T};
