import{r as a,u as v,j as e,p as b}from"./index-Bm9G2PMV.js";import{b as w,f as N,g as y}from"./index-C5zS-AqD.js";import{a as I}from"./index-C-xthC12.js";import{a as C}from"./index-Cd70RK_s.js";import{M as p}from"./index-DUn6QwIU.js";import{j as i}from"./jwt-Dn912jOj.js";import{B as R}from"./BottomSheet-CMGuhH5N.js";import{T}from"./TitleHeader-C44OYHxH.js";import{F as k}from"./Footer-Bq8xXFA8.js";import"./index-BQ4hq33F.js";import"./DockBar-Dprr42uN.js";import"./index-CLNrjMx3.js";import"./userAtom-BHWscT0D.js";import"./index-DmEfB633.js";import"./searchAtom-sTHIERLy.js";import"./searchSelector-CP0Z0A4a.js";const J=()=>{const[s,x]=a.useState([]),[d,r]=a.useState(!1),[o,m]=a.useState(null),c=v(),n=async()=>{try{const t=await i.get("/api/trip-review/myTripReview?orderType=latest");x(t.data.data),console.log("✅  res.data.data:",t.data.data)}catch(t){console.log("✅  error:",t)}},f=t=>{console.log(t);try{const l=i.delete(`/api/trip-review?tripReviewId=${t.tripReviewId}`);console.log("✅  tripReviewId:",t.tripReviewId),console.log("Deleting item:",t),n()}catch(l){console.log("✅  error:",l)}},j=t=>{c(`/scheduleboard/scheduleDetail?tripId=${t.tripId}&TripReviewId=${t.tripReviewId}`)},g=async()=>{try{await i.post("/api/trip-review/scrap",{tripReviewId:76,copyTripId:1148,newStartAt:"2025-04-01",newEndAt:"2025-04-11"})}catch(t){console.log("error",t)}};a.useEffect(()=>{n()},[]);const h=[{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(p,{className:"text-slate-400"})," 스크랩하기"]}),onClick:()=>g()},{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(N,{className:"text-slate-400"})," 수정하기"]}),onClick:()=>console.log("인식")},{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(y,{className:"text-slate-400"})," 삭제하기"]}),onClick:()=>{o&&(f(o),r(!1))}}];return e.jsxs("div",{children:[e.jsx(T,{icon:"back",title:"내 여행기",onClick:()=>c(-1)}),e.jsx("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-t-[1px] border-slate-100 ",children:e.jsxs("p",{className:"text-sm font-semibold",children:["총 ",s.length,"개"]})}),e.jsx("div",{children:s==null?void 0:s.map((t,l)=>e.jsxs("li",{className:"flex flex-col gap-4 px-4 py-8 cursor-pointer border-b-[10px] border-slate-100 last:border-none",onClick:()=>j(t),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg text-slate-700",children:t.title}),e.jsx(I,{className:"text-slate-400 text-2xl cursor-pointer",onClick:u=>{u.stopPropagation(),m(t),r(!0)}})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"w-full min-h-48 aspect-[3/2] bg-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:t.tripReviewPics!==null?`${b}/${t.tripReviewId}/${t.tripReviewPics[0]}`:"",alt:"여행기 사진",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-base text-slate-500 line-clamp-3 tracking-tight",children:t.content})]}),e.jsxs("ul",{className:"flex items-center justify-end gap-3",children:[e.jsxs("li",{className:"flex items-center text-sm text-slate-500 font-semibold gap-0.5",children:[e.jsx(w,{className:"text-base text-slate-300"}),e.jsx("span",{children:t.recentCount})]}),e.jsxs("li",{className:"flex items-center text-sm text-slate-500 font-semibold gap-0.5",children:[e.jsx(C,{className:"text-base text-slate-300"}),e.jsx("span",{children:t.likeCount})]}),e.jsxs("li",{className:"flex items-center text-sm text-slate-500 font-semibold gap-0.5",children:[e.jsx(p,{className:"text-base text-slate-300"}),e.jsx("span",{children:t.scrapCount})]})]})]},l))}),e.jsx(k,{}),e.jsx(R,{open:d,onClose:()=>r(!1),actions:h})]})};export{J as default};
