import{u as C,k as M,r,j as e,am as p,C as P,an as I,h as w,B,c as S,m as E}from"./index-Bm9G2PMV.js";import{f,g as N}from"./index-C5zS-AqD.js";import{a as D}from"./index-C-xthC12.js";import{B as O}from"./BottomSheet-CMGuhH5N.js";import{m as R}from"./menuAtom-Dv_e0Jxi.js";import{L as A}from"./index-BkaPrlqb.js";const L=({strfId:t,item:s,category:l})=>{const n=C(),x=()=>{n(`/business/menu/edit?strfId=${t}&category=${l}&menuId=${s.menuId}&what=menu`)},c=()=>{n(`/business/menu/edit?strfId=${t}&category=${l}&menuId=${s.menuId}&what=room`)},u=()=>{n(`/business/menu/detail?strfId=${t}&category=${l}&menuId=${s.menuId}`)},[m,i]=M(R),[a,o]=r.useState(!1),[v,d]=r.useState(!1),$=()=>{console.log("삭제"),d(!1)},g=()=>{o(!a)},b=()=>{d(!1)},h=()=>{o(!1),d(!0)},j=()=>{i({...m,menuTitle:s.menuTitle,menuPrice:s.menuPrice,menuPic:{uid:"1",name:s.menuPic,status:"done",url:`${p}/${t}/menu/${s.menuPic}`}}),console.log("url",`${p}/${t}/menu/${s.menuPic}`),x()},y=()=>{c()},k=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(f,{className:"text-slate-300"}),"수정하기"]}),onClick:()=>j()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(N,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>h()}],T=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(f,{className:"text-slate-300"}),"객실/호실 등록하기"]}),onClick:()=>y()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(f,{className:"text-slate-300"}),"수정하기"]}),onClick:()=>j()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(N,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>h()}];return e.jsxs("div",{className:"flex items-center gap-2 py-3 select-none",children:[e.jsxs("section",{className:"flex items-center w-full cursor-pointer gap-5",onClick:u,children:[e.jsx("div",{className:"aspect-square w-[21.3vw] max-w-[162px] rounded-lg overflow-hidden bg-slate-200",children:e.jsx("img",{src:`${p}/${t}/menu/${s==null?void 0:s.menuPic}`,alt:s==null?void 0:s.menuTitle,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[e.jsx("p",{className:"text-xl font-semibold text-slate-700 text-left",children:s==null?void 0:s.menuTitle}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-slate-500 font-medium text-left",children:[s==null?void 0:s.menuPrice.toLocaleString(),"원"]}),e.jsx("p",{className:`${!s.recomCapacity&&l===P.STAY?"visible":"invisible"} text-slate-500`,children:"* 예약을 위해 객실을 등록해주세요."})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:g,children:e.jsx(D,{className:"text-3xl text-slate-500"})})}),a&&e.jsx(O,{open:a,onClose:g,actions:s.recomCapacity?k:T,title:"더보기"}),v&&e.jsx(I,{title:"객실 삭제",content:"해당 메뉴를 삭제하시겠습니까?",handleClickSubmit:$,handleClickCancle:b})]})},F=()=>{const t=C(),s=()=>{t(`/business/menu/create?strfId=${n}&category=${x}`)},[l]=w(),n=Number(l.get("strfId")),x=l.get("category"),[c,u]=r.useState([]),m=async()=>{const i="/api/detail/menu";try{const o=(await E.get(`${i}?strf_id=${n}`)).data;return o.data[0]!==null&&u(o.data),o}catch(a){return console.log(a),null}};return r.useEffect(()=>{m()},[]),e.jsxs("div",{className:"px-4 flex flex-col gap-3 pb-3",children:[e.jsx("section",{className:"flex justify-end",children:e.jsxs(B,{size:"large",onClick:s,className:"text-base font-semibold text-slate-500 px-4 flex items-center gap-3",children:[e.jsx(S,{}),"메뉴 추가"]})}),e.jsx("section",{children:e.jsxs("ul",{className:"flex flex-col gap-3",children:[c.length>0&&(c==null?void 0:c.map((i,a)=>e.jsx(L,{item:i,strfId:n,category:x},a))),c.length===0&&e.jsxs("li",{className:"flex flex-col gap-5 items-center justify-center text-slate-300 py-12",children:[e.jsx(A,{className:"text-7xl"}),e.jsx("p",{className:"text-2xl",children:"메뉴를 등록해주세요"})]})]})})]})};export{F as default};
