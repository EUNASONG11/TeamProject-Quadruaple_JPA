import{r as l,g as v,u as h,j as t,d as c}from"./index-CG8vYf2y.js";import{T as u}from"./TitleHeader-HJveUMRb.js";import{T as g}from"./pic-Jp7D6aQ0.js";import"./index-CkZhrZUZ.js";import"./iconBase-BliIWTH0.js";import"./index-BK2APq6_.js";import"./index-zbYbnkux.js";import"./index-CWOPntzi.js";const I=()=>{const[r,p]=l.useState([]),a=v("accessToken"),o=h(),i=async()=>{try{const e=await c.get("/api/trip-review/myTripReview?orderType=latest",{headers:{Authorization:`Bearer ${a}`}});p(e.data.data),console.log("✅  res.data.data:",e.data.data)}catch(e){console.log("✅  error:",e)}},n=e=>{console.log(e);try{const s=c.delete(`/api/trip-review?tripReviewId=${e.tripReviewId}`,{headers:{Authorization:`Bearer ${a}`}});console.log("✅  tripReviewId:",e.tripReviewId),i()}catch(s){console.log("✅  error:",s)}},d=e=>{o(`/scheduleboard/scheduleDetail?tripId=${e.tripId}&TripReviewId=${e.tripReviewId}`)};return l.useEffect(()=>{i()},[]),t.jsxs("div",{children:[t.jsx(u,{icon:"back",title:"내 여행기",onClick:()=>o(-1)}),t.jsx("div",{className:"px-8 mt-9",children:r==null?void 0:r.map((e,s)=>t.jsxs("li",{className:`flex flex-col gap-[20px] px-[30px] py-[30px] rounded-3xl\r
                  shadow-[0_0_10px_0_rgba(0,0,0,0.1)] cursor-pointer mb-8`,onClick:()=>d(e),children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"font-semibold text-[24px] text-slate-700",children:e.title}),t.jsx("p",{className:"text-slate-700 bg-slate-100 py-1 px-3 rounded-lg",onClick:x=>{x.stopPropagation(),n(e)},children:"삭제"})]}),t.jsxs("div",{className:"flex flex-col gap-[20px]",children:[t.jsx("div",{className:"w-full h-[322px] bg-slate-200 rounded-2xl overflow-hidden",children:t.jsx("img",{src:e.tripReviewPics!==null?`${g}${e.tripReviewId}/${e.tripReviewPics[0]}`:"",alt:"여행기 사진",className:"w-full h-full object-cover"})}),t.jsx("p",{className:"text-[18px] text-slate-500 line-clamp-3",children:e.content})]})]},s))})]})};export{I as default};
