import{j as e,T as m,r,u as h,aa as A,S as I,U as L,V as $,B as D}from"./index-C93OXIGC.js";import{d as E}from"./dayjs.min-P6fXZY3M.js";import{j as d}from"./jwt-B7ax0GDm.js";import{R}from"./index-CasC0ZUd.js";/* empty css                    */import{T as W}from"./index-CXsHf5Xf.js";import"./index-Dngrxowb.js";import"./index-Q7DGeqqa.js";import"./Portal-CSn-TfAb.js";import"./useId-BANbKrPT.js";import"./isMobile-B4CO7CVJ.js";import"./motion-0KRY6bgR.js";import"./roundedArrow-sw5LZQSn.js";import"./zoom-CHy3k0MF.js";import"./EllipsisOutlined-BncMRqU8.js";import"./Overflow-CzDwJyB6.js";const Y=({setShowFilter:a,setOrderType:l})=>e.jsxs("div",{className:"max-w-[768px] w-full h-screen fixed top-0 left-1/2 -translate-x-1/2 bg-white z-10",children:[e.jsx(m,{icon:"",title:"필터",onClick:()=>a(!1)}),e.jsxs("dl",{className:"text-slate-700 py-6 px-4",children:[e.jsx("dt",{className:"text-base font-semibold py-2",children:"정렬"}),e.jsx("dd",{className:"text-sm py-3 border-b-[1px] border-slate-100 cursor-pointer",onClick:()=>{l("ratingAvg"),a(!1)},children:"평점순"}),e.jsx("dd",{className:"text-sm py-3 border-b-[1px] border-slate-100 cursor-pointer",onClick:()=>{l("ratingCnt"),a(!1)},children:"리뷰순"}),e.jsx("dd",{className:"text-sm py-3 cursor-pointer",onClick:()=>{l("likeCnt"),a(!1)},children:"좋아요순"})]})]}),o=({category:a})=>{const[l,i]=r.useState(0),[u,f]=r.useState([]),[j,g]=r.useState(0);r.useState(!0);const[y,p]=r.useState(!1),[n,b]=r.useState("ratingAvg"),N=h(),v=async t=>{const c={strfId:t.strfId};try{const s=await d.post("/api/wish-list",{...c});i(0),await x(0)}catch(s){console.log("error",s)}},x=async(t=!1)=>{const c=t?l:0;try{const s=await d.get(`/api/wish-list?start_idx=${c}&orderType=${n}&category=${a}`);f(T=>t?[...T,...s.data.data]:s.data.data),s.data.data&&i(c+10)}catch(s){console.log("찜목록 불러오기 실패",s)}},w=async()=>{try{const t=await d.get("/api/wish-list/count");g(t.data)}catch(t){console.log("찜목록 개수 불러오기 실패",t)}};r.useEffect(()=>{x()},[a,n]),r.useEffect(()=>{w()},[]);const C=()=>{x(!0),console.log("Current startIndex:",l)},k={TOUR:"관광지",FEST:"축제",STAY:"숙소",RESTAUR:"맛집"},S={ratingAvg:"평점순",ratingCnt:"리뷰순",likeCnt:"좋아요순"};return e.jsxs("div",{children:[y&&e.jsx(Y,{setShowFilter:p,setOrderType:b}),e.jsxs("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-slate-100 ",children:[e.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["총 ",j,"개"]}),e.jsxs("button",{className:"flex items-center gap-1 text-slate-500",onClick:()=>p(!0),children:[S[n]," ",e.jsx(A,{})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx("ul",{className:"w-full flex flex-col gap-3 mb-[30px]",children:u.map((t,c)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>N(`/contents/index?strfId=${t.strfId}`),children:[e.jsxs("div",{className:"w-32 min-w-32 aspect-square bg-slate-200 rounded-lg overflow-hidden relative",children:[e.jsx("img",{src:`${I}/${t.strfId}/${t.strfPic}`,alt:t.title,className:"w-full h-full object-cover"}),e.jsx(L,{className:"text-secondary3 text-xl absolute top-2 right-2",onClick:s=>{s.stopPropagation(),v(t)}})]}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-lg font-medium text-slate-700",children:t.strfTitle})}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-slate-500",children:[k[t.category]||t.category," ·"," ",t.locationName]})}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(R,{disabled:!0,allowHalf:!0,value:t.ratingAvg,className:"flex items-center custom-star-wish custom-star"}),e.jsxs("p",{className:"text-sm text-slate-500",children:["(",t.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-1 items-center text-sm",children:[e.jsx($,{className:"text-slate-400 text-lg"}),e.jsx("p",{className:"text-slate-500",children:t.wishCnt.toLocaleString()})]})]})]},c))}),e.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:e.jsx(D,{variant:"outlined",onClick:C,className:"text-slate-500 text-base !h-auto py-2 px-5 border-1 border-slate-200 rounded-full",children:"더보기"})})]})]})},H=E().format("YYYY-MM-DD"),ee=()=>{const a=h();r.useState(H);const l=i=>{console.log(i)};return e.jsxs("div",{children:[e.jsx(m,{icon:"back",onClick:()=>{a(-1)},title:"찜 목록"}),e.jsx("div",{className:"",children:e.jsx("div",{children:e.jsx(W,{defaultActiveKey:"1",items:[{key:"1",label:"전체",children:e.jsx(o,{category:"전체"})},{key:"2",label:"관광지",children:e.jsx(o,{category:"관광지"})},{key:"3",label:"숙소",children:e.jsx(o,{category:"숙소"})},{key:"4",label:"맛집",children:e.jsx(o,{category:"맛집"})},{key:"5",label:"축제",children:e.jsx(o,{category:"축제"})}],onChange:l,className:"custom-tab border-t-[10px] border-slate-100"})})})]})};export{ee as default};
