import{r as d,ai as fn,ak as Nt,ag as Re,aj as Pe,_ as he,a_ as le,i as be,b0 as kn,F as On,b7 as dt,ah as Le,bc as jn,z as Tn,ci as $n,bg as Zt,ay as An,al as it,v as zn,w as Fn,au as In,l as xe,bx as Xt,m as je,D as Ln,ax as Bn,at as Hn,j as S,B as pt,b as hn,a as pn,u as mn,g as mt,M as Wn,Y as qn,a5 as Un,I as gn,a6 as Gt,c as kt,J as ot}from"./index-C93OXIGC.js";import{M as Zn}from"./index-BuF3Rz9x.js";import{U as vn}from"./index-Dtlwg-Ic.js";import{T as Xn}from"./index-Dngrxowb.js";import{u as bn,F as De}from"./index-JWxd_BGD.js";import{e as Gn}from"./index-D85vvWje.js";import{m as Yt}from"./menuAtom-BtmLVM31.js";import{m as Me,h as Yn,c as Vn}from"./match-B1N-zgeZ.js";import{S as Cn}from"./index-BTIIt3Y0.js";import{T as ft}from"./index-R0Yh30nH.js";function Ot(t,r,e){return(t-r)/(e-r)}function Tt(t,r,e,n){var a=Ot(r,e,n),o={};switch(t){case"rtl":o.right="".concat(a*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(a*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(a*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(a*100,"%"),o.transform="translateX(-50%)";break}return o}function Xe(t,r){return Array.isArray(t)?t[r]:t}var Ge=d.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Kn=d.createContext({}),Jn=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Vt=d.forwardRef(function(t,r){var e=t.prefixCls,n=t.value,a=t.valueIndex,o=t.onStartMove,i=t.onDelete,s=t.style,h=t.render,l=t.dragging,c=t.draggingDelete,m=t.onOffsetChange,x=t.onChangeComplete,g=t.onFocus,b=t.onMouseEnter,C=fn(t,Jn),f=d.useContext(Ge),y=f.min,u=f.max,p=f.direction,E=f.disabled,M=f.keyboard,T=f.range,L=f.tabIndex,B=f.ariaLabelForHandle,D=f.ariaLabelledByForHandle,v=f.ariaRequired,w=f.ariaValueTextFormatterForHandle,_=f.styles,j=f.classNames,R="".concat(e,"-handle"),k=function(W){E||o(W,a)},V=function(W){g==null||g(W,a)},Z=function(W){b(W,a)},pe=function(W){if(!E&&M){var A=null;switch(W.which||W.keyCode){case le.LEFT:A=p==="ltr"||p==="btt"?-1:1;break;case le.RIGHT:A=p==="ltr"||p==="btt"?1:-1;break;case le.UP:A=p!=="ttb"?1:-1;break;case le.DOWN:A=p!=="ttb"?-1:1;break;case le.HOME:A="min";break;case le.END:A="max";break;case le.PAGE_UP:A=2;break;case le.PAGE_DOWN:A=-2;break;case le.BACKSPACE:case le.DELETE:i(a);break}A!==null&&(W.preventDefault(),m(A,a))}},ge=function(W){switch(W.which||W.keyCode){case le.LEFT:case le.RIGHT:case le.UP:case le.DOWN:case le.HOME:case le.END:case le.PAGE_UP:case le.PAGE_DOWN:x==null||x();break}},Ee=Tt(p,n,y,u),_e={};if(a!==null){var Ce;_e={tabIndex:E?null:Xe(L,a),role:"slider","aria-valuemin":y,"aria-valuemax":u,"aria-valuenow":n,"aria-disabled":E,"aria-label":Xe(B,a),"aria-labelledby":Xe(D,a),"aria-required":Xe(v,a),"aria-valuetext":(Ce=Xe(w,a))===null||Ce===void 0?void 0:Ce(n),"aria-orientation":p==="ltr"||p==="rtl"?"horizontal":"vertical",onMouseDown:k,onTouchStart:k,onFocus:V,onMouseEnter:Z,onKeyDown:pe,onKeyUp:ge}}var Ne=d.createElement("div",Nt({ref:r,className:Re(R,Pe(Pe(Pe({},"".concat(R,"-").concat(a+1),a!==null&&T),"".concat(R,"-dragging"),l),"".concat(R,"-dragging-delete"),c),j.handle),style:he(he(he({},Ee),s),_.handle)},_e,C));return h&&(Ne=h(Ne,{index:a,prefixCls:e,value:n,dragging:l,draggingDelete:c})),Ne}),Qn=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],er=d.forwardRef(function(t,r){var e=t.prefixCls,n=t.style,a=t.onStartMove,o=t.onOffsetChange,i=t.values,s=t.handleRender,h=t.activeHandleRender,l=t.draggingIndex,c=t.draggingDelete,m=t.onFocus,x=fn(t,Qn),g=d.useRef({}),b=d.useState(!1),C=be(b,2),f=C[0],y=C[1],u=d.useState(-1),p=be(u,2),E=p[0],M=p[1],T=function(w){M(w),y(!0)},L=function(w,_){T(_),m==null||m(w)},B=function(w,_){T(_)};d.useImperativeHandle(r,function(){return{focus:function(w){var _;(_=g.current[w])===null||_===void 0||_.focus()},hideHelp:function(){kn.flushSync(function(){y(!1)})}}});var D=he({prefixCls:e,onStartMove:a,onOffsetChange:o,render:s,onFocus:L,onMouseEnter:B},x);return d.createElement(d.Fragment,null,i.map(function(v,w){var _=l===w;return d.createElement(Vt,Nt({ref:function(R){R?g.current[w]=R:delete g.current[w]},dragging:_,draggingDelete:_&&c,style:Xe(n,w),key:w,value:v,valueIndex:w},D))}),h&&f&&d.createElement(Vt,Nt({key:"a11y"},D,{value:i[E],valueIndex:null,dragging:l!==-1,draggingDelete:c,render:h,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),tr=function(r){var e=r.prefixCls,n=r.style,a=r.children,o=r.value,i=r.onClick,s=d.useContext(Ge),h=s.min,l=s.max,c=s.direction,m=s.includedStart,x=s.includedEnd,g=s.included,b="".concat(e,"-text"),C=Tt(c,o,h,l);return d.createElement("span",{className:Re(b,Pe({},"".concat(b,"-active"),g&&m<=o&&o<=x)),style:he(he({},C),n),onMouseDown:function(y){y.stopPropagation()},onClick:function(){i(o)}},a)},nr=function(r){var e=r.prefixCls,n=r.marks,a=r.onClick,o="".concat(e,"-mark");return n.length?d.createElement("div",{className:o},n.map(function(i){var s=i.value,h=i.style,l=i.label;return d.createElement(tr,{key:s,prefixCls:o,style:h,value:s,onClick:a},l)})):null},rr=function(r){var e=r.prefixCls,n=r.value,a=r.style,o=r.activeStyle,i=d.useContext(Ge),s=i.min,h=i.max,l=i.direction,c=i.included,m=i.includedStart,x=i.includedEnd,g="".concat(e,"-dot"),b=c&&m<=n&&n<=x,C=he(he({},Tt(l,n,s,h)),typeof a=="function"?a(n):a);return b&&(C=he(he({},C),typeof o=="function"?o(n):o)),d.createElement("span",{className:Re(g,Pe({},"".concat(g,"-active"),b)),style:C})},ar=function(r){var e=r.prefixCls,n=r.marks,a=r.dots,o=r.style,i=r.activeStyle,s=d.useContext(Ge),h=s.min,l=s.max,c=s.step,m=d.useMemo(function(){var x=new Set;if(n.forEach(function(b){x.add(b.value)}),a&&c!==null)for(var g=h;g<=l;)x.add(g),g+=c;return Array.from(x)},[h,l,c,a,n]);return d.createElement("div",{className:"".concat(e,"-step")},m.map(function(x){return d.createElement(rr,{prefixCls:e,key:x,value:x,style:o,activeStyle:i})}))},Kt=function(r){var e=r.prefixCls,n=r.style,a=r.start,o=r.end,i=r.index,s=r.onStartMove,h=r.replaceCls,l=d.useContext(Ge),c=l.direction,m=l.min,x=l.max,g=l.disabled,b=l.range,C=l.classNames,f="".concat(e,"-track"),y=Ot(a,m,x),u=Ot(o,m,x),p=function(L){!g&&s&&s(L,-1)},E={};switch(c){case"rtl":E.right="".concat(y*100,"%"),E.width="".concat(u*100-y*100,"%");break;case"btt":E.bottom="".concat(y*100,"%"),E.height="".concat(u*100-y*100,"%");break;case"ttb":E.top="".concat(y*100,"%"),E.height="".concat(u*100-y*100,"%");break;default:E.left="".concat(y*100,"%"),E.width="".concat(u*100-y*100,"%")}var M=h||Re(f,Pe(Pe({},"".concat(f,"-").concat(i+1),i!==null&&b),"".concat(e,"-track-draggable"),s),C.track);return d.createElement("div",{className:M,style:he(he({},E),n),onMouseDown:p,onTouchStart:p})},or=function(r){var e=r.prefixCls,n=r.style,a=r.values,o=r.startPoint,i=r.onStartMove,s=d.useContext(Ge),h=s.included,l=s.range,c=s.min,m=s.styles,x=s.classNames,g=d.useMemo(function(){if(!l){if(a.length===0)return[];var C=o??c,f=a[0];return[{start:Math.min(C,f),end:Math.max(C,f)}]}for(var y=[],u=0;u<a.length-1;u+=1)y.push({start:a[u],end:a[u+1]});return y},[a,l,o,c]);if(!h)return null;var b=g!=null&&g.length&&(x.tracks||m.tracks)?d.createElement(Kt,{index:null,prefixCls:e,start:g[0].start,end:g[g.length-1].end,replaceCls:Re(x.tracks,"".concat(e,"-tracks")),style:m.tracks}):null;return d.createElement(d.Fragment,null,b,g.map(function(C,f){var y=C.start,u=C.end;return d.createElement(Kt,{index:f,prefixCls:e,style:he(he({},Xe(n,f)),m.track),start:y,end:u,key:f,onStartMove:i})}))},ir=130;function Jt(t){var r="targetTouches"in t?t.targetTouches[0]:t;return{pageX:r.pageX,pageY:r.pageY}}function sr(t,r,e,n,a,o,i,s,h,l,c){var m=d.useState(null),x=be(m,2),g=x[0],b=x[1],C=d.useState(-1),f=be(C,2),y=f[0],u=f[1],p=d.useState(!1),E=be(p,2),M=E[0],T=E[1],L=d.useState(e),B=be(L,2),D=B[0],v=B[1],w=d.useState(e),_=be(w,2),j=_[0],R=_[1],k=d.useRef(null),V=d.useRef(null),Z=d.useRef(null),pe=d.useContext(Kn),ge=pe.onDragStart,Ee=pe.onDragChange;On(function(){y===-1&&v(e)},[e,y]),d.useEffect(function(){return function(){document.removeEventListener("mousemove",k.current),document.removeEventListener("mouseup",V.current),Z.current&&(Z.current.removeEventListener("touchmove",k.current),Z.current.removeEventListener("touchend",V.current))}},[]);var _e=function(A,O,z){O!==void 0&&b(O),v(A);var $=A;z&&($=A.filter(function(N,F){return F!==y})),i($),Ee&&Ee({rawValues:A,deleteIndex:z?y:-1,draggingIndex:y,draggingValue:O})},Ce=dt(function(W,A,O){if(W===-1){var z=j[0],$=j[j.length-1],N=n-z,F=a-$,X=A*(a-n);X=Math.max(X,N),X=Math.min(X,F);var q=o(z+X);X=q-z;var H=j.map(function(re){return re+X});_e(H)}else{var Y=(a-n)*A,te=Le(D);te[W]=j[W];var J=h(te,Y,W,"dist");_e(J.values,J.value,O)}}),Ne=function(A,O,z){A.stopPropagation();var $=z||e,N=$[O];u(O),b(N),R($),v($),T(!1);var F=Jt(A),X=F.pageX,q=F.pageY,H=!1;ge&&ge({rawValues:$,draggingIndex:O,draggingValue:N});var Y=function(re){re.preventDefault();var Q=Jt(re),ae=Q.pageX,ue=Q.pageY,ne=ae-X,G=ue-q,fe=t.current.getBoundingClientRect(),ye=fe.width,ke=fe.height,we,Se;switch(r){case"btt":we=-G/ke,Se=ne;break;case"ttb":we=G/ke,Se=ne;break;case"rtl":we=-ne/ye,Se=G;break;default:we=ne/ye,Se=G}H=l?Math.abs(Se)>ir&&c<D.length:!1,T(H),Ce(O,we,H)},te=function J(re){re.preventDefault(),document.removeEventListener("mouseup",J),document.removeEventListener("mousemove",Y),Z.current&&(Z.current.removeEventListener("touchmove",k.current),Z.current.removeEventListener("touchend",V.current)),k.current=null,V.current=null,Z.current=null,s(H),u(-1),T(!1)};document.addEventListener("mouseup",te),document.addEventListener("mousemove",Y),A.currentTarget.addEventListener("touchend",te),A.currentTarget.addEventListener("touchmove",Y),k.current=Y,V.current=te,Z.current=A.currentTarget},ve=d.useMemo(function(){var W=Le(e).sort(function(N,F){return N-F}),A=Le(D).sort(function(N,F){return N-F}),O={};A.forEach(function(N){O[N]=(O[N]||0)+1}),W.forEach(function(N){O[N]=(O[N]||0)-1});var z=l?1:0,$=Object.values(O).reduce(function(N,F){return N+Math.abs(F)},0);return $<=z?D:e},[e,D,l]);return[y,g,M,ve,Ne]}function lr(t,r,e,n,a,o){var i=d.useCallback(function(g){return Math.max(t,Math.min(r,g))},[t,r]),s=d.useCallback(function(g){if(e!==null){var b=t+Math.round((i(g)-t)/e)*e,C=function(p){return(String(p).split(".")[1]||"").length},f=Math.max(C(e),C(r),C(t)),y=Number(b.toFixed(f));return t<=y&&y<=r?y:null}return null},[e,t,r,i]),h=d.useCallback(function(g){var b=i(g),C=n.map(function(u){return u.value});e!==null&&C.push(s(g)),C.push(t,r);var f=C[0],y=r-t;return C.forEach(function(u){var p=Math.abs(b-u);p<=y&&(f=u,y=p)}),f},[t,r,n,e,i,s]),l=function g(b,C,f){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof C=="number"){var u,p=b[f],E=p+C,M=[];n.forEach(function(v){M.push(v.value)}),M.push(t,r),M.push(s(p));var T=C>0?1:-1;y==="unit"?M.push(s(p+T*e)):M.push(s(E)),M=M.filter(function(v){return v!==null}).filter(function(v){return C<0?v<=p:v>=p}),y==="unit"&&(M=M.filter(function(v){return v!==p}));var L=y==="unit"?p:E;u=M[0];var B=Math.abs(u-L);if(M.forEach(function(v){var w=Math.abs(v-L);w<B&&(u=v,B=w)}),u===void 0)return C<0?t:r;if(y==="dist")return u;if(Math.abs(C)>1){var D=Le(b);return D[f]=u,g(D,C-T,f,y)}return u}else{if(C==="min")return t;if(C==="max")return r}},c=function(b,C,f){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=b[f],p=l(b,C,f,y);return{value:p,changed:p!==u}},m=function(b){return o===null&&b===0||typeof o=="number"&&b<o},x=function(b,C,f){var y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",u=b.map(h),p=u[f],E=l(u,C,f,y);if(u[f]=E,a===!1){var M=o||0;f>0&&u[f-1]!==p&&(u[f]=Math.max(u[f],u[f-1]+M)),f<u.length-1&&u[f+1]!==p&&(u[f]=Math.min(u[f],u[f+1]-M))}else if(typeof o=="number"||o===null){for(var T=f+1;T<u.length;T+=1)for(var L=!0;m(u[T]-u[T-1])&&L;){var B=c(u,1,T);u[T]=B.value,L=B.changed}for(var D=f;D>0;D-=1)for(var v=!0;m(u[D]-u[D-1])&&v;){var w=c(u,-1,D-1);u[D-1]=w.value,v=w.changed}for(var _=u.length-1;_>0;_-=1)for(var j=!0;m(u[_]-u[_-1])&&j;){var R=c(u,-1,_-1);u[_-1]=R.value,j=R.changed}for(var k=0;k<u.length-1;k+=1)for(var V=!0;m(u[k+1]-u[k])&&V;){var Z=c(u,1,k+1);u[k+1]=Z.value,V=Z.changed}}return{value:u[f],values:u}};return[h,x]}function cr(t){return d.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var r=t.editable,e=t.draggableTrack,n=t.minCount,a=t.maxCount;return[!0,r,!r&&e,n||0,a]},[t])}var ur=d.forwardRef(function(t,r){var e=t.prefixCls,n=e===void 0?"rc-slider":e,a=t.className,o=t.style,i=t.classNames,s=t.styles,h=t.id,l=t.disabled,c=l===void 0?!1:l,m=t.keyboard,x=m===void 0?!0:m,g=t.autoFocus,b=t.onFocus,C=t.onBlur,f=t.min,y=f===void 0?0:f,u=t.max,p=u===void 0?100:u,E=t.step,M=E===void 0?1:E,T=t.value,L=t.defaultValue,B=t.range,D=t.count,v=t.onChange,w=t.onBeforeChange,_=t.onAfterChange,j=t.onChangeComplete,R=t.allowCross,k=R===void 0?!0:R,V=t.pushable,Z=V===void 0?!1:V,pe=t.reverse,ge=t.vertical,Ee=t.included,_e=Ee===void 0?!0:Ee,Ce=t.startPoint,Ne=t.trackStyle,ve=t.handleStyle,W=t.railStyle,A=t.dotStyle,O=t.activeDotStyle,z=t.marks,$=t.dots,N=t.handleRender,F=t.activeHandleRender,X=t.track,q=t.tabIndex,H=q===void 0?0:q,Y=t.ariaLabelForHandle,te=t.ariaLabelledByForHandle,J=t.ariaRequired,re=t.ariaValueTextFormatterForHandle,Q=d.useRef(null),ae=d.useRef(null),ue=d.useMemo(function(){return ge?pe?"ttb":"btt":pe?"rtl":"ltr"},[pe,ge]),ne=cr(B),G=be(ne,5),fe=G[0],ye=G[1],ke=G[2],we=G[3],Se=G[4],me=d.useMemo(function(){return isFinite(y)?y:0},[y]),$e=d.useMemo(function(){return isFinite(p)?p:100},[p]),ee=d.useMemo(function(){return M!==null&&M<=0?1:M},[M]),Ae=d.useMemo(function(){return typeof Z=="boolean"?Z?ee:!1:Z>=0?Z:!1},[Z,ee]),Be=d.useMemo(function(){return Object.keys(z||{}).map(function(I){var P=z[I],U={value:Number(I)};return P&&jn(P)==="object"&&!d.isValidElement(P)&&("label"in P||"style"in P)?(U.style=P.style,U.label=P.label):U.label=P,U}).filter(function(I){var P=I.label;return P||typeof P=="number"}).sort(function(I,P){return I.value-P.value})},[z]),st=lr(me,$e,ee,Be,k,Ae),He=be(st,2),Ye=He[0],Qe=He[1],vt=Tn(L,{value:T}),de=be(vt,2),oe=de[0],bt=de[1],ie=d.useMemo(function(){var I=oe==null?[]:Array.isArray(oe)?oe:[oe],P=be(I,1),U=P[0],K=U===void 0?me:U,se=oe===null?[]:[K];if(fe){if(se=Le(I),D||oe===void 0){var We=D>=0?D+1:2;for(se=se.slice(0,We);se.length<We;){var ze;se.push((ze=se[se.length-1])!==null&&ze!==void 0?ze:me)}}se.sort(function(Fe,Ie){return Fe-Ie})}return se.forEach(function(Fe,Ie){se[Ie]=Ye(Fe)}),se},[oe,fe,me,D,Ye]),Oe=function(P){return fe?P:P[0]},Ue=dt(function(I){var P=Le(I).sort(function(U,K){return U-K});v&&!$n(P,ie,!0)&&v(Oe(P)),bt(P)}),Ve=dt(function(I){I&&Q.current.hideHelp();var P=Oe(ie);_==null||_(P),Zt(!_,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),j==null||j(P)}),xn=function(P){if(!(c||!ye||ie.length<=we)){var U=Le(ie);U.splice(P,1),w==null||w(Oe(U)),Ue(U);var K=Math.max(0,P-1);Q.current.hideHelp(),Q.current.focus(K)}},wn=sr(ae,ue,ie,me,$e,Ye,Ue,Ve,Qe,ye,we),et=be(wn,5),$t=et[0],Sn=et[1],Rn=et[2],Ct=et[3],At=et[4],zt=function(P,U){if(!c){var K=Le(ie),se=0,We=0,ze=$e-me;ie.forEach(function(qe,lt){var Ut=Math.abs(P-qe);Ut<=ze&&(ze=Ut,se=lt),qe<P&&(We=lt)});var Fe=se;ye&&ze!==0&&(!Se||ie.length<Se)?(K.splice(We+1,0,P),Fe=We+1):K[se]=P,fe&&!ie.length&&D===void 0&&K.push(P);var Ie=Oe(K);if(w==null||w(Ie),Ue(K),U){var Ze,Ke;(Ze=document.activeElement)===null||Ze===void 0||(Ke=Ze.blur)===null||Ke===void 0||Ke.call(Ze),Q.current.focus(Fe),At(U,Fe,K)}else _==null||_(Ie),Zt(!_,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),j==null||j(Ie)}},En=function(P){P.preventDefault();var U=ae.current.getBoundingClientRect(),K=U.width,se=U.height,We=U.left,ze=U.top,Fe=U.bottom,Ie=U.right,Ze=P.clientX,Ke=P.clientY,qe;switch(ue){case"btt":qe=(Fe-Ke)/se;break;case"ttb":qe=(Ke-ze)/se;break;case"rtl":qe=(Ie-Ze)/K;break;default:qe=(Ze-We)/K}var lt=me+qe*($e-me);zt(Ye(lt),P)},_n=d.useState(null),Ft=be(_n,2),yt=Ft[0],It=Ft[1],Mn=function(P,U){if(!c){var K=Qe(ie,P,U);w==null||w(Oe(ie)),Ue(K.values),It(K.value)}};d.useEffect(function(){if(yt!==null){var I=ie.indexOf(yt);I>=0&&Q.current.focus(I)}It(null)},[yt]);var Dn=d.useMemo(function(){return ke&&ee===null?!1:ke},[ke,ee]),Lt=dt(function(I,P){At(I,P),w==null||w(Oe(ie))}),Bt=$t!==-1;d.useEffect(function(){if(!Bt){var I=ie.lastIndexOf(Sn);Q.current.focus(I)}},[Bt]);var tt=d.useMemo(function(){return Le(Ct).sort(function(I,P){return I-P})},[Ct]),Pn=d.useMemo(function(){return fe?[tt[0],tt[tt.length-1]]:[me,tt[0]]},[tt,fe,me]),Ht=be(Pn,2),Wt=Ht[0],qt=Ht[1];d.useImperativeHandle(r,function(){return{focus:function(){Q.current.focus(0)},blur:function(){var P,U=document,K=U.activeElement;(P=ae.current)!==null&&P!==void 0&&P.contains(K)&&(K==null||K.blur())}}}),d.useEffect(function(){g&&Q.current.focus(0)},[]);var Nn=d.useMemo(function(){return{min:me,max:$e,direction:ue,disabled:c,keyboard:x,step:ee,included:_e,includedStart:Wt,includedEnd:qt,range:fe,tabIndex:H,ariaLabelForHandle:Y,ariaLabelledByForHandle:te,ariaRequired:J,ariaValueTextFormatterForHandle:re,styles:s||{},classNames:i||{}}},[me,$e,ue,c,x,ee,_e,Wt,qt,fe,H,Y,te,J,re,s,i]);return d.createElement(Ge.Provider,{value:Nn},d.createElement("div",{ref:ae,className:Re(n,a,Pe(Pe(Pe(Pe({},"".concat(n,"-disabled"),c),"".concat(n,"-vertical"),ge),"".concat(n,"-horizontal"),!ge),"".concat(n,"-with-marks"),Be.length)),style:o,onMouseDown:En,id:h},d.createElement("div",{className:Re("".concat(n,"-rail"),i==null?void 0:i.rail),style:he(he({},W),s==null?void 0:s.rail)}),X!==!1&&d.createElement(or,{prefixCls:n,style:Ne,values:ie,startPoint:Ce,onStartMove:Dn?Lt:void 0}),d.createElement(ar,{prefixCls:n,marks:Be,dots:$,style:A,activeStyle:O}),d.createElement(er,{ref:Q,prefixCls:n,style:ve,values:Ct,draggingIndex:$t,draggingDelete:Rn,onStartMove:Lt,onOffsetChange:Mn,onFocus:b,onBlur:C,handleRender:N,activeHandleRender:F,onChangeComplete:Ve,onDelete:ye?xn:void 0}),d.createElement(nr,{prefixCls:n,marks:Be,onClick:zt})))});const dr=d.createContext({}),Qt=d.forwardRef((t,r)=>{const{open:e,draggingDelete:n}=t,a=d.useRef(null),o=e&&!n,i=d.useRef(null);function s(){it.cancel(i.current),i.current=null}function h(){i.current=it(()=>{var l;(l=a.current)===null||l===void 0||l.forceAlign(),i.current=null})}return d.useEffect(()=>(o?h():s(),s),[o,t.title]),d.createElement(Xn,Object.assign({ref:An(a,r)},t,{open:o}))}),fr=t=>{const{componentCls:r,antCls:e,controlSize:n,dotSize:a,marginFull:o,marginPart:i,colorFillContentHover:s,handleColorDisabled:h,calc:l,handleSize:c,handleSizeHover:m,handleActiveColor:x,handleActiveOutlineColor:g,handleLineWidth:b,handleLineWidthHover:C,motionDurationMid:f}=t;return{[r]:Object.assign(Object.assign({},In(t)),{position:"relative",height:n,margin:`${xe(i)} ${xe(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${xe(o)} ${xe(i)}`},[`${r}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${f}`},[`${r}-track,${r}-tracks`]:{position:"absolute",transition:`background-color ${f}`},[`${r}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${r}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${r}-rail`]:{backgroundColor:t.railHoverBg},[`${r}-track`]:{backgroundColor:t.trackHoverBg},[`${r}-dot`]:{borderColor:s},[`${r}-handle::after`]:{boxShadow:`0 0 0 ${xe(b)} ${t.colorPrimaryBorderHover}`},[`${r}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${r}-handle`]:{position:"absolute",width:c,height:c,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:l(b).mul(-1).equal(),insetBlockStart:l(b).mul(-1).equal(),width:l(c).add(l(b).mul(2)).equal(),height:l(c).add(l(b).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:c,height:c,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${xe(b)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${f},
            inset-block-start ${f},
            width ${f},
            height ${f},
            box-shadow ${f},
            outline ${f}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:l(m).sub(c).div(2).add(C).mul(-1).equal(),insetBlockStart:l(m).sub(c).div(2).add(C).mul(-1).equal(),width:l(m).add(l(C).mul(2)).equal(),height:l(m).add(l(C).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${xe(C)} ${x}`,outline:`6px solid ${g}`,width:m,height:m,insetInlineStart:t.calc(c).sub(m).div(2).equal(),insetBlockStart:t.calc(c).sub(m).div(2).equal()}}},[`&-lock ${r}-handle`]:{"&::before, &::after":{transition:"none"}},[`${r}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${r}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${r}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${r}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:t.colorBgElevated,border:`${xe(b)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${r}-disabled`]:{cursor:"not-allowed",[`${r}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${r}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${r}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${r}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:c,height:c,boxShadow:`0 0 0 ${xe(b)} ${h}`,insetInlineStart:0,insetBlockStart:0},[`
          ${r}-mark-text,
          ${r}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${e}-tooltip-inner`]:{minWidth:"unset"}})}},yn=(t,r)=>{const{componentCls:e,railSize:n,handleSize:a,dotSize:o,marginFull:i,calc:s}=t,h=r?"paddingBlock":"paddingInline",l=r?"width":"height",c=r?"height":"width",m=r?"insetBlockStart":"insetInlineStart",x=r?"top":"insetInlineStart",g=s(n).mul(3).sub(a).div(2).equal(),b=s(a).sub(n).div(2).equal(),C=r?{borderWidth:`${xe(b)} 0`,transform:`translateY(${xe(s(b).mul(-1).equal())})`}:{borderWidth:`0 ${xe(b)}`,transform:`translateX(${xe(t.calc(b).mul(-1).equal())})`};return{[h]:n,[c]:s(n).mul(3).equal(),[`${e}-rail`]:{[l]:"100%",[c]:n},[`${e}-track,${e}-tracks`]:{[c]:n},[`${e}-track-draggable`]:Object.assign({},C),[`${e}-handle`]:{[m]:g},[`${e}-mark`]:{insetInlineStart:0,top:0,[x]:s(n).mul(3).add(r?0:i).equal(),[l]:"100%"},[`${e}-step`]:{insetInlineStart:0,top:0,[x]:n,[l]:"100%",[c]:n},[`${e}-dot`]:{position:"absolute",[m]:s(n).sub(o).div(2).equal()}}},hr=t=>{const{componentCls:r,marginPartWithMark:e}=t;return{[`${r}-horizontal`]:Object.assign(Object.assign({},yn(t,!0)),{[`&${r}-with-marks`]:{marginBottom:e}})}},pr=t=>{const{componentCls:r}=t;return{[`${r}-vertical`]:Object.assign(Object.assign({},yn(t,!1)),{height:"100%"})}},mr=t=>{const e=t.controlHeightLG/4,n=t.controlHeightSM/2,a=t.lineWidth+1,o=t.lineWidth+1*1.5,i=t.colorPrimary,s=new Xt(i).setA(.2).toRgbString();return{controlSize:e,railSize:4,handleSize:e,handleSizeHover:n,dotSize:8,handleLineWidth:a,handleLineWidthHover:o,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:i,handleActiveOutlineColor:s,handleColorDisabled:new Xt(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},gr=zn("Slider",t=>{const r=Fn(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[fr(r),hr(r),pr(r)]},mr);function xt(){const[t,r]=d.useState(!1),e=d.useRef(null),n=()=>{it.cancel(e.current)},a=o=>{n(),o?r(o):e.current=it(()=>{r(o)})};return d.useEffect(()=>n,[]),[t,a]}var vr=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e};function br(t,r){return t||t===null?t:r||r===null?r:e=>typeof e=="number"?e.toString():""}const wt=je.forwardRef((t,r)=>{var e,n,a,o,i,s,h,l,c,m;const{prefixCls:x,range:g,className:b,rootClassName:C,style:f,disabled:y,tooltipPrefixCls:u,tipFormatter:p,tooltipVisible:E,getTooltipPopupContainer:M,tooltipPlacement:T,tooltip:L={},onChangeComplete:B,classNames:D,styles:v}=t,w=vr(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:_}=t,{direction:j,slider:R,getPrefixCls:k,getPopupContainer:V}=je.useContext(Ln),Z=je.useContext(Bn),pe=y??Z,{handleRender:ge,direction:Ee}=je.useContext(dr),Ce=(Ee||j)==="rtl",[Ne,ve]=xt(),[W,A]=xt(),O=Object.assign({},L),{open:z,placement:$,getPopupContainer:N,prefixCls:F,formatter:X}=O,q=z??E,H=(Ne||W)&&q!==!1,Y=br(X,p),[te,J]=xt(),re=ee=>{B==null||B(ee),J(!1)},Q=(ee,Ae)=>ee||(Ae?Ce?"left":"right":"top"),ae=k("slider",x),[ue,ne,G]=gr(ae),fe=Re(b,R==null?void 0:R.className,(e=R==null?void 0:R.classNames)===null||e===void 0?void 0:e.root,D==null?void 0:D.root,C,{[`${ae}-rtl`]:Ce,[`${ae}-lock`]:te},ne,G);Ce&&!w.vertical&&(w.reverse=!w.reverse),je.useEffect(()=>{const ee=()=>{it(()=>{A(!1)},1)};return document.addEventListener("mouseup",ee),()=>{document.removeEventListener("mouseup",ee)}},[]);const ye=g&&!q,ke=ge||((ee,Ae)=>{const{index:Be}=Ae,st=ee.props;function He(de,oe,bt){var ie,Oe,Ue,Ve;bt&&((Oe=(ie=w)[de])===null||Oe===void 0||Oe.call(ie,oe)),(Ve=(Ue=st)[de])===null||Ve===void 0||Ve.call(Ue,oe)}const Ye=Object.assign(Object.assign({},st),{onMouseEnter:de=>{ve(!0),He("onMouseEnter",de)},onMouseLeave:de=>{ve(!1),He("onMouseLeave",de)},onMouseDown:de=>{A(!0),J(!0),He("onMouseDown",de)},onFocus:de=>{var oe;A(!0),(oe=w.onFocus)===null||oe===void 0||oe.call(w,de),He("onFocus",de,!0)},onBlur:de=>{var oe;A(!1),(oe=w.onBlur)===null||oe===void 0||oe.call(w,de),He("onBlur",de,!0)}}),Qe=je.cloneElement(ee,Ye),vt=(!!q||H)&&Y!==null;return ye?Qe:je.createElement(Qt,Object.assign({},O,{prefixCls:k("tooltip",F??u),title:Y?Y(Ae.value):"",open:vt,placement:Q($??T,_),key:Be,classNames:{root:`${ae}-tooltip`},getPopupContainer:N||M||V}),Qe)}),we=ye?(ee,Ae)=>{const Be=je.cloneElement(ee,{style:Object.assign(Object.assign({},ee.props.style),{visibility:"hidden"})});return je.createElement(Qt,Object.assign({},O,{prefixCls:k("tooltip",F??u),title:Y?Y(Ae.value):"",open:Y!==null&&H,placement:Q($??T,_),key:"tooltip",classNames:{root:`${ae}-tooltip`},getPopupContainer:N||M||V,draggingDelete:Ae.draggingDelete}),Be)}:void 0,Se=Object.assign(Object.assign(Object.assign(Object.assign({},(n=R==null?void 0:R.styles)===null||n===void 0?void 0:n.root),R==null?void 0:R.style),v==null?void 0:v.root),f),me=Object.assign(Object.assign({},(a=R==null?void 0:R.styles)===null||a===void 0?void 0:a.tracks),v==null?void 0:v.tracks),$e=Re((o=R==null?void 0:R.classNames)===null||o===void 0?void 0:o.tracks,D==null?void 0:D.tracks);return ue(je.createElement(ur,Object.assign({},w,{classNames:Object.assign({handle:Re((i=R==null?void 0:R.classNames)===null||i===void 0?void 0:i.handle,D==null?void 0:D.handle),rail:Re((s=R==null?void 0:R.classNames)===null||s===void 0?void 0:s.rail,D==null?void 0:D.rail),track:Re((h=R==null?void 0:R.classNames)===null||h===void 0?void 0:h.track,D==null?void 0:D.track)},$e?{tracks:$e}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},(l=R==null?void 0:R.styles)===null||l===void 0?void 0:l.handle),v==null?void 0:v.handle),rail:Object.assign(Object.assign({},(c=R==null?void 0:R.styles)===null||c===void 0?void 0:c.rail),v==null?void 0:v.rail),track:Object.assign(Object.assign({},(m=R==null?void 0:R.styles)===null||m===void 0?void 0:m.track),v==null?void 0:v.track)},Object.keys(me).length?{tracks:me}:{}),step:w.step,range:g,className:fe,style:Se,disabled:pe,ref:r,prefixCls:ae,handleRender:ke,activeHandleRender:we,onChangeComplete:re})))});var jt=function(t,r){return jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},jt(t,r)};function Cr(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");jt(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ce=function(){return ce=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ce.apply(this,arguments)};function yr(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}function ct(t,r,e,n){function a(o){return o instanceof e?o:new e(function(i){i(o)})}return new(e||(e=Promise))(function(o,i){function s(c){try{l(n.next(c))}catch(m){i(m)}}function h(c){try{l(n.throw(c))}catch(m){i(m)}}function l(c){c.done?o(c.value):a(c.value).then(s,h)}l((n=n.apply(t,r||[])).next())})}var St,en;function xr(){if(en)return St;en=1;var t=!1,r,e,n,a,o,i,s,h,l,c,m,x,g,b,C;function f(){if(!t){t=!0;var u=navigator.userAgent,p=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(u),E=/(Mac OS X)|(Windows)|(Linux)/.exec(u);if(x=/\b(iPhone|iP[ao]d)/.exec(u),g=/\b(iP[ao]d)/.exec(u),c=/Android/i.exec(u),b=/FBAN\/\w+;/i.exec(u),C=/Mobile/i.exec(u),m=!!/Win64/.exec(u),p){r=p[1]?parseFloat(p[1]):p[5]?parseFloat(p[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var M=/(?:Trident\/(\d+.\d+))/.exec(u);i=M?parseFloat(M[1])+4:r,e=p[2]?parseFloat(p[2]):NaN,n=p[3]?parseFloat(p[3]):NaN,a=p[4]?parseFloat(p[4]):NaN,a?(p=/(?:Chrome\/(\d+\.\d+))/.exec(u),o=p&&p[1]?parseFloat(p[1]):NaN):o=NaN}else r=e=n=o=a=NaN;if(E){if(E[1]){var T=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(u);s=T?parseFloat(T[1].replace("_",".")):!0}else s=!1;h=!!E[2],l=!!E[3]}else s=h=l=!1}}var y={ie:function(){return f()||r},ieCompatibilityMode:function(){return f()||i>r},ie64:function(){return y.ie()&&m},firefox:function(){return f()||e},opera:function(){return f()||n},webkit:function(){return f()||a},safari:function(){return y.webkit()},chrome:function(){return f()||o},windows:function(){return f()||h},osx:function(){return f()||s},linux:function(){return f()||l},iphone:function(){return f()||x},mobile:function(){return f()||x||g||c||C},nativeApp:function(){return f()||b},android:function(){return f()||c},ipad:function(){return f()||g}};return St=y,St}var Rt,tn;function wr(){if(tn)return Rt;tn=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return Rt=r,Rt}var Et,nn;function Sr(){if(nn)return Et;nn=1;var t=wr(),r;t.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(n,a){if(!t.canUseDOM||a&&!("addEventListener"in document))return!1;var o="on"+n,i=o in document;if(!i){var s=document.createElement("div");s.setAttribute(o,"return;"),i=typeof s[o]=="function"}return!i&&r&&n==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}return Et=e,Et}var _t,rn;function Rr(){if(rn)return _t;rn=1;var t=xr(),r=Sr(),e=10,n=40,a=800;function o(i){var s=0,h=0,l=0,c=0;return"detail"in i&&(h=i.detail),"wheelDelta"in i&&(h=-i.wheelDelta/120),"wheelDeltaY"in i&&(h=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(s=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=h,h=0),l=s*e,c=h*e,"deltaY"in i&&(c=i.deltaY),"deltaX"in i&&(l=i.deltaX),(l||c)&&i.deltaMode&&(i.deltaMode==1?(l*=n,c*=n):(l*=a,c*=a)),l&&!s&&(s=l<1?-1:1),c&&!h&&(h=c<1?-1:1),{spinX:s,spinY:h,pixelX:l,pixelY:c}}return o.getEventType=function(){return t.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},_t=o,_t}var Mt,an;function Er(){return an||(an=1,Mt=Rr()),Mt}var _r=Er();const Mr=Hn(_r);function Dr(t,r,e,n,a,o){o===void 0&&(o=0);var i=Je(t,r,o),s=i.width,h=i.height,l=Math.min(s,e),c=Math.min(h,n);return l>c*a?{width:c*a,height:c}:{width:l,height:l/a}}function Pr(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function nt(t,r,e,n,a){a===void 0&&(a=0);var o=Je(r.width,r.height,a),i=o.width,s=o.height;return{x:on(t.x,i,e.width,n),y:on(t.y,s,e.height,n)}}function on(t,r,e,n){var a=r*n/2-e/2;return gt(t,-a,a)}function sn(t,r){return Math.sqrt(Math.pow(t.y-r.y,2)+Math.pow(t.x-r.x,2))}function ln(t,r){return Math.atan2(r.y-t.y,r.x-t.x)*180/Math.PI}function Nr(t,r,e,n,a,o,i){o===void 0&&(o=0),i===void 0&&(i=!0);var s=i?kr:Or,h=Je(r.width,r.height,o),l=Je(r.naturalWidth,r.naturalHeight,o),c={x:s(100,((h.width-e.width/a)/2-t.x/a)/h.width*100),y:s(100,((h.height-e.height/a)/2-t.y/a)/h.height*100),width:s(100,e.width/h.width*100/a),height:s(100,e.height/h.height*100/a)},m=Math.round(s(l.width,c.width*l.width/100)),x=Math.round(s(l.height,c.height*l.height/100)),g=l.width>=l.height*n,b=g?{width:Math.round(x*n),height:x}:{width:m,height:Math.round(m/n)},C=ce(ce({},b),{x:Math.round(s(l.width-b.width,c.x*l.width/100)),y:Math.round(s(l.height-b.height,c.y*l.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:C}}function kr(t,r){return Math.min(t,Math.max(0,r))}function Or(t,r){return r}function jr(t,r,e,n,a,o){var i=Je(r.width,r.height,e),s=gt(n.width/i.width*(100/t.width),a,o),h={x:s*i.width/2-n.width/2-i.width*s*(t.x/100),y:s*i.height/2-n.height/2-i.height*s*(t.y/100)};return{crop:h,zoom:s}}function Tr(t,r,e){var n=Pr(r);return e.height>e.width?e.height/(t.height*n):e.width/(t.width*n)}function $r(t,r,e,n,a,o){e===void 0&&(e=0);var i=Je(r.naturalWidth,r.naturalHeight,e),s=gt(Tr(t,r,n),a,o),h=n.height>n.width?n.height/t.height:n.width/t.width,l={x:((i.width-t.width)/2-t.x)*h,y:((i.height-t.height)/2-t.y)*h};return{crop:l,zoom:s}}function cn(t,r){return{x:(r.x+t.x)/2,y:(r.y+t.y)/2}}function Ar(t){return t*Math.PI/180}function Je(t,r,e){var n=Ar(e);return{width:Math.abs(Math.cos(n)*t)+Math.abs(Math.sin(n)*r),height:Math.abs(Math.sin(n)*t)+Math.abs(Math.cos(n)*r)}}function gt(t,r,e){return Math.min(Math.max(t,r),e)}function ut(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var zr=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Fr=1,Ir=3,Lr=1,Br=function(t){Cr(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=d.createRef(),e.imageRef=d.createRef(),e.videoRef=d.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var n=!0;e.resizeObserver=new window.ResizeObserver(function(a){if(n){n=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(n){return n.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var n=e.computeSizes();n&&(e.emitCropData(),e.setInitialCrop(n)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(n){if(e.props.initialCroppedAreaPercentages){var a=jr(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,n,e.props.minZoom,e.props.maxZoom),o=a.crop,i=a.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=$r(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,n,e.props.minZoom,e.props.maxZoom),o=s.crop,i=s.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var n,a,o,i,s,h,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var c=e.containerRect.width/e.containerRect.height,m=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,x=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,g=l.offsetWidth<m||l.offsetHeight<x,b=m/x,C=void 0;if(g)switch(e.state.mediaObjectFit){default:case"contain":C=c>b?{width:e.containerRect.height*b,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/b};break;case"horizontal-cover":C={width:e.containerRect.width,height:e.containerRect.width/b};break;case"vertical-cover":C={width:e.containerRect.height*b,height:e.containerRect.height};break}else C={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=ce(ce({},C),{naturalWidth:m,naturalHeight:x}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var f=e.props.cropSize?e.props.cropSize:Dr(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==f.height||((h=e.state.cropSize)===null||h===void 0?void 0:h.width)!==f.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(f),e.setState({cropSize:f},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(f),f}},e.saveContainerPosition=function(){if(e.containerRef){var n=e.containerRef.getBoundingClientRect();e.containerPosition={x:n.left,y:n.top}}},e.onMouseDown=function(n){e.currentDoc&&(n.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(r.getMousePoint(n)))},e.onMouseMove=function(n){return e.onDrag(r.getMousePoint(n))},e.onScroll=function(n){e.currentDoc&&(n.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(n){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(n))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),n.touches.length===2?e.onPinchStart(n):n.touches.length===1&&e.onDragStart(r.getTouchPoint(n.touches[0]))))},e.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?e.onPinchMove(n):n.touches.length===1&&e.onDrag(r.getTouchPoint(n.touches[0]))},e.onGestureStart=function(n){e.currentDoc&&(n.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(n){if(n.preventDefault(),!e.isTouching){var a=r.getMousePoint(n),o=e.gestureZoomStart-1+n.scale;if(e.setNewZoom(o,a,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+n.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(n){e.cleanEvents()},e.onDragStart=function(n){var a,o,i=n.x,s=n.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=ce({},e.props.crop),(o=(a=e.props).onInteractionStart)===null||o===void 0||o.call(a)},e.onDrag=function(n){var a=n.x,o=n.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(a===void 0||o===void 0)){var i=a-e.dragStartPosition.x,s=o-e.dragStartPosition.y,h={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?nt(h,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):h;e.props.onCropChange(l)}}))},e.onDragStopped=function(){var n,a;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(a=(n=e.props).onInteractionEnd)===null||a===void 0||a.call(n)},e.onWheel=function(n){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(n))){n.preventDefault();var a=r.getMousePoint(n),o=Mr(n).pixelY,i=e.props.zoom-o*e.props.zoomSpeed/200;e.setNewZoom(i,a,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,h;return(h=(s=e.props).onInteractionStart)===null||h===void 0?void 0:h.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,h;return(h=(s=e.props).onInteractionEnd)===null||h===void 0?void 0:h.call(s)})},250)}},e.getPointOnContainer=function(n,a){var o=n.x,i=n.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(o-a.x),y:e.containerRect.height/2-(i-a.y)}},e.getPointOnMedia=function(n){var a=n.x,o=n.y,i=e.props,s=i.crop,h=i.zoom;return{x:(a+s.x)/h,y:(o+s.y)/h}},e.setNewZoom=function(n,a,o){var i=o===void 0?{}:o,s=i.shouldUpdatePosition,h=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var l=gt(n,e.props.minZoom,e.props.maxZoom);if(h){var c=e.getPointOnContainer(a,e.containerPosition),m=e.getPointOnMedia(c),x={x:m.x*l-c.x,y:m.y*l-c.y},g=e.props.restrictPosition?nt(x,e.mediaSize,e.state.cropSize,l,e.props.rotation):x;e.props.onCropChange(g)}e.props.onZoomChange(l)}},e.getCropData=function(){if(!e.state.cropSize)return null;var n=e.props.restrictPosition?nt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Nr(n,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var n=e.getCropData();if(n){var a=n.croppedAreaPercentages,o=n.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(a,o),e.props.onCropAreaChange&&e.props.onCropAreaChange(a,o)}},e.emitCropAreaChange=function(){var n=e.getCropData();if(n){var a=n.croppedAreaPercentages,o=n.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(a,o)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var n=e.props.restrictPosition?nt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(n),e.emitCropData()}},e.onKeyDown=function(n){var a,o,i=e.props,s=i.crop,h=i.onCropChange,l=i.keyboardStep,c=i.zoom,m=i.rotation,x=l;if(e.state.cropSize){n.shiftKey&&(x*=.2);var g=ce({},s);switch(n.key){case"ArrowUp":g.y-=x,n.preventDefault();break;case"ArrowDown":g.y+=x,n.preventDefault();break;case"ArrowLeft":g.x-=x,n.preventDefault();break;case"ArrowRight":g.x+=x,n.preventDefault();break;default:return}e.props.restrictPosition&&(g=nt(g,e.mediaSize,e.state.cropSize,c,m)),n.repeat||(o=(a=e.props).onInteractionStart)===null||o===void 0||o.call(a),h(g)}},e.onKeyUp=function(n){var a,o;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}e.emitCropData(),(o=(a=e.props).onInteractionEnd)===null||o===void 0||o.call(a)},e}return r.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=zr,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},r.prototype.componentWillUnmount=function(){var e,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},r.prototype.componentDidUpdate=function(e){var n,a,o,i,s,h,l,c,m;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((n=e.cropSize)===null||n===void 0?void 0:n.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((o=e.cropSize)===null||o===void 0?void 0:o.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((h=this.props.crop)===null||h===void 0?void 0:h.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load());var x=this.getObjectFit();x!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:x},this.computeSizes)},r.prototype.getAspect=function(){var e=this.props,n=e.cropSize,a=e.aspect;return n?n.width/n.height:a},r.prototype.getObjectFit=function(){var e,n,a,o;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,h=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,l=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,c=h/l;return c<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},r.prototype.onPinchStart=function(e){var n=r.getTouchPoint(e.touches[0]),a=r.getTouchPoint(e.touches[1]);this.lastPinchDistance=sn(n,a),this.lastPinchRotation=ln(n,a),this.onDragStart(cn(n,a))},r.prototype.onPinchMove=function(e){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var a=r.getTouchPoint(e.touches[0]),o=r.getTouchPoint(e.touches[1]),i=cn(a,o);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=sn(a,o),h=n.props.zoom*(s/n.lastPinchDistance);n.setNewZoom(h,i,{shouldUpdatePosition:!1}),n.lastPinchDistance=s;var l=ln(a,o),c=n.props.rotation+(l-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(c),n.lastPinchRotation=l})}},r.prototype.render=function(){var e=this,n,a=this.props,o=a.image,i=a.video,s=a.mediaProps,h=a.cropperProps,l=a.transform,c=a.crop,m=c.x,x=c.y,g=a.rotation,b=a.zoom,C=a.cropShape,f=a.showGrid,y=a.style,u=y.containerStyle,p=y.cropAreaStyle,E=y.mediaStyle,M=a.classes,T=M.containerClassName,L=M.cropAreaClassName,B=M.mediaClassName,D=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(w){return e.containerRef=w},"data-testid":"container",style:u,className:ut("reactEasyCrop_Container",T)},o?d.createElement("img",ce({alt:"",className:ut("reactEasyCrop_Image",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",B)},s,{src:o,ref:this.imageRef,style:ce(ce({},E),{transform:l||"translate(".concat(m,"px, ").concat(x,"px) rotate(").concat(g,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):i&&d.createElement("video",ce({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ut("reactEasyCrop_Video",D==="contain"&&"reactEasyCrop_Contain",D==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",D==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",B)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ce(ce({},E),{transform:l||"translate(".concat(m,"px, ").concat(x,"px) rotate(").concat(g,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(v){return d.createElement("source",ce({key:v.src},v))})),this.state.cropSize&&d.createElement("div",ce({ref:this.cropperRef,style:ce(ce({},p),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ut("reactEasyCrop_CropArea",C==="round"&&"reactEasyCrop_CropAreaRound",f&&"reactEasyCrop_CropAreaGrid",L)},h)))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Ir,minZoom:Fr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Lr},r.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r}(d.Component);const Te="img-crop",Dt=1,rt=.1,ht=0,un=-180,dn=180,Pt=1,at=.01,Hr=d.forwardRef((t,r)=>{const{cropperRef:e,zoomSlider:n,rotationSlider:a,aspectSlider:o,showReset:i,resetBtnText:s,modalImage:h,aspect:l,minZoom:c,maxZoom:m,minAspect:x,maxAspect:g,cropShape:b,showGrid:C,cropperProps:f}=t,[y,u]=d.useState(Dt),[p,E]=d.useState(ht),[M,T]=d.useState(l),L=y!==Dt||p!==ht||M!==l,B=()=>{u(Dt),E(ht),T(l)},[D,v]=d.useState({x:0,y:0}),w=d.useRef({width:0,height:0,x:0,y:0}),_=d.useCallback((V,Z)=>{w.current=Z},[]);d.useImperativeHandle(r,()=>({rotation:p,cropPixelsRef:w,onReset:B}));const j="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",R="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",k="[flex:1]";return S.jsxs(S.Fragment,{children:[S.jsx(Br,Object.assign({},f,{ref:e,image:h,crop:D,zoom:y,rotation:p,aspect:M,minZoom:c,maxZoom:m,zoomWithScroll:n,cropShape:b,showGrid:C,onCropChange:v,onZoomChange:u,onRotationChange:E,onCropComplete:_,classes:{containerClassName:`${Te}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${Te}-media`}})),n&&S.jsxs("section",{className:`${Te}-control ${Te}-control-zoom ${j}`,children:[S.jsx("button",{className:R,onClick:()=>u(+(y-rt).toFixed(1)),disabled:y-rt<c,children:"－"}),S.jsx(wt,{className:k,min:c,max:m,step:rt,value:y,onChange:u}),S.jsx("button",{className:R,onClick:()=>u(+(y+rt).toFixed(1)),disabled:y+rt>m,children:"＋"})]}),a&&S.jsxs("section",{className:`${Te}-control ${Te}-control-rotation ${j}`,children:[S.jsx("button",{className:`${R} [font-size:16px]`,onClick:()=>E(p-Pt),disabled:p===un,children:"↺"}),S.jsx(wt,{className:k,min:un,max:dn,step:Pt,value:p,onChange:E}),S.jsx("button",{className:`${R} [font-size:16px]`,onClick:()=>E(p+Pt),disabled:p===dn,children:"↻"})]}),o&&S.jsxs("section",{className:`${Te}-control ${Te}-control-aspect ${j}`,children:[S.jsx("button",{className:R,onClick:()=>T(+(M-at).toFixed(2)),disabled:M-at<x,children:"↕"}),S.jsx(wt,{className:k,min:x,max:g,step:at,value:M,onChange:T}),S.jsx("button",{className:R,onClick:()=>T(+(M+at).toFixed(2)),disabled:M+at>g,children:"↔"})]}),i&&(n||a||o)&&S.jsx(pt,{className:"[bottom:20px] [position:absolute]",style:L?{}:{opacity:.3,pointerEvents:"none"},onClick:B,children:s})]})});var Wr=d.memo(Hr);function qr(t,r){r===void 0&&(r={});var e=r.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var Ur=".\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";qr(Ur,{insertAt:"top"});const Zr=d.forwardRef((t,r)=>{const{quality:e=.4,fillColor:n="white",zoomSlider:a=!0,rotationSlider:o=!1,aspectSlider:i=!1,showReset:s=!1,resetText:h,aspect:l=1,minZoom:c=1,maxZoom:m=3,minAspect:x=.5,maxAspect:g=2,cropShape:b="rect",showGrid:C=!1,cropperProps:f,modalClassName:y,modalTitle:u,modalWidth:p,modalOk:E,modalCancel:M,onModalOk:T,onModalCancel:L,modalProps:B,beforeCrop:D,children:v}=t,w=d.useRef({});w.current.onModalOk=T,w.current.onModalCancel=L,w.current.beforeCrop=D;const _=d.useRef(null),j=d.useCallback(O=>{var z;const $=document.createElement("canvas"),N=$.getContext("2d"),X=(((z=O==null?void 0:O.getRootNode)===null||z===void 0?void 0:z.call(O))||document).querySelector(`.${Te}-media`),{width:q,height:H,x:Y,y:te}=_.current.cropPixelsRef.current;if(o&&_.current.rotation!==ht){const{naturalWidth:J,naturalHeight:re}=X,Q=_.current.rotation*(Math.PI/180),ae=Math.abs(Math.sin(Q)),ue=Math.abs(Math.cos(Q)),ne=J*ue+re*ae,G=re*ue+J*ae;$.width=ne,$.height=G,N.fillStyle=n,N.fillRect(0,0,ne,G);const fe=ne/2,ye=G/2;N.translate(fe,ye),N.rotate(Q),N.translate(-fe,-ye);const ke=(ne-J)/2,we=(G-re)/2;N.drawImage(X,0,0,J,re,ke,we,J,re);const Se=N.getImageData(0,0,ne,G);$.width=q,$.height=H,N.putImageData(Se,-Y,-te)}else $.width=q,$.height=H,N.fillStyle=n,N.fillRect(0,0,q,H),N.drawImage(X,Y,te,q,H,0,0,q,H);return $},[n,o]),[R,k]=d.useState(""),V=d.useRef(),Z=d.useRef(),pe=d.useCallback(O=>ct(void 0,[O],void 0,function*({beforeUpload:z,file:$,resolve:N,reject:F}){const X=$;if(typeof z!="function"){N(X);return}try{const q=yield z($,[$]);N(q===!1?!1:q!==!0&&q||X)}catch(q){F(q)}}),[]),ge=d.useCallback(O=>(z,$)=>new Promise((N,F)=>ct(void 0,void 0,void 0,function*(){let X=z;if(typeof w.current.beforeCrop=="function")try{const H=yield w.current.beforeCrop(z,$);if(H===!1)return pe({beforeUpload:O,file:z,resolve:N,reject:F});H!==!0&&(X=H||z)}catch{return pe({beforeUpload:O,file:z,resolve:N,reject:F})}const q=new FileReader;q.addEventListener("load",()=>{typeof q.result=="string"&&k(q.result)}),q.readAsDataURL(X),V.current=()=>{var H,Y;k(""),_.current.onReset();let te=!1;(Y=(H=w.current).onModalCancel)===null||Y===void 0||Y.call(H,J=>{N(J),te=!0}),te||N(vn.LIST_IGNORE)},Z.current=H=>ct(void 0,void 0,void 0,function*(){k(""),_.current.onReset();const Y=j(H.target),{type:te,name:J,uid:re}=X;Y.toBlob(Q=>ct(void 0,void 0,void 0,function*(){const ae=new File([Q],J,{type:te});Object.assign(ae,{uid:re}),pe({beforeUpload:O,file:ae,resolve:ue=>{var ne,G;N(ue),(G=(ne=w.current).onModalOk)===null||G===void 0||G.call(ne,ue)},reject:ue=>{var ne,G;F(ue),(G=(ne=w.current).onModalOk)===null||G===void 0||G.call(ne,ue)}})}),te,e)})})),[j,e,pe]),Ee=d.useCallback(O=>{const z=Array.isArray(O)?O[0]:O,$=z.props,{beforeUpload:N,accept:F}=$,X=yr($,["beforeUpload","accept"]);return Object.assign(Object.assign({},z),{props:Object.assign(Object.assign({},X),{accept:F||"image/*",beforeUpload:ge(N)})})},[ge]),_e=d.useMemo(()=>{const O={};return p!==void 0&&(O.width=p),E!==void 0&&(O.okText=E),M!==void 0&&(O.cancelText=M),O},[M,E,p]),Ce=`${Te}-modal${y?` ${y}`:""}`,ve=(typeof window>"u"?"":window.navigator.language)==="zh-CN",W=u||(ve?"编辑图片":"Edit image"),A=h||(ve?"重置":"Reset");return S.jsxs(S.Fragment,{children:[Ee(v),R&&S.jsx(Zn,Object.assign({},B,_e,{open:!0,title:W,onCancel:V.current,onOk:Z.current,wrapClassName:Ce,maskClosable:!1,destroyOnClose:!0,children:S.jsx(Wr,{ref:_,cropperRef:r,zoomSlider:a,rotationSlider:o,aspectSlider:i,showReset:s,resetBtnText:A,modalImage:R,aspect:l,minZoom:c,maxZoom:m,minAspect:x,maxAspect:g,cropShape:b,showGrid:C,cropperProps:f})}))]})}),ra=({handleCurrent:t,hadleMenuId:r})=>{const[e]=hn(),n=Number(e.get("strfId")),a=e.get("category"),o=Number(e.get("menuId")),s=pn().pathname,h=mn(),l=()=>{s==="/business/menu/create"&&(a===Gt.STAY?t==null||t(1):h(`/business/menu?strfId=${n}&category=${a}`)),s==="/business/menu/edit"&&h(`/business/menu?strfId=${n}&category=${a}`)},c=mt("user"),m=c==null?void 0:c.strfDtos[0].busiNum,x=mt("accessToken"),[g]=bn(),[b]=Wn(Yt),C=qn(Yt);d.useEffect(()=>{var v;g.setFieldsValue({menuPic:{uid:"1",name:b.menuTitle,status:"done",url:`${Un}/${n}/menu/${(v=b.menuPic)==null?void 0:v.url}`},menuTitle:b.menuTitle,menuPrice:b.menuPrice})},[]);const[f,y]=d.useState([]),[,u]=d.useState(null),[p,E]=d.useState(!1),M=({fileList:v})=>{y(v),g.setFieldValue("menuPic",v)},T=async v=>{let w=v.url;w||(w=await new Promise(R=>{const k=new FileReader;k.readAsDataURL(v.originFileObj),k.onload=()=>R(k.result)}));const _=new Image;_.src=w;const j=window.open(w);j==null||j.document.write(_.outerHTML)},L=async v=>{E(!0);const w="/api/detail/menu";try{const _=await kt.post(w,v,{headers:{Authorization:`Bearer ${x}`}});console.log("메뉴 등록 code",_.data.code);const j=_.data;return j.code==="200 성공"&&(ot.success("메뉴 등록을 성공했습니다"),l(),r==null||r(j.data),E(!1),C()),_.data}catch(_){return console.error("메뉴 등록 실패",_),E(!1),ot.error("메뉴 등록에 실패했습니다"),null}},B=async v=>{E(!0);const w="/api/detail/menu";try{const _=await kt.put(w,v,{headers:{Authorization:`Bearer ${x}`}});console.log("메뉴 수정",_.data);const j=_.data;return(j==null?void 0:j.code)==="200 성공"&&(E(!1),l(),ot.success("메뉴 수정을 성공했습니다"),C()),_.data}catch(_){return console.error("메뉴 수정 실패",_),E(!1),ot.error("메뉴 수정에 실패했습니다"),null}},D=v=>{const{menuTitle:w,menuPrice:_}=v,j={strfId:n,busiNum:m,menus:[{menuTitle:w,menuPrice:_}]},R={strfId:n,menuId:o,busiNum:m,menus:[{menuPrice:_,menuTitle:w}]},k=new FormData;if(!f||f.length===0){console.error("⚠️ fileList가 비어 있습니다!");return}k.append("menuPic",f[0].originFileObj),s==="/business/menu/create"&&(console.log("p",j),k.append("p",new Blob([JSON.stringify(j)],{type:"application/json"})),console.log("제출 데이터",k.get("p"))),s==="/business/menu/edit"&&(console.log("menuReq",R),k.append("menuReq",new Blob([JSON.stringify(R)],{type:"application/json"})),console.log("제출 데이터",k.get("menuReq"))),console.log("FormData entries:");for(let V of k.entries())console.log(V[0],V[1]);s==="/business/menu/create"&&L(k),s==="/business/menu/edit"&&B(k)};return S.jsx("section",{className:"flex flex-col gap-2 px-4 py-3",children:S.jsx(Cn,{spinning:p,children:S.jsxs(De,{form:g,onFinish:D,name:"menu",children:[S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[Me(a)," 사진"]}),S.jsxs("p",{className:"text-sm text-slate-500",children:[Me(a)," 이미지를 등록해주세요."]})]}),S.jsx(De.Item,{name:"menuPic",rules:[{required:!0,message:"메뉴 사진을 등록해주세요.",validator:()=>f.length>0?Promise.resolve():Promise.reject(new Error("메뉴 사진을 등록해주세요."))}],help:`${Me(a)} 이미지는 최대 1장입니다.`,children:S.jsx(Zr,{rotationSlider:!0,children:S.jsx(vn,{listType:"picture-card",fileList:f,onChange:M,onPreview:T,beforeUpload:()=>!1,accept:"image/*",maxCount:1,children:f.length<1&&"+ Upload"})})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[Me(a)," 이름"]}),S.jsxs("p",{className:"text-sm text-slate-500",children:["고객에게 보이는 ",Me(a)," 이름입니다."]})]}),S.jsx(De.Item,{name:"menuTitle",rules:[{required:!0,message:`${Me(a)} 이름을 입력해주세요.`}],className:"w-3/4",children:S.jsx(gn,{size:"large",placeholder:`${Me(a)} 이름을 입력해주세요 예) ${a===Gt.STAY?"트윈룸":"마라탕"}`})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[Me(a)," 가격"]}),S.jsxs("p",{className:"text-sm text-slate-500",children:["고객에게 보이는 ",Me(a)," 가격입니다."]})]}),S.jsx(De.Item,{name:"menuPrice",rules:[{required:!0,message:`${Me(a)} 가격을 입력해주세요.`}],className:"w-3/4",children:S.jsx(ft,{size:"large",placeholder:`${Me(a)} 가격을 입력해주세요 예) 100000`,suffix:"원",onChange:v=>{typeof v=="number"&&u(v)},formatter:v=>typeof v=="string"?v.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:v=>v==null?void 0:v.replace(/,/g,""),className:"w-full"})}),S.jsxs(De.Item,{className:"flex justify-end gap-2",children:[S.jsxs(pt,{type:"default",size:"large",htmlType:"button",className:"mr-5 text-slate-500 text-lg",onClick:()=>g.resetFields(),children:[S.jsx(Gn,{}),"초기화"]}),S.jsx(pt,{type:"primary",htmlType:"submit",size:"large",className:"text-lg",children:s==="/business/menu/create"?"등록하기":"수정하기"})]})]})})})},aa=({menuId:t})=>{const r=mt("accessToken"),e=mt("user"),n=e==null?void 0:e.strfDtos[0].busiNum,[a]=hn(),o=Number(a.get("strfId")),i=a.get("category"),s=mn(),[h]=bn(),[l,c]=d.useState(!1),[m,x]=d.useState([]),b=pn().pathname,C=async u=>{c(!0);const p="/api/detail/stay";try{const E=await kt.post(p,u,{headers:{Authorization:`Bearer ${r}`}});console.log(E.data);const M=E.data;return M&&(c(!1),ot.success("객실 생성 완료"),s(`/business/menu?strfId=${o}&category=${i}`)),M}catch{return c(!1),null}},f=u=>{m.includes(u)?x(p=>p.filter(E=>E!==u)):x(p=>[...p,u])},y=u=>{console.log(u);const{recomCapacity:p,maxCapacity:E,surcharge:M,rooms:T}=u,L={strfId:o,busiNum:n,category:Vn(i),menuId:Number(t),ameniPoints:m,parlors:[{menuId:Number(t),recomCapacity:p,maxCapacity:E,surcharge:M}],rooms:T};console.log(L),C(L)};return S.jsx("div",{className:"px-4 py-3",children:S.jsx(Cn,{spinning:l,children:S.jsxs(De,{form:h,onFinish:y,name:"room/parlors/amenities",children:[S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"객실 수량"}),S.jsx("p",{className:"text-sm text-slate-500",children:"해당 객실 종류의 수량을 선택해주세요."})]}),S.jsx(De.Item,{name:"rooms",rules:[{required:!0,message:"객실 번호를 입력해주세요."}],className:"w-full pb-5",children:S.jsx(gn,{placeholder:"객실 수량을 선택해주세요",size:"large"})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"객실 인원"}),S.jsxs("p",{className:"text-sm text-slate-500",children:["해당 객실 종류의 권장 인원 및 최대 인원과 그에 따른 추가금액을",S.jsx("br",{}),"입력해주세요."]})]}),S.jsx(De.Item,{name:"recomCapacity",rules:[{required:!0,message:"권장 인원을 입력해주세요."}],label:"권장 인원",labelCol:{span:30},className:"w-full",children:S.jsx(ft,{size:"large",placeholder:"권장 인원",className:"w-3/4",suffix:"명",onChange:u=>h.setFieldsValue({maxCapacity:u})})}),S.jsx(De.Item,{name:"maxCapacity",rules:[{required:!0,message:"최대 인원을 입력해주세요."}],label:"최대 인원",labelCol:{span:30},className:"w-full",children:S.jsx(ft,{size:"large",placeholder:"최대 인원",className:"w-3/4",suffix:"명"})}),S.jsx(De.Item,{name:"surcharge",rules:[{required:!0,message:"추가 금액을 입력해주세요."}],label:"추가 금액",labelCol:{span:30},className:"w-full pb-5",children:S.jsx(ft,{size:"large",placeholder:"추가 금액",className:"w-3/4",suffix:"원",formatter:u=>u?`${u}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):""})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1 pb-10",children:[S.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"편의 시설"}),S.jsxs("p",{className:"text-sm text-slate-500 pb-2",children:["해당 객실 종류의 편의 시설을 선택해주세요.",S.jsx("br",{})," * 해당 편의시설은 검색 필터에 적용됩니다."]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:Yn.map((u,p)=>S.jsxs("button",{type:"button",className:`flex text-base items-center gap-2
                border rounded-2xl w-fit px-2 py-1
                ${m.includes(u.amenity_id)?"border-primary text-primary":"border-slate-300 text-slate-500"}`,onClick:()=>f(u.amenity_id),children:[u.icon,u.key]},p))})]}),S.jsx(De.Item,{className:"w-full flex justify-end",children:S.jsx(pt,{type:"primary",htmlType:"submit",size:"large",children:b==="/business/menu/create"?"등록하기":"수정하기"})})]})})})};export{ra as M,aa as R};
