import{g as T,u as L,r as a,j as t,B as Y,e as u}from"./index-CT_B22pp.js";import{T as A}from"./TitleHeader-Aec0FNKR.js";import{a as E}from"./pic-Jp7D6aQ0.js";import{A as I}from"./index-fddQu95t.js";import{c as M}from"./match-Bkr2ghxP.js";import{c as d,o as m}from"./search-1EubG62x.js";import{d as F}from"./dayjs.min-BZzqxIsK.js";import{F as P}from"./index-CxHXmojF.js";import{D as W}from"./index-BeRpHDwz.js";import{R as B}from"./index-By7IfTp5.js";import"./index-B_Lpx87X.js";import"./index-C3rZQhXi.js";import"./Portal-CyQVYCSQ.js";import"./collapse-BbEVqHco.js";import"./zoom-D8-KKT2g.js";import"./index-CVGdG9nl.js";import"./index-C_vWVO0w.js";import"./index-B8WYdHps.js";import"./useId-B7bKw0hq.js";import"./useLocale-jzSsxWDR.js";import"./PurePanel-C3nbqIHR.js";import"./Overflow-DAHdN6Xd.js";import"./useIcons-BLvumSSX.js";import"./CheckOutlined-BZlS9_Hp.js";const R=F().format("YYYY-MM-DD"),pe=()=>{P.useForm(),T("accessToken");const f=L(),j=()=>{f(-1)},y=e=>{f(`/contents/index?strfId=${e.strfId}`)},[h,l]=a.useState(0),[o,c]=a.useState([]),[r,N]=a.useState(0),[n,v]=a.useState(0),[w,C]=a.useState(!0),[x,D]=a.useState(R);a.useEffect(()=>{console.log("wishListData",o)},[o]);const p=async()=>{try{const e=await u.get(`/api/wish-list?start_idx=${h}&orderType=${m[n].type}&category=${d[r].name}`);console.log(e.data);const s=e.data;c([...o,...s.data]),l(i=>i+10)}catch(e){console.log("찜목록 불러오기",e)}},g=async()=>{var e;try{const s=await u.get(`/api/wish-list/fest?start_idx=${h}&orderType=${m[n].type}&category=${d[r].name}&start_at=${x}`);console.log("축제 찜목록",s.data);const i=s.data;c([...o,...i.data]),l(k=>k+10),(((e=i.data[0])==null?void 0:e.more)===!1||i.data.length===0)&&C(!1)}catch(s){console.log("찜목록 불러오기",s)}},b=e=>{N(e),l(0),c([])},$=e=>{v(e),l(0),c([])},S=async e=>{l(0),c([]);const s=e.format("YYYY-MM-DD");D(s)};return a.useEffect(()=>{p()},[]),a.useEffect(()=>{r!==4?p():g()},[r,n]),a.useEffect(()=>{x&&r===4&&g()},[x]),t.jsxs("div",{children:[t.jsx(A,{icon:"back",onClick:j,title:"찜 목록"}),t.jsxs("div",{className:"px-[32px] flex flex-col gap-[50px] mt-[30px] ",children:[t.jsxs("div",{className:"flex flex-col gap-[20px]",children:[t.jsx("ul",{className:"flex justify-between items-center",children:d.map((e,s)=>t.jsx("li",{onClick:()=>{b(s)},className:`cursor-pointer font-semibold text-[16px] w-full flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${s===r?"bg-primary text-white":"bg-white text-slate-500"}`,children:e.name},s))}),t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("ul",{className:"flex items-center gap-5",children:m.map((e,s)=>t.jsx("li",{className:`cursor-pointer font-semibold text-[13px] flex items-center py-1  ${s===n?"text-primary":"text-slate-500"}`,onClick:()=>$(s),children:e.name},s))}),r===4&&t.jsx("div",{children:t.jsx(W,{onChange:S})})]})]}),t.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:o.map((e,s)=>t.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>y(e),children:[t.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:t.jsx("img",{src:`${E}${e.strfId}/${e.strfPic}`,alt:e.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex flex-col gap-[5px]",children:[t.jsx("div",{className:"flex gap-[5px] items-center ",children:t.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:e.strfTitle})}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx("p",{className:"text-[14px] text-slate-500",children:M(e.category)}),t.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),t.jsx("p",{className:"text-[14px] text-slate-500",children:e.locationName})]}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx(B,{disabled:!0,count:1,value:e.reviewed?1:0,className:"text-primary"}),t.jsx("p",{className:"text-[12px] text-slate-500",children:e.ratingAvg!==0?e.ratingAvg:"0"}),t.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",e.ratingCnt.toLocaleString(),")"]})]}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx("div",{children:t.jsx(I,{className:"text-secondary3"})}),t.jsx("p",{className:"text-[12px] text-slate-500",children:e.wishCnt.toLocaleString()})]})]})]},s))})]}),w&&t.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:t.jsx(Y,{variant:"outlined",onClick:()=>{p()},className:"h-[46px] px-[20px] py-[10px] rounded-3xl text-slate-600 text-[16px] font-semibold",children:"더보기"})})]})};export{pe as default};
