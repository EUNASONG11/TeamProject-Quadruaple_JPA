import{r as c,g as w,u,j as t,d as v,e as h}from"./index-CG8vYf2y.js";import{A as j}from"./index-BSwssLiK.js";import{c as N}from"./index-CWOPntzi.js";import{T as b}from"./TitleHeader-HJveUMRb.js";import{R as y}from"./pic-Jp7D6aQ0.js";/* empty css                    */import{R}from"./index-DipEv1TS.js";import{B as I}from"./button-Qumjrz4E.js";import"./iconBase-BliIWTH0.js";import"./index-CkZhrZUZ.js";import"./index-BK2APq6_.js";import"./index-zbYbnkux.js";import"./useSize-s7Cj9DSQ.js";import"./useMergedState-DU3z-VtB.js";import"./KeyCode-DNlgD2sM.js";import"./pickAttrs-KpDTT5l5.js";import"./index-DrSQ8jn4.js";import"./index-E9bkYm6o.js";import"./Portal-CztClCTi.js";import"./index-N7vMWSMs.js";import"./useId-D1G52zAA.js";import"./ContextIsolator-BLCcxi2B.js";import"./context-PnQlGr6A.js";import"./UnstableContext-Cxtoe_qF.js";import"./useZIndex-DHIAsWu5.js";import"./reactNode-Dx8pTwlk.js";import"./zoom-Dx8PYXKT.js";import"./Keyframes-DQFvTPSf.js";import"./genStyleUtils-BNuyCX-p.js";const $=({images:a})=>{const o=a.length,l={1:"grid-cols-1 grid-rows-1",2:"grid-cols-2 grid-rows-1",3:"grid-cols-2 grid-rows-2",4:"grid-cols-2 grid-rows-2",5:"grid-cols-4 grid-rows-2"}[o]||"grid-cols-3 grid-rows-2";return t.jsx("div",{className:`grid gap-2 ${l} w-full h-[400px] rounded-lg overflow-hidden`,children:a.map((n,s)=>{let i="";return o===3&&s===0&&(i="row-span-2"),o===5&&s===0&&(i="row-span-2 col-span-2"),t.jsx("img",{src:n,alt:`image-${s}`,className:`w-full h-full overflow-hidden object-cover ${i}`},s)})})},se=()=>{const[a,o]=c.useState([]),[l,n]=c.useState(0),[s,i]=c.useState(!0),p=w("accessToken"),d=async()=>{try{const e=await v.get(`/api/review/my?start_idx=${l}`,{headers:{Authorization:`Bearer ${p}`}});o(e.data),console.log("✅  getUserReview  res.data.data:",e.data),e.data.more===!1&&i(!1)}catch(e){console.log("✅  getUserReview  error:",e)}},x=async e=>{console.log(e);try{const r=await h.delete(`/api/review/del?review_id=${e.reviewId}`);console.log("리뷰 삭제:",r.data),r.data&&d()}catch(r){console.log("리뷰 삭제:",r)}};c.useEffect(()=>{d()},[l]);const m=u();return t.jsxs("div",{children:[t.jsx(b,{icon:"back",title:"리뷰",onClick:()=>m(-2)}),t.jsxs("div",{className:"px-8",children:[a.map((e,r)=>{const g=e.myReviewPic.map(f=>`${y}${e.reviewId}/${f.pic}`);return t.jsxs("div",{className:"py-8",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("div",{children:t.jsxs("h1",{className:"flex items-center gap-5 h text-3xl font-bold text-slate-700 mb-3 cursor-pointer",onClick:()=>m(`/contents/index?strfId=${e.strfId}`),children:[e.strfTitle,t.jsx(N,{})]})}),t.jsx("button",{type:"button",className:"px-3 py-1 rounded-lg bg-slate-100 text-slate-700 text-[16px]",onClick:()=>x(e),children:"삭제"})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx(R,{className:"custom-rate flex items-center gap-1",disabled:!0,allowHalf:!0,defaultValue:e.rating}),t.jsx("p",{className:"text-slate-500 text-xl",children:e.reviewWriteDate.split(" ")[0]})]}),t.jsx("p",{className:"text-2xl text-slate-700 mb-10 font-normal",children:e.content}),t.jsx($,{images:g})]},r)}),s&&t.jsx("div",{className:"flex justify-center mb-14",children:t.jsxs(I,{onClick:()=>n(e=>e+10),children:[t.jsx(j,{}),"더보기"]})})]})]})};export{se as default};
