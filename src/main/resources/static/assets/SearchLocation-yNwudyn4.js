import{R as E,r as o,u as k,b as C,j as e,d as R}from"./index-CCfEkYYD.js";import"./TitleHeader-Dj4eQV_x.js";import{S as P}from"./SearchItems-BW-ICL1_.js";import{T as $}from"./api-B-eoqegl.js";import{L as V}from"./pic-Jp7D6aQ0.js";import{e as T}from"./EditTripAtom-C43TKrAP.js";import{S as B}from"./Skeleton-D9Tzp1Nk.js";import"./index-0c2dN6yF.js";import"./index-DI7I5gc_.js";import"./match-CrKb_EXc.js";import"./index-CZcf3rJK.js";import"./index-B-PXXu0k.js";import"./index-qy3Jsjdb.js";import"./index-CpIswslS.js";import"./Portal-CSjbbdCj.js";import"./useId-ai7JuQHX.js";import"./zoom-CdQ6y3c9.js";const et=()=>{var m,h;const[l,g]=E(T);o.useEffect(()=>{console.log("편집 데이터",l)},[l]);const x=k(),c=C().state,r=c==null?void 0:c.from;c==null||c.tripLocationList;const L=()=>{r?r==="/schedule/index"?(x(r),g({...l,tripLocationList:s})):x(r,{state:s}):x("/schedule/days",{state:{selectedLocationId:s,title:s[0].title}})},[i,b]=o.useState(null),[s,p]=o.useState([]),[q,j]=o.useState(!1),[f,y]=o.useState(""),[N,S]=o.useState("");o.useState(!1),o.useEffect(()=>{console.log("selectedLocationId",s)},[s]);const d=o.useRef(null);o.useEffect(()=>{d.current&&console.log(d.current)},[]);const I=async()=>{try{const t=await R.get($.getLocationList);b(t.data)}catch(t){console.log("지역 목록 조회:",t)}};o.useEffect(()=>{I()},[]),o.useEffect(()=>{if(i&&(l!=null&&l.tripLocationList)){const t=i.data.locationList.filter(a=>l.tripLocationList.includes(a.locationId));p(t)}},[i,l==null?void 0:l.tripLocationList]);const u=i==null?void 0:i.data.locationList,n=u==null?void 0:u.filter(t=>t.title.includes(f)),v=t=>{s.some(a=>a.locationId===t.locationId)||p([...s,t])},w=t=>{p(s.filter(a=>a.locationId!==t.locationId))};return e.jsxs("div",{children:[e.jsx(P,{searchValue:f,setSearchValue:y,setSearchState:j,inputValue:N,setInputValue:S}),e.jsx("ul",{className:"flex flex-col gap-[20px] px-[32px] mb-[20px]",children:(n==null?void 0:n.length)>0?n==null?void 0:n.map(t=>e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-[30px] items-center",children:[e.jsx("div",{className:"w-[100px] h-[100px] rounded-2xl overflow-hidden",children:t.locationPic?e.jsx("img",{src:`${V}${t.locationPic}`,alt:t.title,ref:d,className:"w-full h-full object-cover"}):e.jsx(B.Image,{active:!1,style:{width:"100px",height:"100px"}})}),e.jsxs("div",{className:"flex flex-col gap-[16px]",children:[e.jsx("p",{className:"text-[24px] text-slate-700",children:t.title}),e.jsx("p",{className:"text-[18px] text-slate-500",children:"어디론가 떠나고 싶을 때"})]})]}),e.jsx("div",{className:"h-auto flex items-center justify-center ",children:s.filter(a=>a.locationId===t.locationId).length>0?e.jsx("button",{type:"button",className:"text-[16px] text-primary border border-primary3 rounded-2xl px-[15px] py-[5px]",onClick:()=>w(t),children:"취소"}):e.jsx("button",{type:"button",className:"text-[16px] text-slate-500 border border-slate-300 rounded-2xl px-[15px] py-[5px]",onClick:()=>v(t),children:"선택"})})]},t.locationId)):null}),e.jsx("div",{className:"w-full px-[32px] mb-[20px]",children:s.length>0?e.jsx("button",{type:"button",className:"w-full px-[20px] py-[15px] text-[20px] font-bold text-white bg-primary rounded-lg",onClick:L,children:s.length===1?`${(m=s[0])==null?void 0:m.title} 선택 완료`:`${(h=s[0])==null?void 0:h.title} 외 ${s.length-1}개 선택 완료`}):e.jsx("button",{type:"button",className:"w-full px-[20px] py-[15px] text-[20px] font-bold text-slate-400 bg-slate-50 rounded-lg",children:"도시 선택"})})]})};export{et as default};
