import{r as i,a1 as nr,aL as bn,Y as Mn,w as x,ar as he,ap as Cn,ae as kn,s as V,aB as Sn,aM as Dn,aC as Nn,aN as Ln,aq as Ie,aO as un,aP as Tn,a2 as vn,aQ as ln,a8 as zn}from"./index-BE7VYVOv.js";import{P as Pn}from"./Portal-B27f54IH.js";import{u as Wn}from"./useId-CgD2_zXU.js";const xn=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};function Bn(e){var a=e.prefixCls,r=e.align,t=e.arrow,u=e.arrowPos,l=t||{},v=l.className,f=l.content,m=u.x,g=m===void 0?0:m,B=u.y,h=B===void 0?0:B,C=i.useRef();if(!r||!r.points)return null;var s={position:"absolute"};if(r.autoArrow!==!1){var k=r.points[0],z=r.points[1],N=k[0],S=k[1],H=z[0],L=z[1];N===H||!["t","b"].includes(N)?s.top=h:N==="t"?s.top=0:s.bottom=0,S===L||!["l","r"].includes(S)?s.left=g:S==="l"?s.left=0:s.right=0}return i.createElement("div",{ref:C,className:nr("".concat(a,"-arrow"),v),style:s},f)}function Hn(e){var a=e.prefixCls,r=e.open,t=e.zIndex,u=e.mask,l=e.motion;return u?i.createElement(bn,Mn({},l,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(v){var f=v.className;return i.createElement("div",{style:{zIndex:t},className:nr("".concat(a,"-mask"),f)})}):null}var $n=i.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),En=i.forwardRef(function(e,a){var r=e.popup,t=e.className,u=e.prefixCls,l=e.style,v=e.target,f=e.onVisibleChanged,m=e.open,g=e.keepDom,B=e.fresh,h=e.onClick,C=e.mask,s=e.arrow,k=e.arrowPos,z=e.align,N=e.motion,S=e.maskMotion,H=e.forceRender,L=e.getPopupContainer,U=e.autoDestroy,J=e.portal,d=e.zIndex,ke=e.onMouseEnter,Se=e.onMouseLeave,me=e.onPointerEnter,De=e.onPointerDownCapture,Ee=e.ready,ge=e.offsetX,ye=e.offsetY,oe=e.offsetR,we=e.offsetB,Q=e.onAlign,be=e.onPrepare,$=e.stretch,F=e.targetWidth,c=e.targetHeight,Fe=typeof r=="function"?r():r,ee=m||g,E=(L==null?void 0:L.length)>0,y=i.useState(!L||!E),G=x(y,2),je=G[0],ar=G[1];if(he(function(){!je&&E&&v&&ar(!0)},[je,E,v]),!je)return null;var ue="auto",K={left:"-1000vw",top:"-1000vh",right:ue,bottom:ue};if(Ee||!m){var Ne,qe=z.points,I=z.dynamicInset||((Ne=z._experimental)===null||Ne===void 0?void 0:Ne.dynamicInset),le=I&&qe[0][1]==="r",re=I&&qe[0][0]==="b";le?(K.right=oe,K.left=ue):(K.left=ge,K.right=ue),re?(K.bottom=we,K.top=ue):(K.top=ye,K.bottom=ue)}var R={};return $&&($.includes("height")&&c?R.height=c:$.includes("minHeight")&&c&&(R.minHeight=c),$.includes("width")&&F?R.width=F:$.includes("minWidth")&&F&&(R.minWidth=F)),m||(R.pointerEvents="none"),i.createElement(J,{open:H||ee,getContainer:L&&function(){return L(v)},autoDestroy:U},i.createElement(Hn,{prefixCls:u,open:m,zIndex:d,mask:C,motion:S}),i.createElement(Cn,{onResize:Q,disabled:!m},function(tr){return i.createElement(bn,Mn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:H,leavedClassName:"".concat(u,"-hidden")},N,{onAppearPrepare:be,onEnterPrepare:be,visible:m,onVisibleChanged:function(_){var se;N==null||(se=N.onVisibleChanged)===null||se===void 0||se.call(N,_),f(_)}}),function(Le,_){var se=Le.className,Ae=Le.style,j=nr(u,se,t);return i.createElement("div",{ref:kn(tr,a,_),className:j,style:V(V(V(V({"--arrow-x":"".concat(k.x||0,"px"),"--arrow-y":"".concat(k.y||0,"px")},K),R),Ae),{},{boxSizing:"border-box",zIndex:d},l),onMouseEnter:ke,onMouseLeave:Se,onPointerEnter:me,onClick:h,onPointerDownCapture:De},s&&i.createElement(Bn,{prefixCls:u,arrow:s,arrowPos:k,align:z}),i.createElement($n,{cache:!m&&!B},Fe))})}))}),Fn=i.forwardRef(function(e,a){var r=e.children,t=e.getTriggerDOMNode,u=Sn(r),l=i.useCallback(function(f){Dn(a,t?t(f):f)},[t]),v=Nn(l,Ln(r));return u?i.cloneElement(r,{ref:v}):r}),fn=i.createContext(null);function cn(e){return e?Array.isArray(e)?e:[e]:[]}function jn(e,a,r,t){return i.useMemo(function(){var u=cn(r??a),l=cn(t??a),v=new Set(u),f=new Set(l);return e&&(v.has("hover")&&(v.delete("hover"),v.add("click")),f.has("hover")&&(f.delete("hover"),f.add("click"))),[v,f]},[e,a,r,t])}function qn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function An(e,a,r,t){for(var u=r.points,l=Object.keys(e),v=0;v<l.length;v+=1){var f,m=l[v];if(qn((f=e[m])===null||f===void 0?void 0:f.points,u,t))return"".concat(a,"-placement-").concat(m)}return""}function hn(e,a,r,t){return a||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function mr(e){return e.ownerDocument.defaultView}function sn(e){for(var a=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var u=mr(r).getComputedStyle(r),l=u.overflowX,v=u.overflowY,f=u.overflow;[l,v,f].some(function(m){return t.includes(m)})&&a.push(r),r=r.parentElement}return a}function hr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function cr(e){return hr(parseFloat(e),0)}function mn(e,a){var r=V({},e);return(a||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var u=mr(t).getComputedStyle(t),l=u.overflow,v=u.overflowClipMargin,f=u.borderTopWidth,m=u.borderBottomWidth,g=u.borderLeftWidth,B=u.borderRightWidth,h=t.getBoundingClientRect(),C=t.offsetHeight,s=t.clientHeight,k=t.offsetWidth,z=t.clientWidth,N=cr(f),S=cr(m),H=cr(g),L=cr(B),U=hr(Math.round(h.width/k*1e3)/1e3),J=hr(Math.round(h.height/C*1e3)/1e3),d=(k-z-H-L)*U,ke=(C-s-N-S)*J,Se=N*J,me=S*J,De=H*U,Ee=L*U,ge=0,ye=0;if(l==="clip"){var oe=cr(v);ge=oe*U,ye=oe*J}var we=h.x+De-ge,Q=h.y+Se-ye,be=we+h.width+2*ge-De-Ee-d,$=Q+h.height+2*ye-Se-me-ke;r.left=Math.max(r.left,we),r.top=Math.max(r.top,Q),r.right=Math.min(r.right,be),r.bottom=Math.min(r.bottom,$)}}),r}function gn(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function yn(e,a){var r=a||[],t=x(r,2),u=t[0],l=t[1];return[gn(e.width,u),gn(e.height,l)]}function wn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function rr(e,a){var r=a[0],t=a[1],u,l;return r==="t"?l=e.y:r==="b"?l=e.y+e.height:l=e.y+e.height/2,t==="l"?u=e.x:t==="r"?u=e.x+e.width:u=e.x+e.width/2,{x:u,y:l}}function $e(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,u){return u===a?r[t]||"c":t}).join("")}function Vn(e,a,r,t,u,l,v){var f=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:u[t]||{}}),m=x(f,2),g=m[0],B=m[1],h=i.useRef(0),C=i.useMemo(function(){return a?sn(a):[]},[a]),s=i.useRef({}),k=function(){s.current={}};e||k();var z=Ie(function(){if(a&&r&&e){let p=function(er,Be){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr,fr=y.x+er,Hr=y.y+Be,nn=fr+le,an=Hr+I,tn=Math.max(fr,He.left),n=Math.max(Hr,He.top),o=Math.min(nn,He.right),P=Math.min(an,He.bottom);return Math.max(0,(o-tn)*(P-n))},Br=function(){Je=y.y+M,Qe=Je+I,Ce=y.x+w,Ye=Ce+le};var H,L,U,J,d=a,ke=d.ownerDocument,Se=mr(d),me=Se.getComputedStyle(d),De=me.width,Ee=me.height,ge=me.position,ye=d.style.left,oe=d.style.top,we=d.style.right,Q=d.style.bottom,be=d.style.overflow,$=V(V({},u[t]),l),F=ke.createElement("div");(H=d.parentElement)===null||H===void 0||H.appendChild(F),F.style.left="".concat(d.offsetLeft,"px"),F.style.top="".concat(d.offsetTop,"px"),F.style.position=ge,F.style.height="".concat(d.offsetHeight,"px"),F.style.width="".concat(d.offsetWidth,"px"),d.style.left="0",d.style.top="0",d.style.right="auto",d.style.bottom="auto",d.style.overflow="hidden";var c;if(Array.isArray(r))c={x:r[0],y:r[1],width:0,height:0};else{var Fe,ee,E=r.getBoundingClientRect();E.x=(Fe=E.x)!==null&&Fe!==void 0?Fe:E.left,E.y=(ee=E.y)!==null&&ee!==void 0?ee:E.top,c={x:E.x,y:E.y,width:E.width,height:E.height}}var y=d.getBoundingClientRect();y.x=(L=y.x)!==null&&L!==void 0?L:y.left,y.y=(U=y.y)!==null&&U!==void 0?U:y.top;var G=ke.documentElement,je=G.clientWidth,ar=G.clientHeight,ue=G.scrollWidth,K=G.scrollHeight,Ne=G.scrollTop,qe=G.scrollLeft,I=y.height,le=y.width,re=c.height,R=c.width,tr={left:0,top:0,right:je,bottom:ar},Le={left:-qe,top:-Ne,right:ue-qe,bottom:K-Ne},_=$.htmlRegion,se="visible",Ae="visibleFirst";_!=="scroll"&&_!==Ae&&(_=se);var j=_===Ae,Fr=mn(Le,C),b=mn(tr,C),gr=_===se?b:Fr,Ve=j?b:gr;d.style.left="auto",d.style.top="auto",d.style.right="0",d.style.bottom="0";var q=d.getBoundingClientRect();d.style.left=ye,d.style.top=oe,d.style.right=we,d.style.bottom=Q,d.style.overflow=be,(J=d.parentElement)===null||J===void 0||J.removeChild(F);var Te=hr(Math.round(le/parseFloat(De)*1e3)/1e3),Me=hr(Math.round(I/parseFloat(Ee)*1e3)/1e3);if(Te===0||Me===0||un(r)&&!Tn(r))return;var jr=$.offset,qr=$.targetOffset,yr=yn(y,jr),ne=x(yr,2),ae=ne[0],Y=ne[1],Ar=yn(c,qr),Re=x(Ar,2),X=Re[0],ze=Re[1];c.x-=X,c.y-=ze;var Vr=$.points||[],wr=x(Vr,2),Rr=wr[0],Ur=wr[1],de=wn(Ur),Z=wn(Rr),ir=rr(c,de),A=rr(y,Z),We=V({},$),w=ir.x-A.x+ae,M=ir.y-A.y+Y,te=p(w,M),Ue=p(w,M,b),or=rr(c,["t","l"]),O=rr(y,["t","l"]),br=rr(c,["b","r"]),ur=rr(y,["b","r"]),xe=$.overflow||{},Mr=xe.adjustX,Jr=xe.adjustY,lr=xe.shiftX,_e=xe.shiftY,sr=function(Be){return typeof Be=="boolean"?Be:Be>=0},Je,Qe,Ce,Ye;Br();var Ge=sr(Jr),Cr=Z[0]===de[0];if(Ge&&Z[0]==="t"&&(Qe>Ve.bottom||s.current.bt)){var W=M;Cr?W-=I-re:W=or.y-ur.y-Y;var Pr=p(w,W),Qr=p(w,W,b);Pr>te||Pr===te&&(!j||Qr>=Ue)?(s.current.bt=!0,M=W,Y=-Y,We.points=[$e(Z,0),$e(de,0)]):s.current.bt=!1}if(Ge&&Z[0]==="b"&&(Je<Ve.top||s.current.tb)){var Ke=M;Cr?Ke+=I-re:Ke=br.y-O.y-Y;var kr=p(w,Ke),Gr=p(w,Ke,b);kr>te||kr===te&&(!j||Gr>=Ue)?(s.current.tb=!0,M=Ke,Y=-Y,We.points=[$e(Z,0),$e(de,0)]):s.current.tb=!1}var Sr=sr(Mr),Dr=Z[1]===de[1];if(Sr&&Z[1]==="l"&&(Ye>Ve.right||s.current.rl)){var Ze=w;Dr?Ze-=le-R:Ze=or.x-ur.x-ae;var Nr=p(Ze,M),Xe=p(Ze,M,b);Nr>te||Nr===te&&(!j||Xe>=Ue)?(s.current.rl=!0,w=Ze,ae=-ae,We.points=[$e(Z,1),$e(de,1)]):s.current.rl=!1}if(Sr&&Z[1]==="r"&&(Ce<Ve.left||s.current.lr)){var Pe=w;Dr?Pe+=le-R:Pe=br.x-O.x-ae;var Lr=p(Pe,M),Tr=p(Pe,M,b);Lr>te||Lr===te&&(!j||Tr>=Ue)?(s.current.lr=!0,w=Pe,ae=-ae,We.points=[$e(Z,1),$e(de,1)]):s.current.lr=!1}Br();var ve=lr===!0?0:lr;typeof ve=="number"&&(Ce<b.left&&(w-=Ce-b.left-ae,c.x+R<b.left+ve&&(w+=c.x-b.left+R-ve)),Ye>b.right&&(w-=Ye-b.right-ae,c.x>b.right-ve&&(w+=c.x-b.right+ve)));var ie=_e===!0?0:_e;typeof ie=="number"&&(Je<b.top&&(M-=Je-b.top-Y,c.y+re<b.top+ie&&(M+=c.y-b.top+re-ie)),Qe>b.bottom&&(M-=Qe-b.bottom-Y,c.y>b.bottom-ie&&(M+=c.y-b.bottom+ie)));var Oe=y.x+w,pe=Oe+le,fe=y.y+M,Kr=fe+I,zr=c.x,Zr=zr+R,dr=c.y,Ir=dr+re,_r=Math.max(Oe,zr),Yr=Math.min(pe,Zr),Wr=(_r+Yr)/2,Xr=Wr-Oe,Or=Math.max(fe,dr),xr=Math.min(Kr,Ir),pr=(Or+xr)/2,en=pr-fe;v==null||v(a,We);var vr=q.right-y.x-(w+y.width),ce=q.bottom-y.y-(M+y.height);Te===1&&(w=Math.round(w),vr=Math.round(vr)),Me===1&&(M=Math.round(M),ce=Math.round(ce));var rn={ready:!0,offsetX:w/Te,offsetY:M/Me,offsetR:vr/Te,offsetB:ce/Me,arrowX:Xr/Te,arrowY:en/Me,scaleX:Te,scaleY:Me,align:We};B(rn)}}),N=function(){h.current+=1;var L=h.current;Promise.resolve().then(function(){h.current===L&&z()})},S=function(){B(function(L){return V(V({},L),{},{ready:!1})})};return he(S,[t]),he(function(){e||S()},[e]),[g.ready,g.offsetX,g.offsetY,g.offsetR,g.offsetB,g.arrowX,g.arrowY,g.scaleX,g.scaleY,g.align,N]}function Rn(e,a,r,t,u){he(function(){if(e&&a&&r){let h=function(){t(),u()};var l=a,v=r,f=sn(l),m=sn(v),g=mr(v),B=new Set([g].concat(vn(f),vn(m)));return B.forEach(function(C){C.addEventListener("scroll",h,{passive:!0})}),g.addEventListener("resize",h,{passive:!0}),t(),function(){B.forEach(function(C){C.removeEventListener("scroll",h),g.removeEventListener("resize",h)})}}},[e,a,r])}function Un(e,a,r,t,u,l,v,f){var m=i.useRef(e);m.current=e;var g=i.useRef(!1);i.useEffect(function(){if(a&&t&&(!u||l)){var h=function(){g.current=!1},C=function(N){var S;m.current&&!v(((S=N.composedPath)===null||S===void 0||(S=S.call(N))===null||S===void 0?void 0:S[0])||N.target)&&!g.current&&f(!1)},s=mr(t);s.addEventListener("pointerdown",h,!0),s.addEventListener("mousedown",C,!0),s.addEventListener("contextmenu",C,!0);var k=ln(r);return k&&(k.addEventListener("mousedown",C,!0),k.addEventListener("contextmenu",C,!0)),function(){s.removeEventListener("pointerdown",h,!0),s.removeEventListener("mousedown",C,!0),s.removeEventListener("contextmenu",C,!0),k&&(k.removeEventListener("mousedown",C,!0),k.removeEventListener("contextmenu",C,!0))}}},[a,r,t,u,l]);function B(){g.current=!0}return B}var Jn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Qn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pn,a=i.forwardRef(function(r,t){var u=r.prefixCls,l=u===void 0?"rc-trigger-popup":u,v=r.children,f=r.action,m=f===void 0?"hover":f,g=r.showAction,B=r.hideAction,h=r.popupVisible,C=r.defaultPopupVisible,s=r.onPopupVisibleChange,k=r.afterPopupVisibleChange,z=r.mouseEnterDelay,N=r.mouseLeaveDelay,S=N===void 0?.1:N,H=r.focusDelay,L=r.blurDelay,U=r.mask,J=r.maskClosable,d=J===void 0?!0:J,ke=r.getPopupContainer,Se=r.forceRender,me=r.autoDestroy,De=r.destroyPopupOnHide,Ee=r.popup,ge=r.popupClassName,ye=r.popupStyle,oe=r.popupPlacement,we=r.builtinPlacements,Q=we===void 0?{}:we,be=r.popupAlign,$=r.zIndex,F=r.stretch,c=r.getPopupClassNameFromAlign,Fe=r.fresh,ee=r.alignPoint,E=r.onPopupClick,y=r.onPopupAlign,G=r.arrow,je=r.popupMotion,ar=r.maskMotion,ue=r.popupTransitionName,K=r.popupAnimation,Ne=r.maskTransitionName,qe=r.maskAnimation,I=r.className,le=r.getTriggerDOMNode,re=zn(r,Jn),R=me||De||!1,tr=i.useState(!1),Le=x(tr,2),_=Le[0],se=Le[1];he(function(){se(xn())},[]);var Ae=i.useRef({}),j=i.useContext(fn),Fr=i.useMemo(function(){return{registerSubPopup:function(o,P){Ae.current[o]=P,j==null||j.registerSubPopup(o,P)}}},[j]),b=Wn(),gr=i.useState(null),Ve=x(gr,2),q=Ve[0],Te=Ve[1],Me=i.useRef(null),jr=Ie(function(n){Me.current=n,un(n)&&q!==n&&Te(n),j==null||j.registerSubPopup(b,n)}),qr=i.useState(null),yr=x(qr,2),ne=yr[0],ae=yr[1],Y=i.useRef(null),Ar=Ie(function(n){un(n)&&ne!==n&&(ae(n),Y.current=n)}),Re=i.Children.only(v),X=(Re==null?void 0:Re.props)||{},ze={},Vr=Ie(function(n){var o,P,T=ne;return(T==null?void 0:T.contains(n))||((o=ln(T))===null||o===void 0?void 0:o.host)===n||n===T||(q==null?void 0:q.contains(n))||((P=ln(q))===null||P===void 0?void 0:P.host)===n||n===q||Object.values(Ae.current).some(function(D){return(D==null?void 0:D.contains(n))||n===D})}),wr=hn(l,je,K,ue),Rr=hn(l,ar,qe,Ne),Ur=i.useState(C||!1),de=x(Ur,2),Z=de[0],ir=de[1],A=h??Z,We=Ie(function(n){h===void 0&&ir(n)});he(function(){ir(h||!1)},[h]);var w=i.useRef(A);w.current=A;var M=i.useRef([]);M.current=[];var te=Ie(function(n){var o;We(n),((o=M.current[M.current.length-1])!==null&&o!==void 0?o:A)!==n&&(M.current.push(n),s==null||s(n))}),Ue=i.useRef(),or=function(){clearTimeout(Ue.current)},O=function(o){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;or(),P===0?te(o):Ue.current=setTimeout(function(){te(o)},P*1e3)};i.useEffect(function(){return or},[]);var br=i.useState(!1),ur=x(br,2),xe=ur[0],Mr=ur[1];he(function(n){(!n||A)&&Mr(!0)},[A]);var Jr=i.useState(null),lr=x(Jr,2),_e=lr[0],sr=lr[1],Je=i.useState(null),Qe=x(Je,2),Ce=Qe[0],Ye=Qe[1],Ge=function(o){Ye([o.clientX,o.clientY])},Cr=Vn(A,q,ee&&Ce!==null?Ce:ne,oe,Q,be,y),W=x(Cr,11),Pr=W[0],Qr=W[1],Ke=W[2],kr=W[3],Gr=W[4],Sr=W[5],Dr=W[6],Ze=W[7],Nr=W[8],Xe=W[9],Pe=W[10],Lr=jn(_,m,g,B),Tr=x(Lr,2),ve=Tr[0],ie=Tr[1],Oe=ve.has("click"),pe=ie.has("click")||ie.has("contextMenu"),fe=Ie(function(){xe||Pe()}),Kr=function(){w.current&&ee&&pe&&O(!1)};Rn(A,ne,q,fe,Kr),he(function(){fe()},[Ce,oe]),he(function(){A&&!(Q!=null&&Q[oe])&&fe()},[JSON.stringify(be)]);var zr=i.useMemo(function(){var n=An(Q,l,Xe,ee);return nr(n,c==null?void 0:c(Xe))},[Xe,c,Q,l,ee]);i.useImperativeHandle(t,function(){return{nativeElement:Y.current,popupElement:Me.current,forceAlign:fe}});var Zr=i.useState(0),dr=x(Zr,2),Ir=dr[0],_r=dr[1],Yr=i.useState(0),Wr=x(Yr,2),Xr=Wr[0],Or=Wr[1],xr=function(){if(F&&ne){var o=ne.getBoundingClientRect();_r(o.width),Or(o.height)}},pr=function(){xr(),fe()},en=function(o){Mr(!1),Pe(),k==null||k(o)},vr=function(){return new Promise(function(o){xr(),sr(function(){return o})})};he(function(){_e&&(Pe(),_e(),sr(null))},[_e]);function ce(n,o,P,T){ze[n]=function(D){var $r;T==null||T(D),O(o,P);for(var on=arguments.length,dn=new Array(on>1?on-1:0),Er=1;Er<on;Er++)dn[Er-1]=arguments[Er];($r=X[n])===null||$r===void 0||$r.call.apply($r,[X,D].concat(dn))}}(Oe||pe)&&(ze.onClick=function(n){var o;w.current&&pe?O(!1):!w.current&&Oe&&(Ge(n),O(!0));for(var P=arguments.length,T=new Array(P>1?P-1:0),D=1;D<P;D++)T[D-1]=arguments[D];(o=X.onClick)===null||o===void 0||o.call.apply(o,[X,n].concat(T))});var rn=Un(A,pe,ne,q,U,d,Vr,O),p=ve.has("hover"),Br=ie.has("hover"),er,Be;p&&(ce("onMouseEnter",!0,z,function(n){Ge(n)}),ce("onPointerEnter",!0,z,function(n){Ge(n)}),er=function(o){(A||xe)&&q!==null&&q!==void 0&&q.contains(o.target)&&O(!0,z)},ee&&(ze.onMouseMove=function(n){var o;(o=X.onMouseMove)===null||o===void 0||o.call(X,n)})),Br&&(ce("onMouseLeave",!1,S),ce("onPointerLeave",!1,S),Be=function(){O(!1,S)}),ve.has("focus")&&ce("onFocus",!0,H),ie.has("focus")&&ce("onBlur",!1,L),ve.has("contextMenu")&&(ze.onContextMenu=function(n){var o;w.current&&ie.has("contextMenu")?O(!1):(Ge(n),O(!0)),n.preventDefault();for(var P=arguments.length,T=new Array(P>1?P-1:0),D=1;D<P;D++)T[D-1]=arguments[D];(o=X.onContextMenu)===null||o===void 0||o.call.apply(o,[X,n].concat(T))}),I&&(ze.className=nr(X.className,I));var He=V(V({},X),ze),fr={},Hr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Hr.forEach(function(n){re[n]&&(fr[n]=function(){for(var o,P=arguments.length,T=new Array(P),D=0;D<P;D++)T[D]=arguments[D];(o=He[n])===null||o===void 0||o.call.apply(o,[He].concat(T)),re[n].apply(re,T)})});var nn=i.cloneElement(Re,V(V({},He),fr)),an={x:Sr,y:Dr},tn=G?V({},G!==!0?G:{}):null;return i.createElement(i.Fragment,null,i.createElement(Cn,{disabled:!A,ref:Ar,onResize:pr},i.createElement(Fn,{getTriggerDOMNode:le},nn)),i.createElement(fn.Provider,{value:Fr},i.createElement(En,{portal:e,ref:jr,prefixCls:l,popup:Ee,className:nr(ge,zr),style:ye,target:ne,onMouseEnter:er,onMouseLeave:Be,onPointerEnter:er,zIndex:$,open:A,keepDom:xe,fresh:Fe,onClick:E,onPointerDownCapture:rn,mask:U,motion:wr,maskMotion:Rr,onVisibleChanged:en,onPrepare:vr,forceRender:Se,autoDestroy:R,getPopupContainer:ke,align:Xe,arrow:tn,arrowPos:an,ready:Pr,offsetX:Qr,offsetY:Ke,offsetR:kr,offsetB:Gr,onAlign:fe,stretch:F,targetWidth:Ir/Ze,targetHeight:Xr/Nr})))});return a}const In=Qn(Pn);export{In as T,xn as i};
