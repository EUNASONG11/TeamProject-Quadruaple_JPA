import{r,j as e,aG as Y,am as q,B as O,g as Q,h as Z,m as V,n as X,v as I,b8 as W,a2 as D,a3 as ee,a4 as G,Z as se,aa as te}from"./index-BDvp6vJ-.js";import{j as M}from"./jwt-uWIXluU6.js";import{n as ae,d as le,F as re}from"./match-DqbF0vPE.js";import{p as J}from"./index-BUmFPigH.js";import{a as ie}from"./index-BXm6OxAN.js";import{L as U}from"./index-ClPqg3ds.js";import{R as oe}from"./ReviewImage-C75NWoHJ.js";import"./TitleHeader-ZSoYWPdt.js";import{R as ce}from"./index-DCp_-sk3.js";import{a as d,K as ne,b as g,u as xe,M as de}from"./MarkerClusterer-7-JJBZmr.js";import{a as me}from"./index-BbOic734.js";/* empty css                    */import{T as pe}from"./index-DQUug2gn.js";import"./index-CHbw3iEE.js";import"./index-BspFPnqN.js";import"./index-RBkh3_Fy.js";import"./index-CGcuxldO.js";import"./swiper-react-B9nLXrm3.js";import"./index-CI5zJzi3.js";import"./index-CpGEo4ZF.js";import"./index-BbrJAp72.js";import"./index-CyfMtEI1.js";import"./Portal-8tQC4Gpp.js";import"./useId-Dew7XV0g.js";import"./motion-Z4zvjc5S.js";import"./roundedArrow-C96aV79_.js";import"./zoom-BVA-z112.js";import"./EllipsisOutlined-C6bhehVZ.js";import"./Overflow-BHS-c4OB.js";const ue=({strfId:i})=>{const[s,o]=r.useState(),l=async()=>{try{const t=await M.get(`/api/detail/amenity?strf_id=${i}&category=숙소`);o(t.data.data),console.log("편의시설 조회",t.data.data)}catch(t){console.log("편의시설 조회",t)}};return r.useEffect(()=>{l()},[]),e.jsxs("div",{className:"px-4 my-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"편의시설 및 서비스"}),e.jsxs("button",{className:"flex items-center gap-[6px] text-sm text-slate-400",children:["더보기 ",e.jsx(Y,{className:"text-xl"})]})]}),e.jsx("ul",{className:"grid grid-flow-col gap-4 overflow-hidden w-full h-[90px] mt-3",children:s==null?void 0:s.map(t=>e.jsxs("li",{className:"min-w-[57px] flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:ae(t.amenityId??0)}),e.jsx("p",{children:t.amenityTitle})]},t.amenityId))})]})},fe=({strfId:i})=>{const[s,o]=r.useState(),l=async()=>{try{const t=await M.get(`/api/detail/menu?strf_id=${i}`);o(t.data.data),console.log("상품조회-메뉴",t.data.data)}catch(t){console.log("상품조회-메뉴",t)}};return r.useEffect(()=>{l()},[]),e.jsxs("div",{className:"mt-3 ",children:[e.jsxs("div",{className:"px-4",children:[e.jsx("button",{className:"w-full border border-slate-300 rounded-lg py-3 text-base text-slate-700 mb-3",children:"01.22(수)~01.23(목)"}),e.jsx("button",{className:"w-full border border-slate-300 rounded-lg py-3 text-base text-slate-700 mb-3",children:"성인 2"})]}),e.jsx("ul",{children:s==null?void 0:s.map(t=>e.jsxs("li",{className:"py-5 px-4 border-b-[10px] border-slate-100 last:border-b-0",children:[e.jsx("i",{children:e.jsx("img",{src:`${q}/${i}/menu/${t==null?void 0:t.menuPic}`,alt:t==null?void 0:t.menuTitle,className:"w-full aspect-[2/1] object-cover rounded-lg"})}),e.jsxs("div",{className:"my-3",children:[e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:t.menuTitle}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm my-1",children:[e.jsx(J,{className:"text-base"}),"입실 ",t.openCheckIn.replace(/:\d{2}$/,"")," - 퇴실",t.closeCheckIn.replace(/:\d{2}$/,"")]}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm ",children:[e.jsx(ie,{className:"text-base"}),"기준 ",t.recomCapacity,"인 / 최대 ",t.maxCapacity,"인"]}),e.jsxs("div",{className:"w-full border-t border-slate-100 mt-3 pt-3 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xl text-slate-700 font-semibold",children:[t.menuPrice.toLocaleString(),"원"]}),e.jsx(O,{type:"primary",className:"text-base py-2 px-4 h-auto rounded-lg",children:"예약하기"})]})]})]},t.menuId))})]})},he=()=>{Q("accessToken");const[i,s]=r.useState(null),[o,l]=r.useState([]),[t,x]=r.useState(0),[p]=Z(),u=p.get("strfId");r.useEffect(()=>{console.log("리뷰 목록:",o)},[o]),r.useEffect(()=>{console.log("reviewIndex:",t)},[t]);const f=r.useCallback(async()=>{console.log("지금 보내는 start_idx",t);try{const a=await V.get(`/api/review?strf_id=${u}&start_idx=${t}`);console.log("리뷰 불러오기:",a.data),l([...o,...a.data])}catch(a){console.log("리뷰 불러오기:",a)}},[t,o,u]);return r.useEffect(()=>{f()},[t]),e.jsxs("div",{children:[e.jsx("p",{}),o?e.jsx("ul",{children:o==null?void 0:o.map((a,n)=>e.jsxs("li",{className:"flex flex-col gap-[20px] py-[30px] border-b border-slate-200",children:[e.jsxs("div",{className:"flex flex-col gap-[10px]",children:[e.jsxs("div",{className:"flex gap-[15px] items-center justify-between",children:[e.jsxs("div",{className:"flex gap-[10px] items-center",children:[e.jsx("div",{className:"w-[50px] h-[50px] rounded-full overflow-hidden",children:e.jsx("img",{src:`${X}/${a.writerUserId}/${a.writerUserPic}`,alt:"pofilePic",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"font-semibold text-slate-700 text-[18px]",children:a.writerUserName})]}),e.jsxs("div",{className:"flex gap-[10px] items-center",children:[e.jsx(U,{className:"text-slate-300"}),e.jsx("p",{className:"font-bold text-[14px] text-slate-500",children:a.userWriteReviewCnt})]})]}),e.jsxs("div",{className:"flex gap-[15px] items-center justify-between",children:[e.jsxs("div",{className:"flex gap-[5px]",children:[e.jsx(ce,{disabled:!0,count:5,value:a.rating}),e.jsx("p",{className:"font-semibold text-[14px] text-slate-700",children:a.rating})]}),e.jsx("div",{children:e.jsx("p",{className:"text-[14px] text-slate-500",children:a.reviewWriteDate})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:n===i?"":"line-clamp-3",children:a.content}),e.jsx("button",{type:"button",className:"text-primary p-0 text-[16px] font-semibold",onClick:()=>{s(n)},children:"더보기"})]}),e.jsx(oe,{imgArr:a.reviewPic,reviewId:a.reviewId})]},n))}):e.jsx("ul",{children:e.jsx("li",{className:"flex flex-col gap-[20px] py-[30px] border-b border-slate-200"})}),o.length>0?e.jsx("button",{type:"button",className:"w-full py-[20px] rounded-lg border border-slate-300",onClick:()=>x(a=>a+10),children:"리뷰 더보기"}):e.jsxs("div",{className:"flex flex-col gap-[20px] justify-center items-center",children:[e.jsx("i",{className:"text-slate-300 text-[100px]",children:e.jsx(U,{})}),e.jsx("p",{className:"text-slate-400 text-[20px]",children:"리뷰가 없습니다."})]})]})},je=r.memo(he),ge=I.forwardRef(function(s,o){let{map:l,position:t,marker:x,children:p,altitude:u,disableAutoPan:f,range:a,removable:n,zIndex:h,onCreate:j}=s;const m=r.useMemo(()=>{const N=document.createElement("div");return N.style.display="none",new kakao.maps.InfoWindow({altitude:u,disableAutoPan:f,range:a,removable:n,zIndex:h,content:N,position:t})},[f,n]),b=r.useMemo(()=>m.getContent(),[m]);return r.useImperativeHandle(o,()=>m,[m]),r.useLayoutEffect(()=>(m.open(l,x),()=>{m.close()}),[l,x]),r.useLayoutEffect(()=>{j&&j(m)},[m,j]),d(m,"setPosition",t),d(m,"setAltitude",u),d(m,"setRange",a),d(m,"setZIndex",h),W.createPortal(p,b.parentElement??b)}),be=I.forwardRef(function(s,o){let{map:l,position:t,children:x,altitude:p,clickable:u,draggable:f,image:a,infoWindowOptions:n,onCreate:h,onClick:j,onDragEnd:m,onDragStart:b,onMouseOut:N,onMouseOver:S,opacity:C,range:v,title:k,zIndex:R}=s;const w=r.useContext(ne),P=r.useMemo(()=>{var y,E,$,L,A,z,T,F,H,K,_,B;return a&&new kakao.maps.MarkerImage(a.src,new kakao.maps.Size(a.size.width,a.size.height),{alt:(y=a.options)==null?void 0:y.alt,coords:(E=a.options)==null?void 0:E.coords,offset:(($=a.options)==null?void 0:$.offset)&&new kakao.maps.Point((L=a.options)==null?void 0:L.offset.x,(A=a.options)==null?void 0:A.offset.y),shape:(z=a.options)==null?void 0:z.shape,spriteOrigin:((T=a.options)==null?void 0:T.spriteOrigin)&&new kakao.maps.Point((F=a.options)==null?void 0:F.spriteOrigin.x,(H=a.options)==null?void 0:H.spriteOrigin.y),spriteSize:((K=a.options)==null?void 0:K.spriteSize)&&new kakao.maps.Size((_=a.options)==null?void 0:_.spriteSize.width,(B=a.options)==null?void 0:B.spriteSize.height)})},[JSON.stringify(a)]),c=r.useMemo(()=>new kakao.maps.Marker({altitude:p,clickable:u,draggable:f,image:P,opacity:C,range:v,title:k,zIndex:R,position:t}),[]);return r.useImperativeHandle(o,()=>c,[c]),r.useLayoutEffect(()=>w?(w.addMarker(c,!0),()=>w.removeMarker(c,!0)):(c.setMap(l),()=>c.setMap(null)),[l,w,c]),r.useLayoutEffect(()=>{h&&h(c)},[c,h]),d(c,"setPosition",t),d(c,"setImage",P),d(c,"setAltitude",p),d(c,"setClickable",u),d(c,"setDraggable",f),d(c,"setOpacity",C),d(c,"setRange",v),d(c,"setRange",v),d(c,"setTitle",k),d(c,"setTitle",k),d(c,"setZIndex",R),g(c,"click",j),g(c,"dragstart",b),g(c,"dragend",m),g(c,"mouseout",N),g(c,"mouseover",S),x?e.jsx(ge,{position:t,map:l,marker:c,altitude:n==null?void 0:n.altitude,disableAutoPan:n==null?void 0:n.disableAutoPan,range:n==null?void 0:n.range,removable:n==null?void 0:n.removable,zIndex:n==null?void 0:n.zIndex,children:x}):null}),Ne=I.forwardRef(function(s,o){let{position:l,...t}=s;const x=xe("MapMarker"),p=r.useMemo(()=>"lat"in l?new kakao.maps.LatLng(l.lat,l.lng):new kakao.maps.Coords(l.x,l.y).toLatLng(),[l.lat,l.lng,l.x,l.y]);return e.jsx(be,{map:x,position:p,...t,ref:o})}),we=({contentData:i})=>{const[s,o]=r.useState(!1);r.useState({lat:0,lng:0});const l={lat:(i==null?void 0:i.latit)||35.868358,lng:(i==null?void 0:i.longitude)||128.593778};return r.useEffect(()=>{const t=document.createElement("script");return t.async=!0,t.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1227efa5c91b2ace09ab915e643a15c9&autoload=false",t.addEventListener("load",()=>{window.kakao.maps.load(()=>{o(!0)})}),document.head.appendChild(t),()=>{document.head.removeChild(t)}},[]),s?e.jsx("div",{children:e.jsx(de,{center:l,style:{width:"100%",height:"200px",borderRadius:"8px"},level:5,children:e.jsx(Ne,{position:l})})}):e.jsx("div",{children:"지도를 불러오는 중입니다..."})},ve=r.memo(we),ke=({contentData:i})=>{const[s,o]=r.useState(!1),[l,t]=r.useState(!1),x=r.useRef(null);return r.useEffect(()=>{x.current&&t(x.current.scrollHeight>x.current.clientHeight)},[i.detail]),e.jsxs("div",{children:[e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"소개"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("p",{ref:x,className:`text-base text-slate-500 ${s?"":"line-clamp-5"}`,children:i.detail}),l&&!s&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/100 to-white/0"})]}),l&&e.jsx(O,{onClick:()=>o(p=>!p),className:"w-full h-auto py-[14px] border border-slate-300 rounded-lg",children:s?"숨기기":"펼치기"})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"위치"}),e.jsx(ve,{contentData:i}),e.jsx("div",{children:e.jsxs("dl",{className:"mt-4 px-4 py-6 bg-slate-50 rounded-lg",children:[e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"주소"}),e.jsxs("dd",{className:"text-base text-slate-400 mb-1",children:["(",i.post,") ",i.address]}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"전화"}),e.jsx("dd",{className:"text-base text-slate-400 mb-1",children:"062-610-7000"}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"사업자번호"}),e.jsx("dd",{className:"text-base text-slate-400",children:"410-86-60209"})]})})]})]})},ye=({strfId:i,contentData:s})=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:`${D}/${i}/${s==null?void 0:s.strfPics[0].strfPic}`,alt:(s==null?void 0:s.strfTitle)||""})}),e.jsxs("div",{className:"px-4 py-3 flex flex-col gap-2",children:[e.jsx("p",{className:"text-sm text-slate-500 -mb-[6px]",children:le(s==null?void 0:s.category)}),e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:s==null?void 0:s.strfTitle}),e.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-[6px]",children:[e.jsx(re,{className:" text-slate-300"}),s==null?void 0:s.address]}),e.jsxs("ul",{className:"flex items-center gap-[6px]",children:[e.jsx("li",{children:e.jsx(me,{className:"text-primary text-base"})}),e.jsx("li",{className:"text-sm text-slate-700 font-semibold",children:s==null?void 0:s.ratingAvg}),e.jsxs("li",{className:"text-sm text-primary underline",children:["리뷰 ",s==null?void 0:s.reviewCnt.toLocaleString(),"개"]}),e.jsx("li",{className:"text-slate-300 text-base mx-1",children:"|"}),e.jsx("li",{className:"text-lg text-slate-400",children:s!=null&&s.wishIn?e.jsx(ee,{className:"text-secondary3"}):e.jsx(G,{})}),e.jsx("li",{className:"text-slate-500 text-sm",children:s==null?void 0:s.wishCnt})]}),e.jsx("div",{children:e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500",children:[e.jsx(J,{className:"text-base"}),"매일 00:00 ~ 24:00"]})})]})]}),Ie=({scrollEvent:i=!0})=>{const[s,o]=r.useState(!1);return r.useEffect(()=>{if(!i){o(!1);return}const l=()=>{window.scrollY>0?o(!0):o(!1)};return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}},[i]),e.jsx("div",{className:`max-w-[768px] w-full px-4  fixed top-0 left-1/2 -translate-x-1/2 z-10
        transition-colors duration-300 ${i?s?"bg-white text-slate-700":"bg-transparent text-white":"bg-transparent"}`,children:e.jsxs("div",{className:"flex justify-between items-center h-[60px]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(se,{className:"text-3xl "}),e.jsx("h2",{className:"font-semibold text-xl",children:"홀리데이 인 광주 호텔"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(G,{className:" text-2xl"}),e.jsx(te,{className:" text-2xl"})]})]})})},ss=()=>{const[i,s]=r.useState(null),[o]=Z(),l=parseInt(o.get("strfId")||"0"),t=async()=>{try{const x=await M.get(`/api/detail/member?&strf_id=${l}`);x.data.data,console.log("상품조회-회원",x.data.data),s(x.data.data)}catch(x){console.log("상품조회-회원",x)}};return r.useEffect(()=>{t()},[]),e.jsxs("div",{children:[e.jsx(Ie,{}),e.jsx("section",{children:i&&e.jsx(ye,{strfId:l,contentData:i})}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsx("section",{children:e.jsx(fe,{strfId:l})}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsx("section",{children:e.jsx(ue,{strfId:l})}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsx("section",{children:e.jsx(pe,{defaultActiveKey:"1",centered:!0,className:"custom-strf-tabs",items:[{label:"상세정보",key:"1",children:e.jsx(e.Fragment,{children:i&&e.jsx(ke,{strfId:l,contentData:i})})},{label:"리뷰",key:"2",children:e.jsx(je,{})}]})})]})};export{ss as default};
