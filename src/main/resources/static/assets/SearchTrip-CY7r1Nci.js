import{g as F,R as P,r as s,h as V,c as H,u as M,j as e,L as O,e as w}from"./index-CG8vYf2y.js";import{t as y}from"./tripAtom-DLZgpzTu.js";import"./SearchItems-DwmgUJS5.js";import{a as U}from"./pic-Jp7D6aQ0.js";import{a as z,b}from"./index-BSwssLiK.js";import{a as W}from"./index-CWOPntzi.js";import{F as Y}from"./index-DduuLXv4.js";import{I as q}from"./index-DmNkHtiY.js";import{R as I}from"./index-DipEv1TS.js";import{B as G}from"./button-Qumjrz4E.js";import"./TitleHeader-HJveUMRb.js";import"./index-CkZhrZUZ.js";import"./iconBase-BliIWTH0.js";import"./index-BK2APq6_.js";import"./index-zbYbnkux.js";import"./searchAtom-C3LxS7Az.js";import"./match-D1Z4e6My.js";import"./index-DNP8OPt4.js";import"./index-DgAP2TMZ.js";import"./Skeleton-CQ8GiPWg.js";import"./useSize-s7Cj9DSQ.js";import"./Keyframes-DQFvTPSf.js";import"./genStyleUtils-BNuyCX-p.js";import"./context-PnQlGr6A.js";import"./UnstableContext-Cxtoe_qF.js";import"./index-Bo0Apytk.js";import"./useMergedState-DU3z-VtB.js";import"./BaseInput-CpL4Y_YZ.js";import"./ContextIsolator-BLCcxi2B.js";import"./CloseCircleFilled-BQjJuuZg.js";import"./useCSSVarCls-DVyv07Mk.js";import"./pickAttrs-KpDTT5l5.js";import"./reactNode-Dx8pTwlk.js";import"./index-N7vMWSMs.js";import"./KeyCode-DNlgD2sM.js";import"./index-DrSQ8jn4.js";import"./index-E9bkYm6o.js";import"./Portal-CztClCTi.js";import"./useId-D1G52zAA.js";import"./useZIndex-DHIAsWu5.js";import"./zoom-Dx8PYXKT.js";const n=[{type:null,name:"전체"},{type:"TOUR",name:"관광지"},{type:"STAY",name:"숙소"},{type:"RESTAUR",name:"맛집"},{type:"FEST",name:"축제"}],Ve=()=>{F("accessToken");const[m,J]=P(y);s.useEffect(()=>{console.log("trip",m)},[m]),V(y);const[C]=H(),d=parseInt(C.get("tripId"));s.useEffect(()=>{g(!0)},[]);const f=M(),$=t=>{console.log(t),f(`/contents/index?strfId=${t}`)},[E,u]=s.useState(0),[R,h]=s.useState(0);s.useState(0);const[r,o]=s.useState([]),[K,g]=s.useState(!1),[x,_]=s.useState(""),[i,A]=s.useState(""),[j,T]=s.useState(0),[p,k]=s.useState(null),[L,N]=s.useState(!1),[Q,v]=s.useState(!0);s.useEffect(()=>{console.log("searchValue",i)},[i]),s.useEffect(()=>{},[j]);const S=async()=>{try{const a=(await w.get(`/api/search/strf-list-basic?trip_id=${d}&start_idx=${E}`)).data;o([...r,...a.data.list]),a&&(N(!0),u(l=>l+10)),a.data.more===!1&&v(!1)}catch(t){console.log("결과-입력 전:",t)}},c=async(t=null)=>{try{const l=(await w.get(`/api/search/strf-list-word?trip_id=${d}&start_idx=${R}&category=${p}&search_word=${i}`)).data;o([...r,...l.data.list]),l&&(N(!0),h(B=>B+10)),l.data.more===!1&&v(!1)}catch(a){console.log("결과-입력 후:",a)}};return s.useEffect(()=>{S()},[]),s.useEffect(()=>{p!==null&&c()},[p]),r==null||r.list,e.jsx("div",{className:"w-full flex flex-col gap-[30px]",children:L?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full px-[32px] py-[30px] flex items-center gap-[40px] relative ",children:[e.jsx("div",{className:"text-[36px] cursor-pointer",onClick:()=>{f(-1)},children:e.jsx(W,{})}),e.jsx(q,{placeholder:"지금 어디로 여행을 떠나고 싶으신가요?",variant:"borderless",prefix:e.jsx(Y,{className:"text-slate-400 text-2xl"}),allowClear:!0,onChange:t=>{_(t.target.value)},onPressEnter:t=>{A(x),o([]),u(0),h(0),g(!0),c()},value:x,className:`w-full h-[60px] px-[12px] ${x?"bg-white":"bg-slate-100"}`})]}),e.jsx("ul",{className:"flex gap-[10px] px-[32px] justify-between items-center",children:n.map((t,a)=>e.jsx("li",{className:`cursor-pointer font-semibold text-[16px] w-[124px] flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${a===j?"bg-primary text-white":"bg-white text-slate-500"}`,onClick:()=>{T(a),c(n[a].type),k(n[a].name)},children:t.name},a))}),e.jsx("ul",{className:"px-[32px] py-[30px] flex flex-col gap-[30px]",children:(r==null?void 0:r.length)>0?r==null?void 0:r.map((t,a)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>{$(t.strfId)},children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:e.jsx("img",{src:`${U}${t.strfId}/${t.picTitle}`,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:t.title})}),e.jsx("div",{className:"flex gap-[5px] items-center"}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(I,{disabled:!0,count:1,value:t.ratingIn?1:0,style:{fontSize:"16px"}}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.averageRating}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",t.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:t.wishIn?e.jsx(z,{className:"text-secondary3 text-[16px]"}):e.jsx(b,{className:"text-slate-400 text-[16px]"})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.wishCnt.toLocaleString()})]})]})]},a)):e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px]"}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:"검색 결과가 없습니다."})}),e.jsx("div",{className:"flex gap-[5px] items-center"}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(I,{disabled:!0,count:1,value:0}),e.jsx("p",{className:"text-[12px] text-slate-500"}),e.jsx("p",{className:"text-[12px] text-slate-500"})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(b,{className:"text-slate-400"})}),e.jsx("p",{className:"text-[12px] text-slate-500"})]})]})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(G,{onClick:()=>{i!==""?c():S()},className:"mb-[30px] w-28 rounded-2xl",children:"더보기"})})]}):e.jsx(O,{})})};export{Ve as default};
