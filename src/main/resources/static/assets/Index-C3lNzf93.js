import{R as P,m as A,r as i,g as k,a as N,j as e,U as H,k as o,d as V,e as I,S as Y,f as D,F as M,b as _}from"./index-C6bOqW8w.js";import{i as L,g as R,j as G,B as Q}from"./index-CHrNiM1z.js";import{H as W,a as q}from"./TitleHeader-1NAGEuNC.js";/* empty css               */import{S as v,a as y}from"./swiper-react-BHkTnROn.js";import{P as J,L as B,a as $}from"./pic-BhDB7TmH.js";import{f as K,b as S,g as X,a as T}from"./index-dauweciz.js";import{R as Z}from"./index-CeB-_bz0.js";import{F as ee}from"./Footer-BY35nOSS.js";import{a as te}from"./index-1M3bFaBQ.js";/* empty css                    */import"./UserTrips-YW7oyP5L.js";import"./index-Bdhbbfqu.js";import"./index-BpHAwgWG.js";import"./Portal-B5J00w0m.js";import"./useId-CKoVMJQW.js";import"./zoom-CUKaUUev.js";import"./index-c3UgXTko.js";import"./index-CGJT_sHg.js";import"./collapse-BbEVqHco.js";import"./index-DuPHOk6l.js";import"./useLocale-CUvuTrqW.js";const se=({isOpen:a,onClose:r})=>{var g;const[t,b]=P(A),[n,w]=i.useState([]),[p,f]=i.useState(""),c=k("accessToken"),x=k("user"),d=async()=>{try{const l=await I.get("/api/home/user",{headers:{Authorization:`Bearer ${c}`}});w(l.data.data)}catch(l){console.log(l)}},j=async()=>{try{const l=await I.get("/api/coupon/available-coupons",{headers:{Authorization:`Bearer ${c}`}});console.log("✅  getCoupon  res.data.data:",l.data.data),f(l.data.data)}catch(l){console.log("✅  getCoupon  error:",l)}};i.useEffect(()=>{c&&(d(),j())},[]);const s=N(),h=()=>{b({userId:0,accessToken:""}),Y("accessToken"),s("/signin")},m=()=>{s("user/useredit",{state:n})};return e.jsxs("div",{className:`overflow-hidden max-w-3xl w-full fixed left-1/2 -translate-x-1/2 inset-0 z-[99] flex justify-end transition-opacity duration-300 ${a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>r(),children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-50 ",onClick:()=>r()}),e.jsxs("div",{className:`z-[999] absolute top-0 right-0 w-[70%]  h-screen bg-white overflow-y-auto shadow-xl transition-transform duration-300 ease-in-out ${a?"translate-x-0":" translate-x-full"}`,onClick:l=>l.stopPropagation(),children:[e.jsxs("div",{className:"px-8 py-8",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx(H,{onClick:()=>r(),className:"text-3xl cursor-pointer text-slate-700"}),e.jsxs("h1",{className:"flex gap-5",children:[e.jsx(L,{className:"text-3xl text-slate-700 cursor-pointer"}),e.jsx(K,{className:"text-3xl text-slate-700 cursor-pointer",onClick:()=>m()})]})]}),e.jsxs("div",{children:[c?e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mx-auto w-32 h-32 rounded-full overflow-hidden",children:e.jsx("img",{src:n.profilePic?`${J}${x==null?void 0:x.userId}/${t==null?void 0:t.profilePic}`:"/images/user.png",alt:"User-Profile",className:"w-full h-full object-cover"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-700 mt-4 text-center",children:n.name}),e.jsx(v,{slidesPerView:1,className:"mySwiper",children:(g=n.tripList)==null?void 0:g.map(l=>e.jsxs(y,{children:[e.jsx("span",{className:"absolute top-0 left-1/2 -translate-x-1/2 block w-0 h-0 border-transparent border-solid border-l-[12px] border-r-[12px] border-b-[20px] border-b-slate-100 z-[1]"}),e.jsxs("div",{className:"flex items-center justify-between bg-slate-100 mt-5 px-5 h-20 rounded-[36px] relative",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:`${B}${l.locationPic}`,alt:"",className:"w-8 h-8 rounded-full mr-3"}),e.jsx("span",{className:"text-xl text-slate-700 font-normal",children:l.title})]}),e.jsx("span",{className:"text-xl text-primary font-medium",children:l.dday>0?`D-${l.dday}`:"여행중"})]})]},l.tripId))})]}):e.jsxs(o,{to:"/signin",className:"text-2xl font-bold text-slate-700 flex items-center justify-between py-5",children:[e.jsx("span",{children:"로그인 해주세요"}),e.jsx(R,{className:"text-3xl"})]}),e.jsxs("div",{className:"flex mt-10",children:[e.jsxs(o,{to:"/user/usertrips",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(W,{className:"w-full text-4xl text-slate-700 mb-2"}),"여행"]}),e.jsxs(o,{to:"/user/userwishlist",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(S,{className:"w-full text-4xl text-slate-700 mb-2"}),"찜하기"]}),e.jsxs(o,{to:"/user/userreview",className:"w-1/4 text-center text-lg text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(X,{className:"w-full text-4xl text-slate-700 mb-2"}),"리뷰"]}),e.jsxs(o,{to:"/user/usertrip",className:"w-1/4 text-center text-lg text-slate-500 font-normal",children:[e.jsx(V,{className:"w-full text-4xl text-slate-700 mb-2"}),"내 여행기"]})]})]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"w-full px-8 py-8",children:[e.jsxs(o,{to:"/user/userbooking",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(te,{className:"text-4xl text-slate-400 mr-4"}),"내예약"]}),e.jsxs(o,{to:"/user/usercoupon",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(G,{className:"text-4xl text-slate-400 mr-4"}),"쿠폰함",p.availableCouponCount>0&&e.jsx("span",{className:"ml-auto w-9 h-6 rounded-2xl text-sm text-center leading-[1.45rem] text-primary3 bg-[#A5EEFE]/50",children:p.availableCouponCount})]}),e.jsxs(o,{to:"/user/recentlist",className:"flex items-center py-5 text-2xl text-slate-700 font-normal",children:[e.jsx(Q,{className:"text-4xl text-slate-400 mr-4"}),"최근 본 목록"]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"px-8 pb-8",children:[e.jsx(o,{to:"",className:"flex py-5 text-lg text-slate-500",children:"공지사항"}),e.jsx(o,{to:"",className:"flex text-lg text-slate-500 py-5",children:"FAQ"}),e.jsx(o,{to:"",className:"flex  text-lg text-slate-500 py-5",children:"고객센터"}),e.jsx(o,{to:"",className:"flex  text-lg text-slate-500 py-5",children:"1:1 문의하기"}),e.jsx(o,{to:"/user/changepw",className:"flex  text-lg text-slate-500 py-5",children:"비밀번호 변경"}),c&&e.jsx("button",{onClick:()=>h(),className:"w-full h-[60px] rounded-lg border border-slate-300 text-2xl font-bold text-slate-500",children:"로그아웃"})]})]})]})},ae=({festivities:a})=>{const r=N();return e.jsx("div",{children:e.jsx(v,{slidesPerView:1.5,spaceBetween:16,className:"mySwiper",children:a.map(t=>e.jsxs(y,{className:"!h-[600px] cursor-pointer relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",onClick:()=>r(`/contents/index?strfId=${t.strfId}`),children:[e.jsx("img",{src:`${$}${t.strfId}/${t.strfPic}`,alt:t.festTitle,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-[60px] right-[30px] text-right z-[99]",children:[t.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2.5 py-1 rounded-md font-light mb-1.5",children:"개최중"}),e.jsx("h2",{className:"text-3xl font-medium mb-1.5",style:{wordBreak:"auto-phrase"},children:t.festTitle}),e.jsxs("h4",{className:"text-2xl font-medium mb-1.5",children:[t.startAt.replaceAll("-","."),"~",t.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-base font-",children:t.locationTitle})]})]},t.strfId))})})},le=({locations:a})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(v,{slidesPerView:4,spaceBetween:16,className:"mySwiper ",children:a.map((r,t)=>e.jsxs(y,{className:"relative pt-[40px]",children:[e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-[36px] h-[36px] leading-[36px] rounded-full left-1/2 top-[24px] -translate-x-1/2 text-center inline-block text-lg",children:t+1}),e.jsxs("div",{className:"relative bg-black rounded-2xl overflow-hidden h-[226px]",children:[e.jsx("img",{src:`${B}${r.locationPic}`,alt:r.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white text-base",children:[e.jsx("p",{children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-2xl mt-1",children:r.locationTitle})]})]})]},r.locationId))})]}),re=({recent:a,getMainList:r,setFestivities:t,setLocations:b,setRecent:n,setRecommend:w})=>{const p=N(),[f,c]=i.useState("STAY"),x={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},d=a.find(s=>s.category===f),j=async s=>{const h={strfId:s.strfId};console.log("찜하기 데이터:",h);try{const m=await axios.post("/api/wish-list",{...h},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",m.data),m.data.code==="200 성공"&&r()}catch(m){console.log("찜하기",m)}};return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"최근 본 목록"}),e.jsx("div",{children:a.map(s=>e.jsx("button",{onClick:()=>c(s.category),className:`px-5 py-2 border cursor-pointer mr-2.5 my-8 rounded-2xl ${f===s.category?"bg-primary text-white":"bg-white text-slate-500 border-1 border-slate-300"}`,children:x[s.category]},s.category))}),e.jsx("div",{className:" flex flex-wrap ",children:d==null?void 0:d.recent.slice(0,6).map(s=>e.jsxs("div",{className:"w-[50%] flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{p(`/contents/index?strfId=${s.strfId}`)},children:[e.jsxs("div",{className:"w-[164px] h-[164px] rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${$}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>j(item),children:s.wishIn?e.jsx(T,{className:"text-secondary3 text-xl"}):e.jsx(S,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-700 break-keep",children:s.strfTitle}),e.jsxs("p",{className:"font-medium text-base text-slate-400",children:[s.locationName," · ",x[f]]}),e.jsx("div",{children:e.jsx(Z,{disabled:!0,allowHalf:!0,defaultValue:s.averageRating})}),e.jsxs("div",{className:"flex text-slate-400 text-sm align-middle gap-1",children:[s.wishIn?e.jsx(T,{className:"text-secondary3 text-xl"}):e.jsx(S,{className:"text-slate-400 text-xl"}),s.wishCnt]})]})]},s.strfId))})]})},oe=({recommend:a})=>{const r=N();return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mx-[32px]",children:"회원님에게 추천하는 여행지"}),e.jsx(v,{slidesPerView:1,className:"mySwiper relative mt-5 after:bg-slate-100 after:inline-block after:w-full after:h-72 after:absolute after:top-0 after:left-0 ",children:a.map(t=>e.jsxs(y,{className:"!flex align-middle justify-center gap-8 mt-12 px-8 cursor-pointer",onClick:()=>r(`/contents/index?strfId=${t.strfId}`),children:[e.jsx("p",{}),e.jsxs("div",{className:"mt-12 w-[50%]",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-3 rounded-2xl font-light text-xs",children:t.locationTitle}),e.jsx("h2",{className:"text-2xl font-medium break-keep",children:t.strfTitle}),e.jsx("p",{className:"text-lg font-normal text-slate-500 break-keep",children:t.explain}),e.jsxs(o,{to:"",className:"text-slate-400 flex align-middle font-light gap-1",children:["자세히보기 ",e.jsx(R,{className:"text-lg"})]})]}),e.jsx("img",{src:`${$}${t.strfId}/${t.strfPic}`,alt:t.strfTitle,className:"w-[400px] h-[300px] rounded-tr-[36px] rounded-bl-[36px]"})]},t.strfId))})]})},Te=()=>{const a=k("accessToken"),[r,t]=i.useState([]),[b,n]=i.useState([]),[w,p]=i.useState([]),[f,c]=i.useState([]),[x,d]=i.useState(!1),[j,s]=i.useState(0),h=async()=>{try{let u;a?u=await _.get("/api/home"):u=await I.get("/api/home"),console.log("메인",u.data.data);const{festivalList:F,locationList:U,recentList:z,recommendList:O}=u.data.data;t(F),n(U),p(z),c(O)}catch(u){console.log(u)}};i.useEffect(()=>{h()},[]);const m=()=>{window.scrollY>140?s(!0):s(!1)};window.addEventListener("scroll",m);const[g,l]=P(A),C=N();i.useEffect(()=>{},[g]);const E=()=>{C("/search/strf")};return e.jsxs("div",{children:[e.jsx(se,{isOpen:x,onClose:()=>d(!1)}),e.jsxs("header",{className:`flex h-[60px] items-center px-[32px] max-w-3xl w-full duration-300 ${j?"fixed top-0 ":"relative"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[160px] mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{C("/")}})}),e.jsxs("nav",{className:" flex gap-[16px]",children:[e.jsx(L,{className:"text-3xl text-slate-400 cursor-pointer"}),e.jsx(q,{className:"text-3xl text-slate-400 cursor-pointer",onClick:()=>d(!0)})]})]}),e.jsxs("main",{className:"pb-[60px]",children:[e.jsx("section",{className:"mx-[32px] mt-[30px]",children:e.jsx(D,{className:"h-[60px] text-lg rounded-lg  !bg-slate-100 !border-slate-300  gap-[5px]",placeholder:"지금 어디로 여행을 떠나고  싶으신가요?",readOnly:!0,prefix:e.jsx(M,{className:"text-slate-400 text-2xl"}),onClick:()=>E()})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(ae,{festivities:r})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(le,{locations:b})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx("img",{src:"/images/main-banner.png",alt:""})}),e.jsx("section",{className:"mx-[32px] mt-[70px]",children:e.jsx(re,{recent:w,getMainList:h,setFestivities:t,setLocations:n,setRecent:p,setRecommend:c})}),e.jsx("section",{className:"mt-[70px]",children:e.jsx(oe,{recommend:f})})]}),e.jsx(ee,{})]})};export{Te as default};
