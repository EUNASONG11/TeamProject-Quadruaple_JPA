import{g as u,u as T,r,s as x,j as e,l as f,B as $,L as F,m as h,q as B,e as U,w as _,d as K}from"./index-LV_9s5-1.js";import{U as b}from"./api-RMrr9BxD.js";/* empty css                    */import{F as i}from"./index-lMOVuc5h.js";import{C as g}from"./index-Cfh3rUo0.js";import"./motion-D8x5Mwwf.js";import"./responsiveObserver-9NKrBLMQ.js";import"./zoom-Bx4l_5D1.js";import"./Portal-CiuFLH_K.js";import"./index-DUIhxVpy.js";import"./index-DN57V0sg.js";import"./index-Btv3waz5.js";import"./useId-LGEjO-HJ.js";import"./roundedArrow-D1YheW33.js";import"./useLocale-opc6SEmi.js";import"./Checkbox-CZpZuEIS.js";const P="/assets/logo_1-XpaFKeEm.png",R=window.location.origin,A=`${R}/signup/kakao`,O="http://112.222.157.157:5231",q=`${O}/oauth2/authorization/kakao?redirect_uri=${A}`,z=()=>{window.location.href=`${q}`},re=()=>{const o=u("user"),j=o==null?void 0:o.email,[v]=i.useForm(),n=T(),N=()=>{n("/")},k=()=>{n("/business")},[t,d]=r.useState("personal"),[c,y]=r.useState(o?o.isSaveLogin:!1),[m,w]=r.useState(o?o.isSaveEmail:!1),E=async s=>{var p;const L=t==="personal"?b.signInUser:b.signInBusiness;try{const a=await h.post(`${L}`,s);console.log("로그인 시도:",a.data);const l=a.data;return l.code==="200 성공"&&(x("accessToken",a.data.accessToken),x("user",{userId:a.data.userId,email:s.email,isSaveLogin:c,isSaveEmail:m,ProviderType:B.LOCAL,role:l.role})),console.log(l.role),l.role.includes(U.BUSI)===!0?k():N(),l}catch(a){return console.log("로그인 에러:",a),h.isAxiosError(a)&&(console.log((p=a.response)==null?void 0:p.status),_.error(t==="personal"?"사업자 계정입니다. 개인회원 로그인을 부탁드립니다.":"개인회원 계정입니다. 사업자 로그인을 부탁드립니다.")),K("accessToken"),null}},I=s=>{E(s)},S=()=>{y(!c)},C=()=>{w(!m)};return r.useEffect(()=>{const s=u("user");s&&x("user",{...s,isSaveLogin:!1})},[c]),r.useEffect(()=>{const s=u("user");x("user",{...s,isSaveEmail:!1,email:""})},[m]),r.useEffect(()=>{},[t]),e.jsxs("div",{className:"w-full h-screen flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"w-full flex items-center justify-center",children:e.jsx("div",{className:" w-[44.2vw] max-w-[300px] h-auto ",children:e.jsx("img",{src:P,alt:"main_logo",className:"cursor-pointer",onClick:()=>{n("/")}})})}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-6",children:[e.jsx("div",{className:`text-base pb-2 ${t==="personal"?"text-primary":"text-slate-400"} 
          ${t==="personal"?"border-b-[2px] border-primary":"border-b-1 border-slate-200 hover:text-primary"}`,onClick:()=>d("personal"),children:"개인회원"}),e.jsx("div",{className:`text-base pb-2 ${t==="business"?"text-primary":"text-slate-400"}
          ${t==="business"?"border-b-[2px] border-primary":"border-b-1 border-slate-200 hover:text-primary"}`,onClick:()=>d("business"),children:"기업회원"})]}),e.jsx("div",{className:"w-full px-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"w-full",children:[e.jsxs(i,{form:v,name:"register",className:"custom-form",onFinish:s=>I(s),scrollToFirstError:!0,children:[e.jsx(i.Item,{name:"email",label:"이메일",labelCol:{span:24},initialValue:j||"",className:"custom-input-item",children:e.jsx(f,{placeholder:"이메일을 입력하세요",style:{height:"48px"}})}),e.jsx(i.Item,{name:"pw",label:"비밀번호",labelCol:{span:24},className:"custom-input-item",children:e.jsx(f.Password,{placeholder:"비밀번호를 입력하세요",style:{height:"48px"}})}),e.jsxs("div",{className:"w-full flex items-center justify-start",children:[e.jsx(g,{checked:c,onChange:S,className:"text-slate-500 text-xs",children:"로그인 유지"}),e.jsx(g,{checked:m,onChange:C,className:"text-slate-500 text-xs",children:"아이디 저장"})]}),e.jsx(i.Item,{className:"m-0",children:e.jsx($,{type:"primary",htmlType:"submit",block:!0,className:"font-semibold text-base h-12 my-4",children:"로그인"})})]}),e.jsxs("div",{className:"w-full flex items-center justify-center gap-6",children:[e.jsx("button",{type:"button",className:"text-slate-500 text-xs sm:text-sm ",children:"아이디 찾기"}),e.jsx("span",{className:"text-slate-200",children:"|"}),e.jsx("button",{type:"button",className:"text-slate-500 text-xs sm:text-sm ",onClick:()=>n("/user/findpw"),children:"비밀번호 찾기"}),e.jsx("span",{className:"text-slate-200",children:"|"}),e.jsx(F,{to:"/signup/index",className:"text-slate-500 text-xs sm:text-sm ",children:"회원가입"})]})]}),e.jsxs("div",{className:`w-full ${t!=="business"?"visible":"invisible"}`,children:[e.jsx("p",{className:"text-slate-500 text-center text-sm relative my-4 before:absolute before:w-2/5 before:h-[1px] before:bg-slate-200 before:top-1/2 before:left-0 after:absolute after:w-2/5 after:h-[1px] after:bg-slate-200 after:top-1/2 after:right-0",children:"또는"}),e.jsxs("button",{type:"button",onClick:z,className:"w-full h-12 px-6 bg-[#FEE500] hover:bg-[#FEE500]/80 rounded-md flex items-center",children:[e.jsx("img",{src:"/images/kakaoIcon.svg",alt:"kakao"}),e.jsx("p",{className:"w-full text-center font-semibold text-base text-[#191600] ",children:"카카오 로그인"})]})]})]})})]})};export{re as default};
