import{r as l,g as v,u as h,j as s,f as c}from"./index-Cwx4I7Vi.js";import{T as u}from"./TitleHeader-B_AiqjDt.js";import{T as g}from"./pic-Jp7D6aQ0.js";import"./index-CWBfKhhN.js";import"./index-zy4pIAEY.js";import"./index-C1nPTQe_.js";const N=()=>{const[r,n]=l.useState([]),a=v("accessToken"),o=h(),i=async()=>{try{const e=await c.get("/api/trip-review/myTripReview?orderType=latest",{headers:{Authorization:`Bearer ${a}`}});n(e.data.data),console.log("✅  res.data.data:",e.data.data)}catch(e){console.log("✅  error:",e)}},p=e=>{console.log(e);try{const t=c.delete(`/api/trip-review?tripReviewId=${e.tripReviewId}`,{headers:{Authorization:`Bearer ${a}`}});console.log("✅  tripReviewId:",e.tripReviewId),i()}catch(t){console.log("✅  error:",t)}},d=e=>{o(`/scheduleboard/scheduleDetail?tripId=${e.tripId}&TripReviewId=${e.tripReviewId}`)};return l.useEffect(()=>{i()},[]),s.jsxs("div",{children:[s.jsx(u,{icon:"back",title:"내 여행기",onClick:()=>o(-1)}),s.jsx("div",{className:"px-8 mt-9",children:r==null?void 0:r.map((e,t)=>s.jsxs("li",{className:`flex flex-col gap-[20px] px-[30px] py-[30px] rounded-3xl\r
                  shadow-[0_0_10px_0_rgba(0,0,0,0.1)] cursor-pointer mb-8`,onClick:()=>d(e),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-[24px] text-slate-700",children:e.title}),s.jsx("p",{className:"text-slate-700 bg-slate-100 py-1 px-3 rounded-lg",onClick:x=>{x.stopPropagation(),p(e)},children:"삭제"})]}),s.jsxs("div",{className:"flex flex-col gap-[20px]",children:[s.jsx("div",{className:"w-full h-[322px] bg-slate-200 rounded-2xl overflow-hidden",children:s.jsx("img",{src:e.tripReviewPics!==null?`${g}${e.tripReviewId}/${e.tripReviewPics[0]}`:"",alt:"여행기 사진",className:"w-full h-full object-cover"})}),s.jsx("p",{className:"text-[18px] text-slate-500 line-clamp-3",children:e.content})]})]},t))})]})};export{N as default};
