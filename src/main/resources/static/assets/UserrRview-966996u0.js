import{r,g as v,u as b,j as e,a1 as w,B as N}from"./index-C93OXIGC.js";/* empty css                    */import{j as m}from"./jwt-B7ax0GDm.js";import{a as y}from"./index-BrsyDvBu.js";import{B as I}from"./BottomSheet-D7-uJt9r.js";import{f as S,g as R}from"./index-C-xkmeiy.js";import{T as k}from"./TitleHeader-k9V8b0_w.js";import{D as C}from"./DynamicGrid-CrIAIZXi.js";import{R as B}from"./index-CasC0ZUd.js";import"./proxy-Dj3NXsV6.js";import"./dayjs.min-P6fXZY3M.js";import"./index-BXh98nWs.js";import"./index-feX_Q_7_.js";import"./index-DdrkGeri.js";import"./Portal-CSn-TfAb.js";import"./useId-BANbKrPT.js";import"./index-CsxvQyL3.js";import"./fade-DINDB8as.js";import"./zoom-CHy3k0MF.js";import"./addEventListener-CIFfV5kx.js";import"./motion-0KRY6bgR.js";import"./RightOutlined-DLO0g29R.js";import"./index-Dngrxowb.js";import"./index-Q7DGeqqa.js";import"./isMobile-B4CO7CVJ.js";import"./roundedArrow-sw5LZQSn.js";const ae=()=>{const[a,i]=r.useState([]),[l,c]=r.useState(0),[p,T]=r.useState(!0),[f,o]=r.useState(!1),[n,j]=r.useState(null);v("accessToken");const d=async()=>{try{const t=await m.get(`/api/review/my?start_idx=${l}`);i(s=>[...s,...t.data.data]),t.data.data&&c(s=>s+10),console.log("✅  getUserReview  res.data.data:",t.data)}catch(t){console.log("✅  getUserReview  error:",t)}},u=async t=>{console.log(t);try{await m.delete(`/api/review/del?review_id=${t.reviewId}`),c(0),i([]),console.log("리뷰 삭제:",res.data)}catch(s){console.log("리뷰 삭제:",s)}};r.useEffect(()=>{a.length===0&&d()},[l]);const g=()=>{d()},x=b(),h=t=>[{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(S,{className:"text-slate-400"})," 수정하기"]}),onClick:()=>{console.log("인식")}},{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(R,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>{u(t),o(!1)}}];return e.jsxs("div",{children:[e.jsx(k,{icon:"back",title:"리뷰",onClick:()=>x(-2)}),e.jsx("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-t-[1px] border-slate-100 ",children:e.jsxs("p",{className:"text-sm font-semibold",children:["총 ",a.length,"개"]})}),e.jsx("div",{children:a.map((t,s)=>e.jsxs("div",{className:"py-8 px-4 border-b-[10px] border-slate-100 last:border-none",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("h1",{className:"flex items-center gap-2 h text-lg font-semibold text-slate-700 mb-2 cursor-pointer",onClick:()=>x(`/contents/index?strfId=${t.strfId}`),children:[t.strfTitle,e.jsx(w,{})]})}),e.jsx(y,{className:"text-slate-400 text-2xl cursor-pointer",onClick:A=>{o(!0),j(t)}})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(B,{className:"custom-rate flex items-center gap-[2px]",disabled:!0,allowHalf:!0,defaultValue:t.rating}),e.jsx("p",{className:"text-slate-400 text-base",children:t.reviewWriteDate.split(" ")[0].replace(/-/g,".")})]}),e.jsx("p",{className:"text-base text-slate-700 mb-2",children:t.content}),e.jsx(C,{reviewPics:t,type:"myReview"})]},s))}),p&&e.jsx("div",{className:"flex justify-center py-[14px]",children:e.jsx(N,{className:"text-slate-500 text-base !h-auto py-2 px-5 border-1 border-slate-200 rounded-full",onClick:()=>g(),children:"더보기"})}),e.jsx(I,{open:f,onClose:()=>o(!1),actions:n?h(n):[]})]})};export{ae as default};
