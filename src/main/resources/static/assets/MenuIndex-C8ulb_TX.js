import{u as k,Q as B,r as d,j as e,a5 as N,a6 as $,a4 as E,b as A,B as D,a9 as O,c as R}from"./index-CXgPt5JN.js";import{f as u,g as v}from"./index-CDNxKOHP.js";import{a as L}from"./index-BIhRtoM_.js";import{B as _}from"./BottomSheet-B8X0Xgpj.js";import{m as Y}from"./menuAtom-Cd2yttJE.js";import{m as b,d as q}from"./match-YbLQ2-HI.js";import{N as z}from"./NoData-O6WytPnO.js";import{S as H}from"./index-DfBx3HSs.js";import"./proxy-BT939zl-.js";import"./index-BHcAlC-o.js";import"./index-kMgS0FzX.js";import"./index-D0c2BEnw.js";import"./index-BQ3DKWO0.js";import"./index-DhnFfT0_.js";const Q=({strfId:a,item:s,category:t})=>{const l=k(),r=()=>{l(`/business/menu/create?strfId=${a}&category=${t}&what=room`)},n=()=>{l(`/business/menu/edit?strfId=${a}&category=${t}&menuId=${s.menuId}&what=menu`)},p=()=>{l(`/business/menu/edit?strfId=${a}&category=${t}&menuId=${s.menuId}&what=room`)},i=()=>{l(`/business/menu/detail?strfId=${a}&category=${t}&menuId=${s.menuId}`,{state:s})},[x,f]=B(Y),[c,o]=d.useState(!1),[m,g]=d.useState(!1),y=()=>{console.log("삭제"),g(!1)},C=()=>{o(!c)},T=()=>{g(!1)},h=()=>{o(!1),g(!0)},j=()=>{f({...x,menuTitle:s.menuTitle,menuPrice:s.menuPrice,menuPic:{uid:"1",name:s.menuPic,status:"done",url:`${N}/${a}/menu/${s.menuPic}`}}),console.log("url",`${N}/${a}/menu/${s.menuPic}`),n()},I=()=>{p()},M=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(u,{className:"text-slate-300"}),"객실 기본 정보 수정하기"]}),onClick:()=>j()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(u,{className:"text-slate-300"}),"객실 상세 정보 수정하기"]}),onClick:()=>I()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(v,{className:"text-slate-400"}),b(t)," 삭제하기"]}),onClick:()=>h()}],S=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(u,{className:"text-slate-300"}),"객실/호실 등록하기"]}),onClick:()=>r()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(u,{className:"text-slate-300"}),b(t)," 수정하기"]}),onClick:()=>j()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(v,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>h()}],P=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(u,{className:"text-slate-300"}),b(t)," 수정하기"]}),onClick:()=>j()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(v,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>h()}],w=()=>t===$.STAY?s.recomCapacity?M:S:P;return e.jsxs("div",{className:"flex items-center gap-2 py-3 select-none",children:[e.jsxs("section",{className:"flex items-center w-full cursor-pointer gap-5",onClick:i,children:[e.jsx("div",{className:"aspect-square w-[21.3vw] max-w-[162px] rounded-lg overflow-hidden bg-slate-200",children:e.jsx("img",{src:`${N}/${a}/menu/${s==null?void 0:s.menuPic}`,alt:s==null?void 0:s.menuTitle,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[e.jsx("p",{className:"text-xl font-semibold text-slate-700 text-left",children:s==null?void 0:s.menuTitle}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-slate-500 font-medium text-left",children:[s==null?void 0:s.menuPrice.toLocaleString(),"원"]}),e.jsx("p",{className:`${!s.recomCapacity&&t===$.STAY?"visible":"invisible"} text-slate-500`,children:"* 예약을 위해 객실을 등록해주세요."})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:C,children:e.jsx(L,{className:"text-3xl text-slate-500"})})}),c&&e.jsx(_,{open:c,onClose:C,actions:w(),title:"더보기"}),m&&e.jsx(E,{title:"객실 삭제",content:"해당 메뉴를 삭제하시겠습니까?",handleClickSubmit:y,handleClickCancle:T})]})},ne=()=>{const a=k(),s=()=>{a(`/business/menu/create?strfId=${l}&category=${r}`)},[t]=A(),l=Number(t.get("strfId")),r=t.get("category"),[n,p]=d.useState([]),[i,x]=d.useState(!1),f=async()=>{const c="/api/detail/menu";x(!0);try{const m=(await R.get(`${c}?strf_id=${l}`)).data;return m.data[0]!==null&&p(m.data),x(!1),m}catch(o){return console.log(o),x(!1),null}};return d.useEffect(()=>{f()},[]),e.jsxs("div",{className:"px-4 flex flex-col gap-3 pb-3",children:[e.jsx("section",{className:"flex justify-end",children:e.jsxs(D,{size:"large",onClick:s,className:"text-base font-semibold text-slate-500 px-4 flex items-center gap-3",children:[e.jsx(O,{}),"메뉴 추가"]})}),e.jsx("section",{children:e.jsxs(H,{spinning:i,children:[i&&e.jsx("div",{className:"h-96"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[!i&&n.length>0&&(n==null?void 0:n.map((c,o)=>e.jsx(Q,{item:c,strfId:l,category:r},o))),!i&&n.length===0&&e.jsx(z,{icon:q(r),content:"등록된 메뉴가 없습니다"})]})]})})]})};export{ne as default};
