import{G as C,B as d,R as v,r as n,g as m,u as y,j as e,i as s,d as u,F as S,D as p}from"./index-CG8vYf2y.js";import{f as k,b as I,g as P}from"./index-BSwssLiK.js";import{d as B,e as L,f as A,B as E}from"./index-CkZhrZUZ.js";import{a as H}from"./index-J23Sah7j.js";import{H as R}from"./index-zbYbnkux.js";import{b as U,I as $,c as o}from"./index-CWOPntzi.js";/* empty css               */import{S as F,a as O}from"./swiper-react-BbOrc_xQ.js";import{P as D,L as G}from"./pic-Jp7D6aQ0.js";import{G as T}from"./iconBase-BliIWTH0.js";function _(x){return T({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3 1C2.44771 1 2 1.44772 2 2V13C2 13.5523 2.44772 14 3 14H10.5C10.7761 14 11 13.7761 11 13.5C11 13.2239 10.7761 13 10.5 13H3V2L10.5 2C10.7761 2 11 1.77614 11 1.5C11 1.22386 10.7761 1 10.5 1H3ZM12.6036 4.89645C12.4083 4.70118 12.0917 4.70118 11.8964 4.89645C11.7012 5.09171 11.7012 5.40829 11.8964 5.60355L13.2929 7H6.5C6.22386 7 6 7.22386 6 7.5C6 7.77614 6.22386 8 6.5 8H13.2929L11.8964 9.39645C11.7012 9.59171 11.7012 9.90829 11.8964 10.1036C12.0917 10.2988 12.4083 10.2988 12.6036 10.1036L14.8536 7.85355C15.0488 7.65829 15.0488 7.34171 14.8536 7.14645L12.6036 4.89645Z",fill:"currentColor"},child:[]}]})(x)}const te=()=>{var f;const x=C(d),[l,M]=v(d),[a,h]=n.useState([]),[V,j]=n.useState(""),r=m("accessToken"),i=m("user"),N=async()=>{try{const t=await u.get("/api/home/user",{headers:{Authorization:`Bearer ${r}`}});h(t.data.data)}catch(t){console.log(t)}},g=async()=>{try{const t=await u.get("/api/coupon/available-coupons",{headers:{Authorization:`Bearer ${r}`}});console.log("✅  getCoupon  res.data.data:",t.data.data),j(t.data.data)}catch(t){console.log("✅  getCoupon  error:",t)}};n.useEffect(()=>{r&&(N(),g())},[]);const c=y(),b=()=>{x(),S("accessToken");const t=m("user");t.isSaveEmail===!1&&p("user",{...t,email:""}),t.isSaveLogin===!1&&p("user",{...t,userId:"",email:"",accessToken:""}),c("/signin")},w=()=>{c("/user/useredit",{state:a})};return e.jsx("div",{className:" w-full flex justify-end",children:e.jsxs("div",{className:"w-full h-screen bg-white ",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"px-4",children:[e.jsxs("div",{className:"flex justify-between py-[14px]",children:[e.jsx(U,{onClick:()=>c(-1),className:"text-3xl cursor-pointer text-slate-700"}),e.jsxs("h1",{className:"flex gap-5",children:[e.jsx(B,{className:"text-3xl text-slate-700 cursor-pointer"}),e.jsx(k,{className:"text-3xl text-slate-700 cursor-pointer",onClick:()=>w()})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mt-5",children:[e.jsx("div",{className:"mx-auto w-32 h-32 rounded-full overflow-hidden",children:e.jsx("img",{src:a.profilePic?`${D}${i==null?void 0:i.userId}/${l==null?void 0:l.profilePic}`:"/images/user.png",alt:"User-Profile",className:"w-full h-full object-cover"})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-700 mt-[14px] text-center",children:l.name}),e.jsx(F,{slidesPerView:1,className:"mySwiper",children:(f=a.tripList)==null?void 0:f.map(t=>e.jsx(O,{children:e.jsxs("div",{className:`flex items-center justify-between bg-slate-100 mt-5 px-4 py-4 rounded-full relative\r
                    after:absolute after:border-solid after:border-transparent after:border-b-slate-100 after:border-x-[16px] after:border-b-[30px] after:-top-4 after:left-1/2 after:-translate-x-1/2`,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:`${G}${t.locationPic}`,alt:"",className:"w-8 h-8 rounded-full mr-3"}),e.jsx("span",{className:"text-lg text-slate-700 font-normal",children:t.title})]}),e.jsx("span",{className:"text-lg text-primary font-semibold",children:t.dday>0?`D-${t.dday}`:"여행중"})]})},t.tripId))})]}),e.jsxs("div",{className:"flex my-5",children:[e.jsxs(s,{to:"/user/usertrips",className:"w-1/4 text-center text-base text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(R,{className:"w-full text-3xl text-slate-700 mb-2"}),"여행"]}),e.jsxs(s,{to:"/user/userwishlist",className:"w-1/4 text-center text-base text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(I,{className:"w-full text-3xl text-slate-700 mb-2"}),"찜하기"]}),e.jsxs(s,{to:"/user/userreview",className:"w-1/4 text-center text-base text-slate-500 font-normal relative after:absolute after:top-1/2 after:-translate-y-1/2 after:right-0 after: after:bg-slate-200 after:w-[1px] after:h-14",children:[e.jsx(P,{className:"w-full text-3xl text-slate-700 mb-2"}),"리뷰"]}),e.jsxs(s,{to:"/user/usertrip",className:"w-1/4 text-center text-base text-slate-500 font-normal",children:[e.jsx($,{className:"w-full text-3xl text-slate-700 mb-2"}),"내 여행기"]})]})]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"w-full px-4",children:[e.jsxs(s,{to:"/user/userbooking",className:"flex items-center py-5 text-xl text-slate-700 font-normal",children:[e.jsx(H,{className:"text-3xl text-slate-400 mr-4"}),"내예약",e.jsx(o,{className:"text-slate-300 ml-auto"})]}),e.jsxs(s,{to:"/user/usercoupon",className:"flex items-center py-5 text-xl text-slate-700 font-normal",children:[e.jsx(L,{className:"text-3xl text-slate-400 mr-4"}),"쿠폰함",a.couponCnt>0&&e.jsx("span",{className:"ml-auto w-9 h-6 rounded-2xl text-sm text-center leading-[1.45rem] text-primary3 bg-[#A5EEFE]/50",children:a.couponCnt}),e.jsx(o,{className:"text-slate-300 ml-2"})]}),e.jsxs(s,{to:"",className:"flex items-center py-5 text-xl text-slate-700 font-normal",children:[e.jsx(A,{className:"text-3xl text-slate-400 mr-4"}),"포인트",e.jsx(o,{className:"text-slate-300 ml-auto"})]}),e.jsxs(s,{to:"/user/recentlist",className:"flex items-center py-5 text-xl text-slate-700 font-normal",children:[e.jsx(E,{className:"text-3xl text-slate-400 mr-4"}),"최근 본 목록",e.jsx(o,{className:"text-slate-300 ml-auto"})]})]}),e.jsx("p",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("div",{className:"px-4 pb-[130px]",children:[e.jsx(s,{to:"",className:"flex py-5  text-slate-500 text-sm",children:"공지사항"}),e.jsx(s,{to:"",className:"flex  text-slate-500 py-5 text-sm",children:"FAQ"}),e.jsx(s,{to:"",className:"flex   text-slate-500 py-5 text-sm",children:"고객센터"}),e.jsx(s,{to:"",className:"flex text-slate-500 py-5 text-sm",children:"1:1 문의하기"}),e.jsx(s,{to:"/user/changepw",className:"flex text-slate-500 py-5 text-sm",children:"비밀번호 변경"}),r&&e.jsxs("p",{onClick:()=>b(),className:"flex gap-3 items-center text-slate-500 py-5 text-sm",children:[e.jsx(_,{className:"text-slate-300"}),"로그아웃"]})]})]})})};export{te as default};
