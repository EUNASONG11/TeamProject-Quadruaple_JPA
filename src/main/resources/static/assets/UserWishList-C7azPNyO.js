import{g as T,u as L,r as a,j as t,d as u}from"./index-H5Y2xFEd.js";import{T as Y}from"./TitleHeader-X3y5oUDx.js";import{a as A}from"./pic-Jp7D6aQ0.js";import{A as E}from"./index-CzD9Fb6d.js";import{c as I}from"./match-Cm5iV9Qz.js";import{c as m,o as d}from"./search-1EubG62x.js";import{d as M}from"./dayjs.min-CdNbBogm.js";import{F}from"./index-DFVhX-h-.js";import{D as P}from"./index-Ciil3oU-.js";import{R as W}from"./index-DIA0nrpJ.js";import{B}from"./button-CWLWs435.js";import"./index-Cnc6HU17.js";import"./index-C-g4QCjD.js";import"./context-DieX9Lv6.js";import"./useSize-e4lHQDv7.js";import"./Portal-C5aUVE5q.js";import"./collapse-BbEVqHco.js";import"./ContextIsolator-CBJzkMqA.js";import"./index-yAcEqhNQ.js";import"./index-BQMakcS5.js";import"./index-DCcoDUJV.js";import"./useId-D0Wg6OZK.js";import"./useLocale-DZ4ADMTj.js";import"./PurePanel-CsS_zZWe.js";import"./Overflow-eqLeprlC.js";import"./index-CeBGZAtP.js";import"./useIcons-YOlftlEt.js";import"./CheckOutlined-D9k58vf_.js";const R=M().format("YYYY-MM-DD"),he=()=>{F.useForm(),T("accessToken");const f=L(),j=()=>{f(-1)},y=e=>{f(`/contents/index?strfId=${e.strfId}`)},[h,o]=a.useState(0),[l,i]=a.useState([]),[r,N]=a.useState(0),[n,v]=a.useState(0),[w,C]=a.useState(!0),[x,D]=a.useState(R);a.useEffect(()=>{console.log("wishListData",l)},[l]);const p=async()=>{try{const e=await u.get(`/api/wish-list?start_idx=${h}&orderType=${d[n].type}&category=${m[r].name}`);console.log(e.data);const s=e.data;i([...l,...s.data]),o(c=>c+10)}catch(e){console.log("찜목록 불러오기",e)}},g=async()=>{var e;try{const s=await u.get(`/api/wish-list/fest?start_idx=${h}&orderType=${d[n].type}&category=${m[r].name}&start_at=${x}`);console.log("축제 찜목록",s.data);const c=s.data;i([...l,...c.data]),o(k=>k+10),(((e=c.data[0])==null?void 0:e.more)===!1||c.data.length===0)&&C(!1)}catch(s){console.log("찜목록 불러오기",s)}},b=e=>{N(e),o(0),i([])},$=e=>{v(e),o(0),i([])},S=async e=>{o(0),i([]);const s=e.format("YYYY-MM-DD");D(s)};return a.useEffect(()=>{p()},[]),a.useEffect(()=>{r!==4?p():g()},[r,n]),a.useEffect(()=>{x&&r===4&&g()},[x]),t.jsxs("div",{children:[t.jsx(Y,{icon:"back",onClick:j,title:"찜 목록"}),t.jsxs("div",{className:"px-[32px] flex flex-col gap-[50px] mt-[30px] ",children:[t.jsxs("div",{className:"flex flex-col gap-[20px]",children:[t.jsx("ul",{className:"flex justify-between items-center",children:m.map((e,s)=>t.jsx("li",{onClick:()=>{b(s)},className:`cursor-pointer font-semibold text-[16px] w-full flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${s===r?"bg-primary text-white":"bg-white text-slate-500"}`,children:e.name},s))}),t.jsxs("div",{className:"flex items-center gap-5",children:[t.jsx("ul",{className:"flex items-center gap-5",children:d.map((e,s)=>t.jsx("li",{className:`cursor-pointer font-semibold text-[13px] flex items-center py-1  ${s===n?"text-primary":"text-slate-500"}`,onClick:()=>$(s),children:e.name},s))}),r===4&&t.jsx("div",{children:t.jsx(P,{onChange:S})})]})]}),t.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:l.map((e,s)=>t.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>y(e),children:[t.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:t.jsx("img",{src:`${A}${e.strfId}/${e.strfPic}`,alt:e.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex flex-col gap-[5px]",children:[t.jsx("div",{className:"flex gap-[5px] items-center ",children:t.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:e.strfTitle})}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx("p",{className:"text-[14px] text-slate-500",children:I(e.category)}),t.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),t.jsx("p",{className:"text-[14px] text-slate-500",children:e.locationName})]}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx(W,{disabled:!0,count:1,value:e.reviewed?1:0,className:"text-primary"}),t.jsx("p",{className:"text-[12px] text-slate-500",children:e.ratingAvg!==0?e.ratingAvg:"0"}),t.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",e.ratingCnt.toLocaleString(),")"]})]}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx("div",{children:t.jsx(E,{className:"text-secondary3"})}),t.jsx("p",{className:"text-[12px] text-slate-500",children:e.wishCnt.toLocaleString()})]})]})]},s))})]}),w&&t.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:t.jsx(B,{variant:"outlined",onClick:()=>{p()},className:"h-[46px] px-[20px] py-[10px] rounded-3xl text-slate-600 text-[16px] font-semibold",children:"더보기"})})]})};export{he as default};
