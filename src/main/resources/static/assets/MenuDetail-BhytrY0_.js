import{b as B,u as A,a as E,r as n,j as e,a5 as L,a6 as y,a4 as O,c as D}from"./index-Ca07tLEd.js";import{f as o,g as j}from"./index-CSW4K44K.js";import{a as M}from"./index-BKGoaEOV.js";import{B as F}from"./BottomSheet-DOqrMaFf.js";import{m as r,c as R}from"./match-DB3tVH4P.js";import{S as Y}from"./index-iREkJJLb.js";import"./proxy-CQK-WOoG.js";import"./index-jXb6QSXU.js";import"./index-ECujgWbR.js";import"./index-yMZQKGyH.js";import"./index-i_TGYzGR.js";const Z=()=>{const[d]=B(),l=d.get("strfId"),t=d.get("category"),c=d.get("menuId"),i=A(),a=E().state;console.log("state",a);const[$,x]=n.useState(!1),[v,m]=n.useState(!1),[s,C]=n.useState(null),[p,u]=n.useState(!1),I=async()=>{const g="/api/detail/parlor";u(!0);try{const f=(await D.get(`${g}?strf_id=${l}&category=${R(t)}`)).data;console.log("객실/호실 조회",f);const b=f.data.find(T=>T.menuId===c)??null;return console.log("현재",b),C(b),f}catch(N){return console.log("객실/호실 조회",N),null}finally{u(!1)}},h=s==null?void 0:s.roomNum.map(g=>`${g.toString().padStart(3,"0")}호`);n.useEffect(()=>{s&&console.log("parlor",s)},[s]),n.useEffect(()=>{I()},[]);const S=[{label:e.jsxs("div",{className:"flex flex-col items-start gap-1 px-4 py-[14px] text-lg text-slate-500",children:[e.jsxs("p",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"text-slate-300"}),"객실 기본 정보 수정하기"]}),e.jsx("p",{className:"text-slate-400 text-base px-6",children:"사진, 이름, 가격을 수정"})]}),onClick:()=>{i(`/business/menu/edit?strfId=${l}&category=${t}&menuId=${c}&what=menu`)}},{label:e.jsxs("div",{className:"flex flex-col items-start gap-1 px-4 py-[14px] text-lg text-slate-500",children:[e.jsxs("p",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"text-slate-300"}),"객실/호실 등록하기"]}),e.jsx("p",{className:"text-slate-400 text-base px-6",children:"* 예약을 위해 필수적으로 객실/호실 등록이 필요합니다."})]}),onClick:()=>{i(`/business/menu/create?strfId=${l}&category=${t}&menuId=${c}&what=room`,{state:s})}},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(j,{className:"text-slate-300"}),"삭제하기"]}),onClick:()=>{x(!1),m(!0)}}],w=[{label:e.jsxs("div",{className:"flex flex-col items-start gap-1 px-4 py-[14px] text-lg text-slate-500",children:[e.jsxs("p",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"text-slate-300"}),"객실 기본 정보 수정하기"]}),e.jsx("p",{className:"text-slate-400 text-base px-6",children:"사진, 이름, 가격을 수정"})]}),onClick:()=>{i(`/business/menu/edit?strfId=${l}&category=${t}&menuId=${c}&what=menu`)}},{label:e.jsxs("div",{className:"flex flex-col items-start gap-1 px-4 py-[14px] text-lg text-slate-500",children:[e.jsxs("p",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"text-slate-300"}),"객실/호실 수정하기"]}),e.jsx("p",{className:"text-slate-400 text-base px-6",children:"* 예약을 위해 필수적으로 객실/호실 등록이 필요합니다."})]}),onClick:()=>{i(`/business/menu/edit?strfId=${l}&category=${t}&menuId=${c}&what=room`,{state:s})}},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(j,{className:"text-slate-300"}),"삭제하기"]}),onClick:()=>{x(!1),m(!0)}}],k=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(o,{className:"text-slate-300"}),r(t)," 수정하기"]}),onClick:()=>{i(`/business/menu/edit?strfId=${l}&category=${t}&menuId=${c}&what=room`,{state:s})}},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(j,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>{x(!1),m(!0)}}],P=()=>t===y.STAY&&s?s.recomCapacity?w:S:k;return e.jsxs("div",{className:"flex flex-col gap-6 py-3 ",children:[e.jsxs("section",{className:"flex flex-col gap-3 px-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("h3",{className:"text-2xl font-semibold text-slate-700 select-none",children:[r(t)," 사진"]}),e.jsx("p",{className:"text-base font-medium text-slate-500 select-none",children:"현재 고객에게 보여지는 객실 사진입니다."})]}),e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"max-w-[200px] w-[40vw] aspect-square rounded-lg overflow-hidden bg-slate-100",children:e.jsx("img",{src:`${L}/${l}/menu/${a.menuPic}`,alt:a.menuTitle,className:"w-full h-full object-cover"})})})]}),e.jsx("div",{className:"h-[10px] bg-slate-100"}),e.jsxs("section",{className:"flex flex-col gap-6 px-4",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-2xl font-semibold text-slate-700 select-none",children:[r(t)," 정보"]}),e.jsx("button",{type:"button",className:"text-slate-500 text-2xl select-none",onClick:()=>x(!0),children:e.jsx(M,{})})]}),e.jsxs("p",{className:"text-base font-medium text-slate-500",children:["현재 등록된 ",r(t)," 정보입니다."]})]}),e.jsx("div",{children:e.jsx(Y,{spinning:p,children:e.jsxs("ul",{className:"flex flex-col gap-2",children:[e.jsxs("li",{className:"grid grid-cols-4 items-center",children:[e.jsxs("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:[r(t)," 이름"]}),e.jsx("p",{className:"col-span-3 text-base text-slate-500",children:a.menuTitle})]}),e.jsxs("li",{className:"grid grid-cols-4 items-center",children:[e.jsx("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:"금액"}),e.jsxs("p",{className:"col-span-3 text-base text-slate-500",children:[a.menuPrice.toLocaleString(),"원"]})]}),!p&&s!==null&&e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:"grid grid-cols-4 items-center",children:[e.jsx("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:"객실 번호"}),e.jsx("p",{className:"col-span-3 text-base text-slate-500",children:h==null?void 0:h.join(", ")})]}),e.jsxs("li",{className:"grid grid-cols-4 items-center",children:[e.jsx("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:"추가 금액"}),e.jsxs("p",{className:"col-span-3 text-base text-slate-500",children:[s==null?void 0:s.surcharge.toLocaleString(),"원"]})]}),e.jsxs("li",{className:"grid grid-cols-4 items-center",children:[e.jsx("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:"권장 인원"}),e.jsxs("p",{className:"col-span-3 text-base text-slate-500",children:[a.recomCapacity,"명"]})]}),e.jsxs("li",{className:"grid grid-cols-4 items-center",children:[e.jsx("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:"최대 인원"}),e.jsxs("p",{className:"col-span-3 text-base text-slate-500",children:[a.maxCapacity,"명"]})]})]}),!p&&t===y.STAY&&s===null&&e.jsx(e.Fragment,{children:e.jsxs("li",{children:[e.jsx("h4",{className:"col-span-1 text-lg text-slate-600 font-semibold",children:"객실 상세"}),e.jsx("p",{className:"col-span-3 text-base text-secondary3",children:"예약을 위해 객실 상세 등록이 필요합니다."})]})})]})})})]}),e.jsx(F,{actions:P(),open:$,onClose:()=>x(!1)}),v&&e.jsx(O,{title:"객실 삭제",content:"해당 메뉴를 삭제하시겠습니까?",handleClickSubmit:()=>{console.log("삭제")},handleClickCancle:()=>{m(!1)}})]})};export{Z as default};
