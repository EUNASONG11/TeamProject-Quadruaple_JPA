import{r as o,j as e,g as n,u as x}from"./index-LV_9s5-1.js";import{T as p}from"./TitleHeader-6cQeiO5x.js";/* empty css                    */import{B as d}from"./index-CoXfSCcE.js";import{j as i}from"./jwt-Cwbp2SV6.js";import{F as m}from"./Footer-c4F46DtH.js";import{T as u}from"./index-BU7qHnut.js";import"./index-Ds3yrZWO.js";import"./index-CF7lad59.js";import"./DockBar-C_ktxKD9.js";import"./index-DdrXLXVe.js";import"./userAtom-Bt2xL0hP.js";import"./index-DXJ_gz2Q.js";import"./searchAtom-DskBk_2_.js";import"./searchSelector-W9W1vIh0.js";import"./EllipsisOutlined-DpMXc0VL.js";import"./index-Btv3waz5.js";import"./Portal-CiuFLH_K.js";import"./useId-LGEjO-HJ.js";import"./Overflow-DLIyATPg.js";import"./motion-D8x5Mwwf.js";const h=()=>{var l,a;const[t,r]=o.useState([]),c=async()=>{try{const s=await i.get("/api/coupon/expired-coupons");r(s.data.data),console.log("✅  getAfter:",s.data.data)}catch(s){console.log("✅  error:",s)}};return o.useEffect(()=>{c()},[]),e.jsx(e.Fragment,{children:((l=t==null?void 0:t.usedCoupons)==null?void 0:l.length)===0?e.jsxs("div",{className:"flex flex-col items-center justify-center my-28",children:[e.jsx(d,{className:"text-slate-300 text-[100px]"}),e.jsx("p",{className:"text-slate-400 text-[20px]",children:"사용 / 만료 된 쿠폰이 없습니다"})]}):e.jsx("div",{className:"bg-slate-100 px-4 py-5",children:(a=t==null?void 0:t.usedCoupons)==null?void 0:a.map(s=>e.jsx("div",{className:" flex justify-between w-full h-full overflow-hidden bg-white border-[1px] border-slate-200 rounded-lg mb-3",children:e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-slate-400 mb-2",children:[s.discountPer,"% 할인"]}),e.jsx("p",{className:"text-xl font-semibold text-slate-400 mb-1",children:s.title}),e.jsxs("p",{className:"text-sm text-slate-400",children:["기한 만료"," ",e.jsxs("span",{className:"text-slate-400",children:["(",s.expiredAt.split(" ")[0].replaceAll("-",".")+" "+s.expiredAt.split(" ")[1].slice(0,5),"까지)"]})]})]})},s.couponId))})})},j=()=>{var l,a;const[t,r]=o.useState([]);n("accessToken");const c=async()=>{try{const s=await i.get("/api/coupon/available-coupons");r(s.data.data),console.log("✅  getBefore:",s.data.data)}catch(s){console.log("✅  error:",s)}};return o.useEffect(()=>{c()},[]),e.jsx(e.Fragment,{children:((l=t==null?void 0:t.coupons)==null?void 0:l.length)===0?e.jsxs("div",{className:"flex flex-col items-center justify-center my-28",children:[e.jsx(BiSolidCoupon,{className:"text-slate-300 text-[100px]"}),e.jsx("p",{className:"text-slate-400 text-[20px]",children:"사용 / 만료 된 쿠폰이 없습니다"})]}):e.jsx("div",{className:"bg-slate-100 px-4 py-5",children:(a=t==null?void 0:t.coupons)==null?void 0:a.map(s=>e.jsx("div",{className:" flex justify-between w-full h-full overflow-hidden bg-white border-[1px] border-slate-200 rounded-lg mb-3",children:e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("h2",{className:"text-2xl font-semibold text-primary mb-2",children:[s.discountPer,"% 할인"]}),e.jsx("p",{className:"text-xl font-semibold text-slate-700 mb-1",children:s.title}),e.jsxs("p",{className:"text-sm text-slate-700",children:[s.daysLeft,"일 뒤 만료"," ",e.jsxs("span",{className:"text-slate-400",children:["(",s.expiredAt.split(" ")[0].replaceAll("-",".")+" "+s.expiredAt.split(" ")[1].slice(0,5),"까지)"]})]})]})},s.couponId))})})},U=()=>{o.useState(0);const t=x();return e.jsxs("div",{className:"h-full",children:[e.jsx(p,{icon:"back",title:"쿠폰함",onClick:()=>t(-1)}),e.jsx("div",{children:e.jsx(u,{className:"custom-tabs-nav custom-tabs-coupon",defaultActiveKey:"1",items:[{label:"사용가능 쿠폰",key:"1",children:e.jsx(j,{})},{label:"사용 / 만료 쿠폰",key:"2",children:e.jsx(h,{})}]})}),e.jsx(m,{})]})};export{U as default};
