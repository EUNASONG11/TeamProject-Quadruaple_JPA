import{h as g,g as j,r,j as e,B as v,m as S}from"./index-Bm9G2PMV.js";import{R as I}from"./ReviewItem-47dQikJo.js";import{S as N}from"./StrfInfo-10hHhv2o.js";import{L as w}from"./index-BkaPrlqb.js";import{S as y}from"./index-8pCYuP1t.js";import"./index-C-xthC12.js";import"./BottomSheet-CMGuhH5N.js";import"./ReviewImage-67IizvT4.js";import"./swiper-react-Bl7aMMMp.js";import"./index-C5zS-AqD.js";import"./index-8R5iMGzs.js";import"./index-ylnYrNX2.js";import"./index-D4xBV9bV.js";import"./Portal-DxuW4Xz7.js";import"./useId-CZlJin9A.js";import"./motion-DRcDUBp1.js";import"./roundedArrow-CubeYIpZ.js";import"./zoom-K_8YKqxC.js";const H=()=>{const[p]=g(),d=Number(p.get("strfId")),f=j("accessToken"),[t,o]=r.useState([]),[i,l]=r.useState(0),[u,n]=r.useState(!1),m=async a=>{const c="/api/business/review/all";n(!0);try{const s=(await S.get(`${c}?start_idx=${i}&page_size=20`,{headers:{Authorization:`Bearer ${f}`}})).data;return console.log("리뷰 목록 조회",s),s&&a==="more"&&o([...t,...s]),s&&a==="delete"&&(l(0),o(s)),n(!1),s}catch(x){return console.log("리뷰 목록 조회",x),n(!1),null}},h=async()=>{l(i+20)};return r.useEffect(()=>{m("more")},[i]),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(N,{}),e.jsxs(y,{spinning:u,children:[e.jsx("section",{className:"flex flex-col gap-10 pb-10",children:t.length>0?t==null?void 0:t.map((a,c)=>e.jsx(I,{item:a,strfId:d,setReviewList:o,getReviewList:m},c)):e.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center text-slate-300 py-12",children:[e.jsx(w,{className:"text-7xl"}),e.jsx("p",{className:"text-2xl",children:"리뷰가 없습니다"})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{variant:"outlined",className:"px-5 py-2 h-[9.6vw] max-h-[60px] text-xl text-slate-400 rounded-[32px]",onClick:h,children:"더보기"})})]})]})};export{H as default};
