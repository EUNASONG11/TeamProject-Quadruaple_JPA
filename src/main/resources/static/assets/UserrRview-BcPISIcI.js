import{r,g as v,u as b,j as e,a2 as w,B as N}from"./index-ztVTG9lp.js";/* empty css                    */import{j as m}from"./jwt-Dpt0WQzU.js";import{a as y}from"./index-Dx8wNGhz.js";import{B as I}from"./BottomSheet-wJVPawZI.js";import{f as S,g as R}from"./index-BNRq6L-3.js";import{T as k}from"./TitleHeader-lhIfQ61P.js";import{D as C}from"./DynamicGrid-DvOjJu8n.js";import{R as B}from"./index-BME9-B9L.js";import"./proxy-s5gT8Z6H.js";import"./dayjs.min-Ti2bJ-a6.js";import"./index-DIofXRia.js";import"./index-yYAbqUDh.js";import"./index-Dq2IDMxs.js";import"./Portal-Q4ncUo3s.js";import"./useId-z-Hxf0DT.js";import"./index-BoQfDuur.js";import"./fade-6OldJHuR.js";import"./zoom-CZRi_VRg.js";import"./addEventListener-BPeIRe7f.js";import"./motion-Cigbmjr9.js";import"./RightOutlined-BvDCb5Qt.js";import"./index-Cyve9Zid.js";import"./index-CFriIEhO.js";import"./roundedArrow-BEsDa3vf.js";const re=()=>{const[a,i]=r.useState([]),[l,c]=r.useState(0),[p,T]=r.useState(!0),[f,o]=r.useState(!1),[n,j]=r.useState(null);v("accessToken");const d=async()=>{try{const t=await m.get(`/api/review/my?start_idx=${l}`);i(s=>[...s,...t.data.data]),t.data.data&&c(s=>s+10),console.log("✅  getUserReview  res.data.data:",t.data)}catch(t){console.log("✅  getUserReview  error:",t)}},u=async t=>{console.log(t);try{await m.delete(`/api/review/del?review_id=${t.reviewId}`),c(0),i([]),console.log("리뷰 삭제:",res.data)}catch(s){console.log("리뷰 삭제:",s)}};r.useEffect(()=>{a.length===0&&d()},[l]);const g=()=>{d()},x=b(),h=t=>[{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(S,{className:"text-slate-400"})," 수정하기"]}),onClick:()=>{console.log("인식")}},{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(R,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>{u(t),o(!1)}}];return e.jsxs("div",{children:[e.jsx(k,{icon:"back",title:"리뷰",onClick:()=>x(-2)}),e.jsx("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-t-[1px] border-slate-100 ",children:e.jsxs("p",{className:"text-sm font-semibold",children:["총 ",a.length,"개"]})}),e.jsx("div",{children:a.map((t,s)=>e.jsxs("div",{className:"py-8 px-4 border-b-[10px] border-slate-100 last:border-none",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{children:e.jsxs("h1",{className:"flex items-center gap-2 h text-lg font-semibold text-slate-700 mb-2 cursor-pointer",onClick:()=>x(`/contents/index?strfId=${t.strfId}`),children:[t.strfTitle,e.jsx(w,{})]})}),e.jsx(y,{className:"text-slate-400 text-2xl cursor-pointer",onClick:A=>{o(!0),j(t)}})]}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(B,{className:"custom-rate flex items-center gap-[2px]",disabled:!0,allowHalf:!0,defaultValue:t.rating}),e.jsx("p",{className:"text-slate-400 text-base",children:t.reviewWriteDate.split(" ")[0].replace(/-/g,".")})]}),e.jsx("p",{className:"text-base text-slate-700 mb-2",children:t.content}),e.jsx(C,{reviewPics:t,type:"myReview"})]},s))}),p&&e.jsx("div",{className:"flex justify-center py-[14px]",children:e.jsx(N,{className:"text-slate-500 text-base !h-auto py-2 px-5 border-1 border-slate-200 rounded-full",onClick:()=>g(),children:"더보기"})}),e.jsx(I,{open:f,onClose:()=>o(!1),actions:n?h(n):[]})]})};export{re as default};
