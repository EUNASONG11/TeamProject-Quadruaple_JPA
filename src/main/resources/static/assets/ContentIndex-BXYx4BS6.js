import{j as e,b as D,r as i,bj as ee,ah as A,u as $,bN as J,B as P,d as T,N as Z,a9 as se,e as te,aC as le,S as ae,af as re,w as E,aN as ie,V as oe,aa as V,a1 as Q,U as ce,aA as ne,c as de}from"./index-BntdmLw6.js";import{j as M}from"./jwt-fW46sxL_.js";import{p as W,F as X,c as xe,h as me,q as pe}from"./match-QPO8WXvd.js";import{b as ue}from"./index-DGDOMr42.js";/* empty css                    */import{D as fe}from"./index-7h6nBgB8.js";import{L as he}from"./index-_SN7yVUb.js";import{D as ge}from"./DynamicGrid-ChfxA7yx.js";import{R as je}from"./index-CGR3KpPN.js";import{m as G}from"./proxy-UoHTkF4V.js";import{a as N,K as be,b as I,u as Ne,M as we}from"./MarkerClusterer-DvpaJJ2L.js";import{a as ye}from"./index-DK2u3MS2.js";import{P as ve}from"./index-HSKGSHVr.js";import{T as ke}from"./index-mwd-SaRI.js";import"./index-DlpCU_wW.js";import"./index-D--tJV0U.js";import"./index-uPMp8crv.js";import"./index-B594j0i6.js";import"./customParseFormat-5wskB_7Y.js";import"./PurePanel-UKNAQVax.js";import"./index-CQPU18Q9.js";import"./Portal-DrvEm9SG.js";import"./useId-1CjrgjZ5.js";import"./isMobile-B4CO7CVJ.js";import"./Overflow-DP5qerSy.js";import"./useIcons-Ds5xDlqb.js";import"./CheckOutlined-hbsPTsj_.js";import"./DownOutlined-B2Akvkot.js";import"./roundedArrow-BJTQLzTE.js";import"./useLocale-DTUvsN8S.js";import"./index-Cx8rCkDl.js";import"./index-D-KvkW_H.js";import"./index-f2vjQ5p_.js";import"./fade-Cg5Cr7pw.js";import"./zoom-CZrdmVqU.js";import"./addEventListener-BuCUmhKD.js";import"./motion-C0u11WnX.js";import"./RightOutlined-ChHi09xb.js";import"./index-BwdDw7dk.js";import"./EllipsisOutlined-BWq0Nlqz.js";const Me=({handleCancel:s,amenities:t})=>(console.log(t),e.jsxs("div",{className:"fixed top-0 left-1/2  -translate-x-1/2 z-[999] bg-white w-full max-w-[768px] h-screen",children:[e.jsx("div",{className:"",children:e.jsx(D,{icon:"close",title:"편의시설 및 서비스",onClick:s})}),e.jsx("ul",{className:"flex flex-wrap mt-6 px-4 gap-5",children:t.map(a=>e.jsxs("li",{className:"min-w-14 flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:W(a.amenityId??0)}),e.jsx("p",{children:a.amenityTitle})]},a.amenityId))})]})),Ce=({strfId:s})=>{const[t,a]=i.useState(),[o,n]=i.useState(!1),c=async()=>{try{const r=await M.get(`/api/detail/amenity?strf_id=${s}&category=숙소`);a(r.data.data),console.log("편의시설 조회",r.data.data)}catch(r){console.log("편의시설 조회",r)}};return i.useEffect(()=>{c()},[]),e.jsxs("div",{className:"px-4 my-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"편의시설 및 서비스"}),e.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-[6px] text-sm text-slate-400",children:["더보기 ",e.jsx(ee,{className:"text-xl"})]})]}),e.jsx("ul",{className:"grid grid-flow-col gap-4 overflow-hidden w-full h-[90px] mt-3",children:t==null?void 0:t.map(r=>e.jsxs("li",{className:"min-w-14 flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:W(r.amenityId??0)}),e.jsx("p",{children:r.amenityTitle})]},r.amenityId))}),o?e.jsx(Me,{handleCancel:()=>n(!o),amenities:t}):null]})},Ie=({strfId:s,menuData:t})=>e.jsxs("div",{className:"px-4 my-6",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"대표메뉴"}),e.jsx("ul",{className:"grid grid-cols-2 gap-3 mt-5",children:t.map(a=>e.jsxs("li",{children:[e.jsx("div",{className:"w-full aspect-square rounded-2xl overflow-hidden",children:e.jsx("img",{src:`${A}/${s}/menu/${a==null?void 0:a.menuPic}`,alt:a==null?void 0:a.menuTitle,className:"w-full h-full object-cover "})}),e.jsxs("div",{className:"mt-2 text-slate-700",children:[e.jsx("p",{className:"text-lg",children:a.menuTitle}),e.jsxs("p",{className:"text-base font-semibold tracking-tight",children:[a.menuPrice.toLocaleString(),"원"]})]})]},a.menuId))})]}),Se=({strfId:s,menuData:t})=>e.jsxs("div",{className:"px-4 my-6",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"입장권"}),e.jsx("ul",{children:t.map(a=>e.jsxs("li",{className:"flex items-center justify-between gap-4 py-4 border-b border-slate-200 last:border-b-0",children:[e.jsxs("div",{className:"text-slate-700",children:[e.jsx("h3",{className:"text-lg",children:a.menuTitle}),e.jsxs("p",{className:"text-base font-semibold",children:[a.menuPrice.toLocaleString(),"원"]})]}),e.jsx("div",{className:"w-24 aspect-square overflow-hidden rounded-2xl",children:e.jsx("img",{src:`${A}/${s}/menu/${a==null?void 0:a.menuPic}`,alt:a==null?void 0:a.menuTitle,className:"w-full h-full object-cover "})})]},a.menuId))})]}),{RangePicker:Pe}=fe,$e=({strfId:s,menuData:t,contentData:a})=>{const o=$(),[n,c]=i.useState([]),[r,u]=i.useState(null),[p]=i.useState(1),[,x]=i.useState(null),d=async(l,h)=>{var b;try{const g=await M.get(`/api/detail/check?strfId=${s}&checkIn=${l}&checkOut=${h}`);(b=g.data)!=null&&b.data&&c(g.data.data),console.log("예약 가능 여부:",g.data)}catch(g){console.log("예약 조회 에러:",g),c([])}},j=l=>{if(l){const[h,b]=l,g=T(h).format("YYYY-MM-DD"),y=T(b).format("YYYY-MM-DD");console.log("선택된 날짜 범위:",{start:g,end:y}),u([g,y]),d(g,y)}else console.log("날짜 선택이 취소됨"),u(null)},w=l=>{if(!r){Z.error("날짜를 선택해주세요");return}x(l),o(`/booking/index?strfId=${s}`,{state:{quantity:p,dates:r,item:l,contentData:a}})},f=l=>{if(!r)return!1;if(n&&n.length>0){const h=n.find(b=>b.menuId===l);return(h==null?void 0:h.check)||!1}return!1},v=l=>f(l)?"예약불가":"예약하기",k=l=>{if(!r){Z.warning("날짜를 선택해주세요");return}w(l)},C=l=>!!l&&l.isBefore(T().startOf("day"));return e.jsxs("div",{className:"mt-3 ",children:[e.jsx("div",{className:"px-4",children:e.jsx(Pe,{className:"custom-lodgment-picker w-full border-slate-300 rounded-lg py-3 text-slate-700 mb-3",onChange:j,disabledDate:C,format:"YYYY-MM-DD"})}),e.jsx("ul",{children:t==null?void 0:t.map(l=>e.jsxs("li",{className:"py-5 px-4 border-b-[10px] border-slate-100 last:border-b-0",children:[e.jsx("i",{children:e.jsx("img",{src:`${A}/${s}/menu/${l==null?void 0:l.menuPic}`,alt:l==null?void 0:l.menuTitle,className:"w-full aspect-[2/1] object-cover rounded-lg"})}),e.jsxs("div",{className:"my-3",children:[e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:l==null?void 0:l.menuTitle}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm my-1",children:[e.jsx(J,{className:"text-base"}),"입실 ",l.openCheckIn.replace(/:\d{2}$/,"")," - 퇴실",l.closeCheckIn.replace(/:\d{2}$/,"")]}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm ",children:[e.jsx(ue,{className:"text-base"}),"기준 ",l.recomCapacity,"인 / 최대 ",l.maxCapacity,"인"]}),e.jsxs("div",{className:"w-full border-t border-slate-100 mt-3 pt-3 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xl text-slate-700 font-semibold",children:[l.menuPrice.toLocaleString(),"원"]}),e.jsx(P,{type:"primary",className:"text-base py-2 px-4 h-auto rounded-lg",onClick:()=>k(l),disabled:f(l.menuId),children:v(l.menuId)})]})]})]},l.menuId))})]})},Re=({strfId:s,contentData:t})=>{console.log("contentData",t);const[a,o]=i.useState([]),[n,c]=i.useState(),[r,u]=i.useState(0),[p,x]=i.useState(null),[d,j]=i.useState({}),w=i.useRef({}),[f,v]=i.useState(0);console.log(n),console.log("리뷰 목록:",a),console.log("reviewIndex:",r);const k=i.useCallback(async()=>{console.log("지금 보내는 start_idx",r);try{const l=await M.get(`/api/review?strf_id=${s}&start_idx=${r}`);console.log("리뷰 불러오기:",l.data),o([...a,...l.data.dtoList]),c(l.data.more)}catch(l){console.log("리뷰 불러오기:",l)}},[r,a,s]),C=async()=>{try{const l=await te.get(`/api/detail/count?strf_id=${s}`);v(l.data.data),console.log("리뷰 수:",l)}catch(l){console.error("리뷰 수 불러오기 실패:",l)}};return i.useEffect(()=>{k()},[r]),i.useEffect(()=>{C()},[s]),i.useEffect(()=>{const l={};a.forEach((h,b)=>{const g=w.current[b];if(g){const y=parseInt(window.getComputedStyle(g).lineHeight),S=g.scrollHeight;l[b]=S>y*3}}),j(l)},[a]),e.jsxs("div",{children:[e.jsxs("p",{className:"text-base text-slate-700 px-4",children:[e.jsx("span",{className:"font-semibold text-primary",children:f}),"개의 리뷰"]}),a?e.jsx("ul",{children:a==null?void 0:a.map((l,h)=>{const b=d[h];return e.jsxs("li",{className:"flex flex-col gap-3 py-8 border-b border-slate-200 px-4 last:border-none",children:[e.jsxs("div",{className:"flex flex-col gap-[6px]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`${se}/${l.writerUserId}/${l.writerUserPic}`,alt:"pofilePic",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"font-semibold text-slate-700 text-base",children:l.writerUserName})]}),e.jsxs("div",{className:"flex gap-[6px] items-center",children:[e.jsx(he,{className:"text-base text-slate-300"}),e.jsx("p",{className:"font-semibold text-sm text-slate-500",children:l.userWriteReviewCnt})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-[6px]",children:[e.jsx(je,{disabled:!0,count:5,value:l.rating,className:"custom-review-rate"}),e.jsx("p",{className:"font-semibold text-sm text-slate-700",children:l.rating})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-slate-500",children:l.reviewWriteDate.split(" ")[0].replace(/-/g,".")})})]})]}),e.jsxs("div",{children:[e.jsx("p",{ref:g=>w.current[h]=g,className:`text-sm tracking-tight ${p===h?"":"line-clamp-3"}`,children:l.content}),b&&p!==h&&e.jsx("button",{type:"button",className:"text-primary text-sm font-semibold mt-[6px]",onClick:()=>x(h),children:"더보기"})]}),l.reviewPic&&l.reviewPic.length>0&&e.jsx(ge,{reviewPics:l,type:"review"})]},h)})}):e.jsx("ul",{children:e.jsx("li",{className:"flex flex-col gap-[20px] py-[30px] border-b border-slate-200"})}),n===!0&&e.jsx("button",{type:"button",className:"w-full py-[20px] rounded-lg border border-slate-300",onClick:()=>u(l=>l+10),children:"리뷰 더보기"})]})},Te=i.memo(Re),Ae=({open:s,onClose:t})=>{const[a,o]=i.useState([]),n=$();console.log(s);const c=async()=>{try{const r=await M.get("/api/trip-list");o(r.data.data.beforeTripList)}catch(r){console.log("여행 목록 불러오기:",r)}};return i.useEffect(()=>{c()},[]),e.jsx("div",{children:e.jsx(G.div,{tabIndex:-1,className:"max-w-[768px] w-full left-1/2 -translate-x-1/2 fixed inset-0 bg-black/50 flex justify-center items-end z-50 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(),children:e.jsxs(G.div,{className:" bg-white w-full rounded-t-3xl py-5 shadow-lg",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0,bottom:100},dragElastic:.2,onDragEnd:(r,u)=>{u.offset.y>100&&t()},onClick:r=>r.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1 bg-slate-400 rounded-full mx-auto mb-4"}),e.jsxs("div",{onClick:()=>n("/search/location"),className:"w-auto h-auto p-5 bg-slate-50 rounded-lg flex items-center gap-5 mx-3 cursor-pointer mb-4",children:[e.jsx("i",{className:"inline-block p-[10px] bg-primary rounded-full",children:e.jsx(le,{className:"text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"text-lg text-slate-700 font-semibold",children:"여행 일정 만들기"})})]}),e.jsx("div",{className:"px-3",children:a.map(r=>e.jsxs("div",{className:"flex items-center gap-3 w-full bg-slate-50 p-5 rounded-lg mb-3 cursor-pointer",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("img",{src:`${ae}/${r.locationPic}`,alt:r.title,className:"w-full h-full"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-base text-slate-700 font-semibold",children:r.title}),e.jsxs("p",{className:"text-sm text-slate-500 tracking-tight",children:[r.startAt.replace(/-/g,".")," -"," ",r.endAt.replace(/-/g,".")]})]})]}))})]})})})},Ee=({strfId:s,contentData:t})=>{const[,a]=i.useState({isRegistModalOpen:!1,openPathModal:!1,isReviewModalOpen:!1}),[o,n]=i.useState(!1),c=$(),r=()=>{a(u=>({...u,isReviewModalOpen:!0})),c(`/contents/postreview?strfId=${s}`,{state:t})};return e.jsxs("div",{className:"sticky bottom-0 left-0 z-50 w-full px-4 py-5 flex gap-3 bg-white border-t-[1px] border-slate-100",children:[e.jsx(P,{onClick:()=>n(!o),icon:e.jsx(X,{className:"!text-sm opacity-50 mb-[2px]"}),className:"flex items-center justify-center gap-[6px] border-slate-200 rounded-lg w-full h-auto py-[14px] text-lg text-slate-700 ",children:"일정 추가"}),e.jsx(P,{onClick:()=>{r()},icon:e.jsx(re,{className:"text-sm opacity-50 mb-[2px]"}),className:"flex items-center justify-center gap-[6px]  border-slate-200 rounded-lg w-full  h-auto py-[14px] text-lg text-slate-700 ",children:"리뷰쓰기"}),o&&e.jsx(Ae,{open:o,onClose:()=>n(!1)})]})},Le=E.forwardRef(function(t,a){let{map:o,position:n,marker:c,children:r,altitude:u,disableAutoPan:p,range:x,removable:d,zIndex:j,onCreate:w}=t;const f=i.useMemo(()=>{const k=document.createElement("div");return k.style.display="none",new kakao.maps.InfoWindow({altitude:u,disableAutoPan:p,range:x,removable:d,zIndex:j,content:k,position:n})},[p,d]),v=i.useMemo(()=>f.getContent(),[f]);return i.useImperativeHandle(a,()=>f,[f]),i.useLayoutEffect(()=>(f.open(o,c),()=>{f.close()}),[o,c]),i.useLayoutEffect(()=>{w&&w(f)},[f,w]),N(f,"setPosition",n),N(f,"setAltitude",u),N(f,"setRange",x),N(f,"setZIndex",j),ie.createPortal(r,v.parentElement??v)}),ze=E.forwardRef(function(t,a){let{map:o,position:n,children:c,altitude:r,clickable:u,draggable:p,image:x,infoWindowOptions:d,onCreate:j,onClick:w,onDragEnd:f,onDragStart:v,onMouseOut:k,onMouseOver:C,opacity:l,range:h,title:b,zIndex:g}=t;const y=i.useContext(be),S=i.useMemo(()=>{var R,L,z,Y,B,F,H,O,U,_,K,q;return x&&new kakao.maps.MarkerImage(x.src,new kakao.maps.Size(x.size.width,x.size.height),{alt:(R=x.options)==null?void 0:R.alt,coords:(L=x.options)==null?void 0:L.coords,offset:((z=x.options)==null?void 0:z.offset)&&new kakao.maps.Point((Y=x.options)==null?void 0:Y.offset.x,(B=x.options)==null?void 0:B.offset.y),shape:(F=x.options)==null?void 0:F.shape,spriteOrigin:((H=x.options)==null?void 0:H.spriteOrigin)&&new kakao.maps.Point((O=x.options)==null?void 0:O.spriteOrigin.x,(U=x.options)==null?void 0:U.spriteOrigin.y),spriteSize:((_=x.options)==null?void 0:_.spriteSize)&&new kakao.maps.Size((K=x.options)==null?void 0:K.spriteSize.width,(q=x.options)==null?void 0:q.spriteSize.height)})},[JSON.stringify(x)]),m=i.useMemo(()=>new kakao.maps.Marker({altitude:r,clickable:u,draggable:p,image:S,opacity:l,range:h,title:b,zIndex:g,position:n}),[]);return i.useImperativeHandle(a,()=>m,[m]),i.useLayoutEffect(()=>y?(y.addMarker(m,!0),()=>y.removeMarker(m,!0)):(m.setMap(o),()=>m.setMap(null)),[o,y,m]),i.useLayoutEffect(()=>{j&&j(m)},[m,j]),N(m,"setPosition",n),N(m,"setImage",S),N(m,"setAltitude",r),N(m,"setClickable",u),N(m,"setDraggable",p),N(m,"setOpacity",l),N(m,"setRange",h),N(m,"setRange",h),N(m,"setTitle",b),N(m,"setTitle",b),N(m,"setZIndex",g),I(m,"click",w),I(m,"dragstart",v),I(m,"dragend",f),I(m,"mouseout",k),I(m,"mouseover",C),c?e.jsx(Le,{position:n,map:o,marker:m,altitude:d==null?void 0:d.altitude,disableAutoPan:d==null?void 0:d.disableAutoPan,range:d==null?void 0:d.range,removable:d==null?void 0:d.removable,zIndex:d==null?void 0:d.zIndex,children:c}):null}),Ye=E.forwardRef(function(t,a){let{position:o,...n}=t;const c=Ne("MapMarker"),r=i.useMemo(()=>"lat"in o?new kakao.maps.LatLng(o.lat,o.lng):new kakao.maps.Coords(o.x,o.y).toLatLng(),[o.lat,o.lng,o.x,o.y]);return e.jsx(ze,{map:c,position:r,...n,ref:a})}),Be=({contentData:s})=>{const[t,a]=i.useState(!1);i.useState({lat:0,lng:0});const o={lat:(s==null?void 0:s.latit)||35.868358,lng:(s==null?void 0:s.longitude)||128.593778};return i.useEffect(()=>{const n=document.createElement("script");return n.async=!0,n.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1227efa5c91b2ace09ab915e643a15c9&autoload=false",n.addEventListener("load",()=>{window.kakao.maps.load(()=>{a(!0)})}),document.head.appendChild(n),()=>{document.head.removeChild(n)}},[]),t?e.jsx("div",{children:e.jsx(we,{center:o,style:{width:"100%",aspectRatio:"4 / 2",minHeight:"200px",borderRadius:"8px"},level:5,children:e.jsx(Ye,{position:o})})}):e.jsx("div",{children:"지도를 불러오는 중입니다..."})},Fe=i.memo(Be),He=({contentData:s})=>{const[t,a]=i.useState(!1),[o,n]=i.useState(!1),c=i.useRef(null);return i.useEffect(()=>{c.current&&n(c.current.scrollHeight>c.current.clientHeight)},[s==null?void 0:s.detail]),e.jsxs("div",{children:[e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"소개"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("p",{ref:c,className:`text-base text-slate-500 ${t?"":"line-clamp-5"}`,children:s==null?void 0:s.detail}),o&&!t&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/100 to-white/0"})]}),o&&e.jsx(P,{onClick:()=>a(r=>!r),className:"w-full h-auto py-[14px] border border-slate-300 rounded-lg",children:t?"숨기기":"펼치기"})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"위치"}),e.jsx(Fe,{contentData:s}),e.jsx("div",{children:e.jsxs("dl",{className:"mt-4 px-4 py-6 bg-slate-50 rounded-lg",children:[e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"주소"}),e.jsxs("dd",{className:"text-base text-slate-500 mb-1",children:["(",s==null?void 0:s.post,") ",s==null?void 0:s.address]}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"전화"}),e.jsx("dd",{className:"text-base text-slate-500 mb-1",children:"062-610-7000"}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"사업자번호"}),e.jsx("dd",{className:"text-base text-slate-500",children:"410-86-60209"})]})})]})]})},Oe=({strfId:s,contentData:t})=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:`${oe}/${s}/${t==null?void 0:t.strfPics[0].strfPic}`,alt:(t==null?void 0:t.strfTitle)||"",className:"w-full"})}),e.jsxs("div",{className:"px-4 py-3 flex flex-col gap-2",children:[e.jsx("p",{className:"text-sm text-slate-500 -mb-[6px]",children:xe(t==null?void 0:t.category)}),e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:t==null?void 0:t.strfTitle}),e.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-[6px]",children:[e.jsx(X,{className:" text-slate-300"}),t==null?void 0:t.address]}),e.jsxs("ul",{className:"flex items-center gap-[6px]",children:[e.jsx("li",{children:e.jsx(ye,{className:"text-primary text-base"})}),e.jsx("li",{className:"text-sm text-slate-700 font-semibold",children:t==null?void 0:t.ratingAvg}),e.jsxs("li",{className:"text-sm text-primary underline",children:["리뷰 ",t==null?void 0:t.reviewCnt.toLocaleString(),"개"]}),e.jsx("li",{className:"text-slate-300 text-base mx-1",children:"|"}),e.jsx("li",{className:"text-lg text-slate-400",children:t!=null&&t.wishIn?e.jsx(V,{className:"text-secondary3"}):e.jsx(Q,{})}),e.jsx("li",{className:"text-slate-500 text-sm",children:t==null?void 0:t.wishCnt})]}),e.jsx("div",{children:e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500",children:[e.jsx(J,{className:"text-sm"}),t!=null&&t.restDate&&t.restDate.length>0?t.restDate.map(a=>` ${me(a)}요일 휴무 `):"매일",t==null?void 0:t.openCheck.replace(/:\d{2}$/,"")," ~",t==null?void 0:t.closeCheck.replace(/:\d{2}$/,"")]})})]})]}),Ue=({scrollEvent:s=!0,strfId:t,contentData:a,getDetailMember:o})=>{const[n,c]=i.useState(!1),r=$(),u=async()=>{const d={strfId:t};console.log("찜하기 데이터:",d);try{const j=await M.post("/api/wish-list",{...d});console.log("찜하기",j.data),j.data.code==="200 성공"&&o()}catch(j){console.log("찜하기",j)}};i.useEffect(()=>{if(!s){c(!1);return}const d=()=>{window.scrollY>0?c(!0):c(!1)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[s]);const p=window.location.href,x=async()=>{try{await navigator.clipboard.writeText(p)}catch(d){console.error("복사 실패",d)}};return console.log("currentUri",p),e.jsx("div",{className:`max-w-[768px] w-full px-4  fixed top-0 left-1/2 -translate-x-1/2 z-10
        duration-300 ${s?n?"bg-white text-slate-700":"bg-transparent text-white":"bg-transparent"}`,children:e.jsxs("div",{className:"flex justify-between items-center h-[60px]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ce,{className:"text-3xl min-w-7 cursor-pointer",onClick:()=>r(-1)}),e.jsx("h2",{className:"font-semibold text-lg line-clamp-1",children:a==null?void 0:a.strfTitle})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[a!=null&&a.wishIn?e.jsx(V,{className:`text-2xl cursor-pointer ${scrollY>0?"text-secondary3":"text-white"}`,onClick:u}):e.jsx(Q,{className:`text-2xl cursor-pointer ${scrollY>0?"text-slate-700":"text-white"}`,onClick:u}),e.jsx(ve,{className:"!rounded-2xl",content:e.jsxs("div",{className:"flex items-center justify-between gap-3 bg-slate-100 pl-3 pr-1 py-1 rounded-lg",children:[e.jsx("p",{className:"line-clamp-1 w-[189px]",children:p}),e.jsxs("button",{onClick:()=>x(),className:" flex items-center gap-1 bg-primary px-3 py-1 rounded-lg text-white",children:[e.jsx(pe,{}),"복사"]})]}),trigger:"click",getPopupContainer:d=>d.parentElement||document.body,children:e.jsx(ne,{className:" text-2xl cursor-pointer"})})]})]})})},Ps=()=>{const[s,t]=i.useState(null),[a,o]=i.useState([]),[n]=de(),c=Number(n.get("strfId"))||0,r=async()=>{try{const p=await M.get(`/api/detail/member?&strf_id=${c}`);p.data.data,console.log("상품조회-회원",p.data.data),t(p.data.data)}catch(p){console.log("상품조회-회원",p)}},u=async()=>{try{const p=await M.get(`/api/detail/menu?strf_id=${c}`);o(p.data.data),console.log("상품조회-메뉴",p.data.data)}catch(p){console.log("상품조회-메뉴",p)}};return i.useEffect(()=>{u(),r()},[]),e.jsxs("div",{children:[s&&e.jsx(Ue,{strfId:c,contentData:s,getDetailMember:r}),e.jsx("section",{children:s&&e.jsx(Oe,{strfId:c,contentData:s})}),a&&e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{children:[(s==null?void 0:s.category)==="STAY"&&e.jsx($e,{strfId:c,menuData:a,contentData:s}),(s==null?void 0:s.category)==="RESTAUR"&&e.jsx(Ie,{strfId:c,menuData:a}),((s==null?void 0:s.category)==="TOUR"||(s==null?void 0:s.category)==="FEST")&&e.jsx(Se,{strfId:c,menuData:a})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"})]}),(s==null?void 0:s.category)==="STAY"&&e.jsxs(e.Fragment,{children:[e.jsx("section",{children:e.jsx(Ce,{strfId:c})}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"})]}),e.jsx("section",{children:e.jsx(ke,{defaultActiveKey:"1",centered:!0,className:"custom-strf-tabs",items:[{label:"상세정보",key:"1",children:e.jsx(e.Fragment,{children:s&&e.jsx(He,{strfId:c,contentData:s})})},{label:"리뷰",key:"2",children:e.jsx(e.Fragment,{children:s&&e.jsx(Te,{strfId:c,contentData:s})})}]})}),s&&e.jsx(Ee,{strfId:c,contentData:s})]})};export{Ps as default};
