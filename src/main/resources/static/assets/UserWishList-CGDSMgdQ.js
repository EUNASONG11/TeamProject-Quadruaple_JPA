import{g as T,u as k,r as a,j as t,d as h}from"./index-Ci2k4qFh.js";import{T as L}from"./TitleHeader-BCewOsTi.js";import{a as S}from"./pic-Jp7D6aQ0.js";import{A}from"./index-2cOcDuMQ.js";import{c as D}from"./match-CsZKVY0N.js";import{c as p,o as d}from"./search-1EubG62x.js";import{d as I}from"./dayjs.min-BpaY4wBy.js";import{R as E}from"./index-C8XM4V8E.js";import{B as M}from"./button-wUgNsQBt.js";import"./index-B2xZeB-i.js";import"./index-DQsKIu_Q.js";import"./useId-D-Ytk-B6.js";import"./index-n5wX8XHp.js";import"./index-Iuc15HtX.js";import"./Portal-CM-16Ier.js";import"./useSize-D9liuY7G.js";import"./ContextIsolator-DxC-8vna.js";import"./context-n6vFpcCh.js";const Z=()=>{T("accessToken");const m=k(),g=()=>{m(-1)},u=e=>{m(`/contents/index?strfId=${e.strfId}`)},[f,c]=a.useState(0),[r,o]=a.useState([]),[l,j]=a.useState(0),[i,y]=a.useState(0),[N,v]=a.useState(!0);a.useEffect(()=>{console.log("wishListData",r)},[r]);const n=async()=>{try{const e=await h.get(`/api/wish-list?start_idx=${f}&orderType=${d[i].type}&category=${p[l].name}`);console.log(e.data);const s=e.data;o([...r,...s.data]),c(x=>x+10)}catch(e){console.log("찜목록 불러오기",e)}},w=async()=>{const e=I().format("YYYY-MM-DD");try{const s=await h.get(`/api/wish-list/fest?start_idx=${f}&orderType=${d[i].type}&category=${p[l].name}&start_at=${e}`);console.log(s.data);const x=s.data;o([...r,...x.data]),c($=>$+10),x.data[0].more===!1&&v(!1)}catch(s){console.log("찜목록 불러오기",s)}},b=e=>{j(e),c(0),o([])},C=e=>{y(e),c(0),o([])};return a.useEffect(()=>{n()},[]),a.useEffect(()=>{l!==4?n():w()},[l,i]),t.jsxs("div",{children:[t.jsx(L,{icon:"back",onClick:g,title:"찜 목록"}),t.jsxs("div",{className:"px-[32px] flex flex-col gap-[50px] mt-[30px] ",children:[t.jsxs("div",{className:"flex flex-col gap-[20px]",children:[t.jsx("ul",{className:"flex justify-between items-center",children:p.map((e,s)=>t.jsx("li",{onClick:()=>{b(s)},className:`cursor-pointer font-semibold text-[16px] w-full flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${s===l?"bg-primary text-white":"bg-white text-slate-500"}`,children:e.name},s))}),t.jsx("ul",{className:"flex items-center",children:d.map((e,s)=>t.jsx("li",{className:`cursor-pointer font-semibold text-[13px] flex items-center px-3 py-1  ${s===i?"text-primary":"text-slate-500"}`,onClick:()=>C(s),children:e.name},s))})]}),t.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:r.map((e,s)=>t.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>u(e),children:[t.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:t.jsx("img",{src:`${S}${e.strfId}/${e.strfPic}`,alt:e.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex flex-col gap-[5px]",children:[t.jsx("div",{className:"flex gap-[5px] items-center ",children:t.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:e.strfTitle})}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx("p",{className:"text-[14px] text-slate-500",children:D(e.category)}),t.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),t.jsx("p",{className:"text-[14px] text-slate-500",children:e.locationName})]}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx(E,{disabled:!0,count:1,value:e.reviewed?1:0,className:"text-primary"}),t.jsx("p",{className:"text-[12px] text-slate-500",children:e.ratingAvg!==0?e.ratingAvg:"0"}),t.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",e.ratingCnt.toLocaleString(),")"]})]}),t.jsxs("div",{className:"flex gap-[5px] items-center",children:[t.jsx("div",{children:t.jsx(A,{className:"text-secondary3"})}),t.jsx("p",{className:"text-[12px] text-slate-500",children:e.wishCnt.toLocaleString()})]})]})]},s))})]}),N&&t.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:t.jsx(M,{variant:"outlined",onClick:()=>{n()},className:"h-[46px] px-[20px] py-[10px] rounded-3xl text-slate-600 text-[16px] font-semibold",children:"더보기"})})]})};export{Z as default};
