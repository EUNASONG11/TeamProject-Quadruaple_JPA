import{u,j as e,r,i as C,g as R,R as A,a as F,e as P,d as E}from"./index-CG8vYf2y.js";import{d as B}from"./index-CkZhrZUZ.js";import{C as D}from"./index-BK2APq6_.js";import{F as z}from"./index-DduuLXv4.js";import{D as Y}from"./DockBar-DeVDYASQ.js";/* empty css               */import{S as g,a as N}from"./swiper-react-BbOrc_xQ.js";import{a as w,L as _}from"./pic-Jp7D6aQ0.js";import{a as y,b as k}from"./index-BSwssLiK.js";import{R as H}from"./index-DipEv1TS.js";import{g as O}from"./index-CWOPntzi.js";import{F as V}from"./Footer-Doo6Z_i7.js";import{I as M}from"./index-DmNkHtiY.js";import"./iconBase-BliIWTH0.js";import"./index-DNP8OPt4.js";import"./searchAtom-C3LxS7Az.js";import"./searchSelector-iZOl_tOs.js";import"./index-nQPZjETo.js";import"./UnstableContext-Cxtoe_qF.js";import"./useSize-s7Cj9DSQ.js";import"./ExclamationCircleFilled-B_QXJoCI.js";import"./CloseCircleFilled-BQjJuuZg.js";import"./InfoCircleFilled-DdebdxrH.js";import"./KeyCode-DNlgD2sM.js";import"./pickAttrs-KpDTT5l5.js";import"./useCSSVarCls-DVyv07Mk.js";import"./Keyframes-DQFvTPSf.js";import"./useZIndex-DHIAsWu5.js";import"./genStyleUtils-BNuyCX-p.js";import"./CloseOutlined-72i2lCdW.js";import"./useMergedState-DU3z-VtB.js";import"./index-DrSQ8jn4.js";import"./index-E9bkYm6o.js";import"./Portal-CztClCTi.js";import"./index-N7vMWSMs.js";import"./useId-D1G52zAA.js";import"./ContextIsolator-BLCcxi2B.js";import"./context-PnQlGr6A.js";import"./button-Qumjrz4E.js";import"./reactNode-Dx8pTwlk.js";import"./zoom-Dx8PYXKT.js";import"./index-Bo0Apytk.js";import"./BaseInput-CpL4Y_YZ.js";const U=({festivities:a})=>{const l=u();return e.jsx("div",{children:e.jsx(g,{slidesPerView:1.3,spaceBetween:12,className:"mySwiper",children:a.map(s=>e.jsxs(N,{className:"!h-[93.33vw] cursor-pointer relative text-white rounded-tl-[60px] rounded-br-[60px] overflow-hidden after:absolute after:left-0 after:bottom-0 after:w-full after:h-[50%] after:bg-gradient-to-b after:from-transparent after:to-black after:opacity-70",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("img",{src:`${w}${s.strfId}/${s.strfPic}`,alt:s.festTitle,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-10 right-8 text-right z-[99]",children:[s.open&&e.jsx("span",{className:"text-xs inline-block bg-secondary3 px-2 py-1 font-light ",children:"개최중"}),e.jsx("h2",{className:"text-xl font-semibold",style:{wordBreak:"auto-phrase"},children:s.festTitle}),e.jsxs("h4",{className:"text-sm font-medium ",children:[s.startAt.replaceAll("-","."),"~",s.endAt.replaceAll("-",".")]}),e.jsx("p",{className:"text-sm font-normal",children:s.locationTitle})]})]},s.strfId))})})},q=({locations:a})=>e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-700",children:["국내 여행지 ",e.jsx("b",{className:"text-secondary3 font-bold",children:"BEST 10"})]}),e.jsx(g,{slidesPerView:3,spaceBetween:12,className:"mySwiper ",children:a.map((l,s)=>e.jsx(N,{className:"relative pt-5",children:e.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden h-[26.6vw]",children:[e.jsx("img",{src:`${_}${l.locationPic}`,alt:l.locationTitle,className:"opacity-70 h-full object-cover"}),e.jsx("p",{className:"absolute z-[999] bg-secondary3 text-white w-6 h-6 leading-6 left-0 top-0 text-center inline-block text-xs rounded-br-lg",children:s+1}),e.jsxs("div",{className:"absolute top-[50%] left-[50%] -translate-x-1/2 -translate-y-1/2 text-center text-white ",children:[e.jsx("p",{className:"text-xs",children:"대한민국"}),e.jsx("h3",{className:"font-semibold text-lg mt-1",children:l.locationTitle})]})]})},l.locationId))})]}),G=({recent:a,getMainList:l,setFestivities:s,setLocations:b,setRecent:j,setRecommend:v})=>{const d=u(),[c,m]=r.useState("STAY"),p={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지"},i=a.find(t=>t.category===c),h=async t=>{const f={strfId:t.strfId};console.log("찜하기 데이터:",f);try{const n=await axios.post("/api/wish-list",{...f},{headers:{Authorization:`Bearer ${accessToken}`}});console.log("찜하기",n.data),n.data.code==="200 성공"&&l()}catch(n){console.log("찜하기",n)}};return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-700",children:"최근 본 목록"}),e.jsx("div",{children:a.map(t=>e.jsx("button",{onClick:()=>m(t.category),className:`px-4 py-1.5 my-5 border cursor-pointer text-base mr-3 rounded-2xl ${c===t.category?"bg-primary text-white border-none":"bg-white text-slate-500 border-1 border-slate-300"}`,children:p[t.category]},t.category))}),e.jsx("div",{className:" flex flex-wrap ",children:i==null?void 0:i.recent.slice(0,6).map(t=>e.jsxs("div",{className:"w-full flex items-center gap-5 mb-5 cursor-pointer",onClick:()=>{d(`/contents/index?strfId=${t.strfId}`)},children:[e.jsxs("div",{className:"w-[34.6vw] aspect-square rounded-[16px] relative overflow-hidden flex-1",children:[e.jsx("img",{src:`${w}${t.strfId}/${t.strfPic}`,alt:t.strfTitle,className:"w-full h-full object-cover"}),e.jsx("i",{className:"absolute top-2.5 right-2.5 cursor-pointer",onClick:()=>h(item),children:t.wishIn?e.jsx(y,{className:"text-secondary3 text-xl"}):e.jsx(k,{className:"text-white text-xl"})})]}),e.jsxs("div",{className:"flex-1 pr-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-700 break-keep",children:t.strfTitle}),e.jsxs("p",{className:"font-light text-sm text-slate-400",children:[t.locationName," · ",p[c]]}),e.jsx("div",{children:e.jsx(H,{disabled:!0,allowHalf:!0,defaultValue:t.averageRating,className:"custom-star"})}),e.jsxs("div",{className:"flex text-slate-400 text-sm items-center gap-1",children:[t.wishIn?e.jsx(y,{className:"text-secondary3 text-lg"}):e.jsx(k,{className:"text-slate-400 text-lg"}),t.wishCnt]})]})]},t.strfId))})]})},W=({recommend:a})=>{const l=u();return!a||a.length===0?null:e.jsxs("div",{children:[e.jsx("h1",{className:"px-4 text-2xl font-bold text-slate-700",children:"회원님에게 추천하는 여행지"}),e.jsx(g,{slidesPerView:1,className:"mySwiper mt-5",children:a.map(s=>e.jsxs(N,{className:"align-middle justify-center  px-3 cursor-pointer",onClick:()=>l(`/contents/index?strfId=${s.strfId}`),children:[e.jsx("img",{src:`${w}${s.strfId}/${s.strfPic}`,alt:s.strfTitle,className:"w-full h-[53.3vw] rounded-tr-[36px] rounded-bl-[36px]"}),e.jsxs("div",{className:" gap-[6px] mt-3 ml-3 w-full",children:[e.jsx("span",{className:"bg-slate-800 text-white py-1 px-2 rounded-2xl font-light text-xs inline",children:s.locationTitle}),e.jsx("h2",{className:"text-xl font-semibold break-keep mt-1",children:s.strfTitle}),e.jsx("p",{className:"text-lg font-light text-slate-600 break-keep mt-1",children:s.explain}),e.jsxs(C,{to:"",className:"py-2 text-sm text-slate-400 flex items-center font-light",children:["자세히보기 ",e.jsx(O,{className:"text-lg"})]})]})]},s.strfId))})]})},ze=()=>{const a=R("accessToken"),[l,s]=r.useState([]),[b,j]=r.useState([]),[v,d]=r.useState([]),[c,m]=r.useState([]);r.useState(!1);const[p,i]=r.useState(0),h=async()=>{try{let o;a?o=await P.get("/api/home"):o=await E.get("/api/home"),console.log("메인",o.data.data);const{festivalList:S,locationList:T,recentList:$,recommendList:L}=o.data.data;s(S),j(T),d($),m(L)}catch(o){console.log(o)}};r.useEffect(()=>{h()},[]);const t=()=>{window.scrollY>0?i(!0):i(!1)};window.addEventListener("scroll",t);const[f,n]=A(F),x=u();r.useEffect(()=>{},[f]);const I=()=>{x("/search/strf")};return e.jsxs("div",{children:[e.jsxs("header",{className:`flex h-auto items-center px-4 py-3 max-w-3xl w-full sticky top-0 left-0 z-10 duration-300 ${p?"shadow-sm":"shadow-none"} z-50 bg-white `,children:[e.jsx("h1",{className:"w-[32vw] max-w-32 mr-auto",children:e.jsx("img",{src:"/images/logo_1.png",alt:"main_logo",className:"cursor-pointer",onClick:()=>{x("/")}})}),e.jsxs("nav",{className:" flex gap-5",children:[e.jsx(B,{className:"text-2xl text-slate-400 cursor-pointer"}),e.jsx(D,{className:"text-2xl text-slate-400 cursor-pointer",onClick:()=>{x(a?"/user/index":"/signin")}})]})]}),e.jsxs("main",{className:"pb-10",children:[e.jsx("section",{className:"px-4 mt-3",children:e.jsx(M,{className:"h-auto text-sm rounded-lg  !bg-slate-100 !border-slate-300 py-[14px] px-3",placeholder:" 지금 어디로 여행을 떠나고 싶으신가요?",readOnly:!0,prefix:e.jsx(z,{className:"text-slate-400 text-sm"}),onClick:()=>I()})}),e.jsx("section",{className:"px-4 mt-5",children:e.jsx(U,{festivities:l})}),e.jsx("section",{className:"px-4 mt-10",children:e.jsx(q,{locations:b})}),e.jsxs("section",{className:"bg-[#E8F6EF] px-4 mt-10 mx-4 h-[100px] xs:h-28 md:h-36 max-h-[140px] rounded-2xl flex items-center relative",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-light text-[#4C4C6D]",children:"신규회원 가입시 누구나"}),e.jsx("p",{className:"text-lg font-semibold text-[#4C4C6D]",children:"최대 20만원 쿠폰팩 증정"})]}),e.jsx("img",{src:"/images/main-banner_img.png",alt:"",className:"w-36 xs:w-40 md:w-42 absolute right-6 -top-5 md:!-top-7"})]}),e.jsx("section",{className:"px-4 mt-10",children:e.jsx(G,{recent:v,getMainList:h,setFestivities:s,setLocations:j,setRecent:d,setRecommend:m})}),e.jsx("section",{className:"mt-10 bg-slate-100 w-full py-16",children:e.jsx(W,{recommend:c})})]}),e.jsx(V,{}),e.jsx(Y,{})]})};export{ze as default};
