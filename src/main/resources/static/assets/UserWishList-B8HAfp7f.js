import{j as e,T as w,r as o,u as f,a3 as k,B as C,i as h}from"./index-Cwx4I7Vi.js";import{d as T}from"./dayjs.min-DnVSsyDC.js";import{T as A}from"./TitleHeader-B_AiqjDt.js";import{c as I,d as S}from"./index-DYAbll7n.js";import{a as D}from"./pic-Jp7D6aQ0.js";import{R as L}from"./index-Dbth3xtv.js";/* empty css                    */import{T as $}from"./index-C8O5cC_t.js";import"./index-CWBfKhhN.js";import"./index-zy4pIAEY.js";import"./index-C1nPTQe_.js";import"./KeyCode-DNlgD2sM.js";import"./index-G7OR39Gq.js";import"./index-B7BtatMF.js";import"./Portal-SJsC_TZ1.js";import"./useId-cPQzkJ8H.js";import"./useZIndex-0xqzHicI.js";import"./zoom-D6z5ctYs.js";import"./Keyframes-C9Oo5sJi.js";import"./CloseOutlined-GwKmxF7X.js";import"./EllipsisOutlined-nfpQXzsS.js";import"./Overflow-CYHc8NuW.js";const E=({setShowFilter:t,setOrderType:a})=>e.jsxs("div",{className:"max-w-[768px] w-full h-screen fixed top-0 left-1/2 -translate-x-1/2 bg-white z-10",children:[e.jsx(w,{icon:"",title:"필터",onClick:()=>t(!1)}),e.jsxs("dl",{className:"text-slate-700 py-6 px-4",children:[e.jsx("dt",{className:"text-base font-semibold py-2",children:"정렬"}),e.jsx("dd",{className:"text-sm py-3 border-b-[1px] border-slate-100 cursor-pointer",onClick:()=>{a("ratingAvg"),t(!1)},children:"평점순"}),e.jsx("dd",{className:"text-sm py-3 border-b-[1px] border-slate-100 cursor-pointer",onClick:()=>{a("ratingCnt"),t(!1)},children:"리뷰순"}),e.jsx("dd",{className:"text-sm py-3 cursor-pointer",onClick:()=>{a("likeCnt"),t(!1)},children:"좋아요순"})]})]}),c=({category:t})=>{const[a,i]=o.useState(0),[n,p]=o.useState([]),[H,u]=o.useState(!0),[g,m]=o.useState(!1),[d,j]=o.useState("ratingAvg"),b=f(),x=async()=>{try{const s=await h.get(`/api/wish-list?start_idx=${a}&orderType=${d}&category=${t}`);console.log(s.data);const r=s.data;p(l=>a===0?r.data:[...l,...r.data]),u(r.more)}catch(s){console.log("찜목록 불러오기 실패",s)}},y=async s=>{const r={strfId:s.strfId};console.log("찜하기 데이터:",r);try{const l=await h.post("/api/wish-list",{...r});console.log("찜하기",l.data),l.data.code==="200 성공"&&(i(0),x(0))}catch(l){console.log("찜하기",l)}};o.useEffect(()=>{p([]),i(0),x()},[t,d]),o.useEffect(()=>{x()},[a]);const N={TOUR:"관광지",FEST:"축제",STAY:"숙소",RESTAUR:"맛집"},v={ratingAvg:"평점순",ratingCnt:"리뷰순",likeCnt:"좋아요순"};return e.jsxs("div",{children:[g&&e.jsx(E,{setShowFilter:m,setOrderType:j}),e.jsxs("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-slate-100 ",children:[e.jsxs("p",{className:"text-sm font-semibold",children:["총 ",n.length,"개"]}),e.jsxs("button",{className:"flex items-center gap-1 text-slate-500",onClick:()=>m(!0),children:[v[d]," ",e.jsx(k,{})]})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:n.map((s,r)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>b(`/contents/index?strfId=${s.strfId}`),children:[e.jsxs("div",{className:"w-32 aspect-square bg-slate-200 rounded-lg overflow-hidden relative",children:[e.jsx("img",{src:`${D}${s.strfId}/${s.strfPic}`,alt:s.title,className:"w-full h-full object-cover"}),e.jsx(I,{className:"text-secondary3 text-xl absolute top-2 right-2",onClick:l=>{l.stopPropagation(),y(s)}})]}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-lg font-semibold text-slate-700",children:s.strfTitle})}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-slate-500",children:[N[s.category]||s.category," ·"," ",s.locationName]})}),e.jsxs("div",{className:"flex gap-1 items-center",children:[e.jsx(L,{disabled:!0,allowHalf:!0,value:s.ratingAvg,className:"flex items-center custom-star-wish custom-star"}),e.jsxs("p",{className:"text-sm text-slate-500",children:["(",s.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-1 items-center text-sm",children:[e.jsx(S,{className:"text-slate-400 text-lg"}),e.jsx("p",{className:"text-slate-500",children:s.wishCnt.toLocaleString()})]})]})]},r))}),e.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:e.jsx(C,{variant:"outlined",onClick:()=>i(s=>s+10),className:"text-slate-500 text-base !h-auto py-2 px-5 border-1 border-slate-200 rounded-full",children:"더보기"})})]})]})},R=T().format("YYYY-MM-DD"),le=()=>{const t=f();o.useState(R);const a=[{key:"1",label:"전체",children:e.jsx(c,{category:"전체"})},{key:"2",label:"관광지",children:e.jsx(c,{category:"관광지"})},{key:"3",label:"숙소",children:e.jsx(c,{category:"숙소"})},{key:"4",label:"맛집",children:e.jsx(c,{category:"맛집"})},{key:"5",label:"축제",children:e.jsx(c,{category:"축제"})}],i=n=>{console.log(n)};return e.jsxs("div",{children:[e.jsx(A,{icon:"back",onClick:()=>{t(-1)},title:"찜 목록"}),e.jsx("div",{className:"",children:e.jsx("div",{children:e.jsx($,{defaultActiveKey:"1",items:a,onChange:i,className:"custom-tab border-t-[10px] border-slate-100"})})})]})};export{le as default};
