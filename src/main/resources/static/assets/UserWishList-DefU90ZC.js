import{g as T,u as L,r as a,j as e,B as Y,f as u}from"./index-BldMvkj-.js";import{T as A}from"./TitleHeader-h4a5ZHCC.js";import{a as E}from"./pic-Jp7D6aQ0.js";import{a as I}from"./index-C0FmFyOa.js";import{c as M}from"./match-Cr-WHery.js";import{c as m,o as d}from"./search-1EubG62x.js";import{d as F}from"./dayjs.min-Euf2t-ZC.js";import{F as P}from"./index-Dqm2EJ75.js";import{D as W}from"./index-DDl8LP5A.js";import{R as B}from"./index-Dkwrf7my.js";import"./index-Bo3kiOEp.js";import"./index-CF8iy-oi.js";import"./index-ChVfxpTv.js";import"./index-C5B1RAqx.js";import"./Portal-w-6SWf8e.js";import"./collapse-BbEVqHco.js";import"./zoom-CY_GuPzI.js";import"./Keyframes-4MZitI5l.js";import"./index-CTXNrfD5.js";import"./index-BWTVzI-L.js";import"./index-B5HDwGmv.js";import"./useId-DZuEBq-G.js";import"./useZIndex-BlWCPQk6.js";import"./useLocale-pc8lhoMq.js";import"./ExclamationCircleFilled-BgEVQkYu.js";import"./PurePanel-DrBmxA6O.js";import"./Overflow-C9jBxujf.js";import"./useIcons-DWBTnG39.js";import"./CheckOutlined-B8loTIFt.js";import"./CloseOutlined-CG4VXA4p.js";import"./KeyCode-DNlgD2sM.js";const R=F().format("YYYY-MM-DD"),jt=()=>{P.useForm(),T("accessToken");const f=L(),j=()=>{f(-1)},y=t=>{f(`/contents/index?strfId=${t.strfId}`)},[h,o]=a.useState(0),[i,l]=a.useState([]),[r,N]=a.useState(0),[n,v]=a.useState(0),[w,C]=a.useState(!0),[x,D]=a.useState(R);a.useEffect(()=>{console.log("wishListData",i)},[i]);const p=async()=>{try{const t=await u.get(`/api/wish-list?start_idx=${h}&orderType=${d[n].type}&category=${m[r].name}`);console.log(t.data);const s=t.data;l([...i,...s.data]),o(c=>c+10)}catch(t){console.log("찜목록 불러오기",t)}},g=async()=>{var t;try{const s=await u.get(`/api/wish-list/fest?start_idx=${h}&orderType=${d[n].type}&category=${m[r].name}&start_at=${x}`);console.log("축제 찜목록",s.data);const c=s.data;l([...i,...c.data]),o(k=>k+10),(((t=c.data[0])==null?void 0:t.more)===!1||c.data.length===0)&&C(!1)}catch(s){console.log("찜목록 불러오기",s)}},b=t=>{N(t),o(0),l([])},$=t=>{v(t),o(0),l([])},S=async t=>{o(0),l([]);const s=t.format("YYYY-MM-DD");D(s)};return a.useEffect(()=>{p()},[]),a.useEffect(()=>{r!==4?p():g()},[r,n]),a.useEffect(()=>{x&&r===4&&g()},[x]),e.jsxs("div",{children:[e.jsx(A,{icon:"back",onClick:j,title:"찜 목록"}),e.jsxs("div",{className:"px-[32px] flex flex-col gap-[50px] mt-[30px] ",children:[e.jsxs("div",{className:"flex flex-col gap-[20px]",children:[e.jsx("ul",{className:"flex justify-between items-center",children:m.map((t,s)=>e.jsx("li",{onClick:()=>{b(s)},className:`cursor-pointer font-semibold text-[16px] w-full flex justify-center items-center px-[15px] py-[10px] gap-[10px] rounded-[8px] ${s===r?"bg-primary text-white":"bg-white text-slate-500"}`,children:t.name},s))}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("ul",{className:"flex items-center gap-5",children:d.map((t,s)=>e.jsx("li",{className:`cursor-pointer font-semibold text-[13px] flex items-center py-1  ${s===n?"text-primary":"text-slate-500"}`,onClick:()=>$(s),children:t.name},s))}),r===4&&e.jsx("div",{children:e.jsx(W,{onChange:S})})]})]}),e.jsx("ul",{className:"w-full flex flex-col gap-[20px] mb-[30px]",children:i.map((t,s)=>e.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>y(t),children:[e.jsx("div",{className:"w-[130px] h-[130px] bg-slate-200 rounded-[8px] overflow-hidden",children:e.jsx("img",{src:`${E}${t.strfId}/${t.strfPic}`,alt:t.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-[5px]",children:[e.jsx("div",{className:"flex gap-[5px] items-center ",children:e.jsx("h3",{className:"text-[20px] font-semibold text-slate-700",children:t.strfTitle})}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("p",{className:"text-[14px] text-slate-500",children:M(t.category)}),e.jsx("p",{className:"text-[14px] text-slate-500",children:"|"}),e.jsx("p",{className:"text-[14px] text-slate-500",children:t.locationName})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx(B,{disabled:!0,count:1,value:t.reviewed?1:0,className:"text-primary"}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.ratingAvg!==0?t.ratingAvg:"0"}),e.jsxs("p",{className:"text-[12px] text-slate-500",children:["(",t.ratingCnt.toLocaleString(),")"]})]}),e.jsxs("div",{className:"flex gap-[5px] items-center",children:[e.jsx("div",{children:e.jsx(I,{className:"text-secondary3"})}),e.jsx("p",{className:"text-[12px] text-slate-500",children:t.wishCnt.toLocaleString()})]})]})]},s))})]}),w&&e.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:e.jsx(Y,{variant:"outlined",onClick:()=>{p()},className:"h-[46px] px-[20px] py-[10px] rounded-3xl text-slate-600 text-[16px] font-semibold",children:"더보기"})})]})};export{jt as default};
