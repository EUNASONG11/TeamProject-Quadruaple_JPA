import{j as e,T as X,r,a$ as D,a5 as $,B as P,a1 as ee,c as se,u as T,a9 as le,S as te,o as A,aA as re,U as ae,a2 as G,Y as J,q as ie,ao as oe,b as ce}from"./index-Ca07tLEd.js";import{j as M}from"./jwt-B4KiaZnV.js";import{p as Q,F as V,c as ne,f as de,q as xe}from"./match-DB3tVH4P.js";import{p as W,f as me}from"./index-CSW4K44K.js";import{b as pe}from"./index-DQCX8ula.js";/* empty css                    */import{D as ue}from"./index-D1DTbGX0.js";import{L as q}from"./index-yMZQKGyH.js";import{D as fe}from"./DynamicGrid-utLU4sap.js";import{R as he}from"./index-DMEkP_Cf.js";import{m as Z}from"./proxy-CQK-WOoG.js";import{a as h,K as ge,b as C,u as je,M as be}from"./MarkerClusterer-Cwe2wfAX.js";import{a as Ne}from"./index-BRSy36ld.js";import{P as we}from"./index-B1Q5OVpS.js";import{T as ye}from"./index-Ctn4EYXv.js";import"./index-jXb6QSXU.js";import"./index-ECujgWbR.js";import"./index-i_TGYzGR.js";import"./dayjs.min-KiVL71rA.js";import"./customParseFormat-Ceax_keq.js";import"./PurePanel-DeZC3cql.js";import"./index-C1FW6RQ6.js";import"./Portal-bFZPeb1_.js";import"./useId-Bji8iwmo.js";import"./isMobile-B4CO7CVJ.js";import"./Overflow-DimcLmKk.js";import"./useIcons-D8Xo9qVc.js";import"./CheckOutlined-BihJn51r.js";import"./DownOutlined-CZ6lxLXu.js";import"./roundedArrow-6vZVf-sn.js";import"./useLocale-DUSaQ6sR.js";import"./index-kLri-PQr.js";import"./index-DFDHLIBM.js";import"./index-C5HFx97B.js";import"./fade-CzNXUA7v.js";import"./zoom-B1Y8MrBX.js";import"./addEventListener-B3Zm94h0.js";import"./motion-BEBWFKgD.js";import"./RightOutlined-BLoPzU5i.js";import"./index-DgQEJAJb.js";import"./EllipsisOutlined-Ct_X69u_.js";const ve=({handleCancel:t,amenities:l})=>(console.log(l),e.jsxs("div",{className:"fixed top-0 left-1/2  -translate-x-1/2 z-[999] bg-white w-full max-w-[768px] h-screen",children:[e.jsx("div",{className:"",children:e.jsx(X,{icon:"close",title:"편의시설 및 서비스",onClick:t})}),e.jsx("ul",{className:"flex flex-wrap mt-6 px-4 gap-5",children:l.map(s=>e.jsxs("li",{className:"min-w-14 flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:Q(s.amenityId??0)}),e.jsx("p",{children:s.amenityTitle})]},s.amenityId))})]})),ke=({strfId:t})=>{const[l,s]=r.useState(),[i,c]=r.useState(!1),o=async()=>{try{const a=await M.get(`/api/detail/amenity?strf_id=${t}&category=숙소`);s(a.data.data),console.log("편의시설 조회",a.data.data)}catch(a){console.log("편의시설 조회",a)}};return r.useEffect(()=>{o()},[]),e.jsxs("div",{className:"px-4 my-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"편의시설 및 서비스"}),e.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-[6px] text-sm text-slate-400",children:["더보기 ",e.jsx(D,{className:"text-xl"})]})]}),e.jsx("ul",{className:"grid grid-flow-col gap-4 overflow-hidden w-full h-[90px] mt-3",children:l==null?void 0:l.map(a=>e.jsxs("li",{className:"min-w-14 flex flex-col items-center justify-center gap-[6px] text-slate-700",children:[e.jsx("i",{className:"text-2xl ",children:Q(a.amenityId??0)}),e.jsx("p",{children:a.amenityTitle})]},a.amenityId))}),i?e.jsx(ve,{handleCancel:()=>c(!i),amenities:l}):null]})},Me=({strfId:t,menuData:l})=>e.jsxs("div",{className:"px-4 my-6",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"대표메뉴"}),e.jsx("ul",{className:"grid grid-cols-2 gap-3 mt-5",children:l.map(s=>e.jsxs("li",{children:[e.jsx("div",{className:"w-full aspect-square rounded-2xl overflow-hidden",children:e.jsx("img",{src:`${$}/${t}/menu/${s==null?void 0:s.menuPic}`,alt:s==null?void 0:s.menuTitle,className:"w-full h-full object-cover "})}),e.jsxs("div",{className:"mt-2 text-slate-700",children:[e.jsx("p",{className:"text-lg",children:s.menuTitle}),e.jsxs("p",{className:"text-base font-semibold tracking-tight",children:[s.menuPrice.toLocaleString(),"원"]})]})]},s.menuId))})]}),Ce=({strfId:t,menuData:l})=>e.jsxs("div",{className:"px-4 my-6",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl",children:"입장권"}),e.jsx("ul",{children:l.map(s=>e.jsxs("li",{className:"flex items-center justify-between gap-4 py-4 border-b border-slate-200 last:border-b-0",children:[e.jsxs("div",{className:"text-slate-700",children:[e.jsx("h3",{className:"text-lg",children:s.menuTitle}),e.jsxs("p",{className:"text-base font-semibold",children:[s.menuPrice.toLocaleString(),"원"]})]}),e.jsx("div",{className:"w-24 aspect-square overflow-hidden rounded-2xl",children:e.jsx("img",{src:`${$}/${t}/menu/${s==null?void 0:s.menuPic}`,alt:s==null?void 0:s.menuTitle,className:"w-full h-full object-cover "})})]},s.menuId))})]}),{RangePicker:Ie}=ue,Se=({strfId:t,menuData:l})=>e.jsxs("div",{className:"mt-3 ",children:[e.jsxs("div",{className:"px-4",children:[e.jsx(Ie,{className:"custom-lodgment-picker w-full border-slate-300 rounded-lg py-3 text-slate-700 mb-3"}),e.jsx("button",{className:"w-full border border-slate-300 rounded-lg py-3 text-base text-slate-700 mb-3",children:"성인 2"})]}),e.jsx("ul",{children:l==null?void 0:l.map(s=>e.jsxs("li",{className:"py-5 px-4 border-b-[10px] border-slate-100 last:border-b-0",children:[e.jsx("i",{children:e.jsx("img",{src:`${$}/${t}/menu/${s==null?void 0:s.menuPic}`,alt:s==null?void 0:s.menuTitle,className:"w-full aspect-[2/1] object-cover rounded-lg"})}),e.jsxs("div",{className:"my-3",children:[e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:s==null?void 0:s.menuTitle}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm my-1",children:[e.jsx(W,{className:"text-base"}),"입실 ",s.openCheckIn.replace(/:\d{2}$/,"")," - 퇴실",s.closeCheckIn.replace(/:\d{2}$/,"")]}),e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500 text-sm ",children:[e.jsx(pe,{className:"text-base"}),"기준 ",s.recomCapacity,"인 / 최대 ",s.maxCapacity,"인"]}),e.jsxs("div",{className:"w-full border-t border-slate-100 mt-3 pt-3 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xl text-slate-700 font-semibold",children:[s.menuPrice.toLocaleString(),"원"]}),e.jsx(P,{type:"primary",className:"text-base py-2 px-4 h-auto rounded-lg",children:"예약하기"})]})]})]},s.menuId))})]}),Pe=({strfId:t,contentData:l})=>{console.log("contentData",l);const[s,i]=r.useState([]),[c,o]=r.useState(),[a,u]=r.useState(0),[p,m]=r.useState(null),[n,g]=r.useState({}),b=r.useRef({}),[f,y]=r.useState(0);console.log(c),console.log("리뷰 목록:",s),console.log("reviewIndex:",a);const v=r.useCallback(async()=>{console.log("지금 보내는 start_idx",a);try{const d=await M.get(`/api/review?strf_id=${t}&start_idx=${a}`);console.log("리뷰 불러오기:",d.data),i([...s,...d.data.dtoList]),o(d.data.more)}catch(d){console.log("리뷰 불러오기:",d)}},[a,s,t]),I=async()=>{try{const d=await se.get(`/api/detail/count?strf_id=${t}`);y(d.data.data),console.log("리뷰 수:",d)}catch(d){console.error("리뷰 수 불러오기 실패:",d)}};return r.useEffect(()=>{v()},[a]),r.useEffect(()=>{I()},[t]),r.useEffect(()=>{const d={};s.forEach((j,N)=>{const w=b.current[N];if(w){const k=parseInt(window.getComputedStyle(w).lineHeight),S=w.scrollHeight;d[N]=S>k*3}}),g(d)},[s]),e.jsxs("div",{children:[e.jsxs("p",{className:"text-base text-slate-700 px-4",children:[e.jsx("span",{className:"font-semibold text-primary",children:f}),"개의 리뷰"]}),s?e.jsx("ul",{children:s==null?void 0:s.map((d,j)=>{const N=n[j];return e.jsxs("li",{className:"flex flex-col gap-3 py-8 border-b border-slate-200 px-4 last:border-none",children:[e.jsxs("div",{className:"flex flex-col gap-[6px]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden",children:e.jsx("img",{src:`${ee}/${d.writerUserId}/${d.writerUserPic}`,alt:"pofilePic",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"font-semibold text-slate-700 text-base",children:d.writerUserName})]}),e.jsxs("div",{className:"flex gap-[6px] items-center",children:[e.jsx(q,{className:"text-base text-slate-300"}),e.jsx("p",{className:"font-semibold text-sm text-slate-500",children:d.userWriteReviewCnt})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex gap-[6px]",children:[e.jsx(he,{disabled:!0,count:5,value:d.rating,className:"custom-review-rate"}),e.jsx("p",{className:"font-semibold text-sm text-slate-700",children:d.rating})]}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-slate-500",children:d.reviewWriteDate.split(" ")[0].replace(/-/g,".")})})]})]}),e.jsxs("div",{children:[e.jsx("p",{ref:w=>b.current[j]=w,className:`text-sm tracking-tight ${p===j?"":"line-clamp-3"}`,children:d.content}),N&&p!==j&&e.jsx("button",{type:"button",className:"text-primary text-sm font-semibold mt-[6px]",onClick:()=>m(j),children:"더보기"})]}),d.reviewPic&&d.reviewPic.length>0&&e.jsx(fe,{reviewPics:d,type:"review"})]},j)})}):e.jsx("ul",{children:e.jsx("li",{className:"flex flex-col gap-[20px] py-[30px] border-b border-slate-200"})}),s.length>0?e.jsx("button",{type:"button",className:"w-full py-[20px] rounded-lg border border-slate-300",onClick:()=>u(d=>d+10),children:"리뷰 더보기"}):e.jsxs("div",{className:"flex flex-col gap-[20px] justify-center items-center",children:[e.jsx("i",{className:"text-slate-300 text-[100px]",children:e.jsx(q,{})}),e.jsx("p",{className:"text-slate-400 text-[20px]",children:"리뷰가 없습니다."})]})]})},Re=r.memo(Pe),$e=({open:t,onClose:l})=>{const[s,i]=r.useState([]),c=T();console.log(t);const o=async()=>{try{const a=await M.get("/api/trip-list");i(a.data.data.beforeTripList)}catch(a){console.log("여행 목록 불러오기:",a)}};return r.useEffect(()=>{o()},[]),e.jsx("div",{children:e.jsx(Z.div,{tabIndex:-1,className:"max-w-[768px] w-full left-1/2 -translate-x-1/2 fixed inset-0 bg-black/50 flex justify-center items-end z-50 overflow-hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(),children:e.jsxs(Z.div,{className:" bg-white w-full rounded-t-3xl py-5 shadow-lg",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0,bottom:100},dragElastic:.2,onDragEnd:(a,u)=>{u.offset.y>100&&l()},onClick:a=>a.stopPropagation(),children:[e.jsx("div",{className:"w-12 h-1 bg-slate-400 rounded-full mx-auto mb-4"}),e.jsxs("div",{onClick:()=>c("/search/location"),className:"w-auto h-auto p-5 bg-slate-50 rounded-lg flex items-center gap-5 mx-3 cursor-pointer mb-4",children:[e.jsx("i",{className:"inline-block p-[10px] bg-primary rounded-full",children:e.jsx(le,{className:"text-white"})}),e.jsx("div",{children:e.jsx("p",{className:"text-lg text-slate-700 font-semibold",children:"여행 일정 만들기"})})]}),e.jsx("div",{className:"px-3",children:s.map(a=>e.jsxs("div",{className:"flex items-center gap-3 w-full bg-slate-50 p-5 rounded-lg mb-3 cursor-pointer",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("img",{src:`${te}/${a.locationPic}`,alt:a.title,className:"w-full h-full"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h3",{className:"text-base text-slate-700 font-semibold",children:a.title}),e.jsxs("p",{className:"text-sm text-slate-500 tracking-tight",children:[a.startAt.replace(/-/g,".")," -"," ",a.endAt.replace(/-/g,".")]})]})]}))})]})})})},Te=({strfId:t,contentData:l})=>{const[,s]=r.useState({isRegistModalOpen:!1,openPathModal:!1,isReviewModalOpen:!1}),[i,c]=r.useState(!1),o=T(),a=()=>{s(u=>({...u,isReviewModalOpen:!0})),o(`/contents/postreview?strfId=${t}`,{state:l})};return e.jsxs("div",{className:"sticky bottom-0 left-0 z-50 w-full px-4 py-5 flex gap-3 bg-white border-t-[1px] border-slate-100",children:[e.jsx(P,{onClick:()=>c(!i),icon:e.jsx(V,{className:"!text-sm opacity-50 mb-[2px]"}),className:"flex items-center justify-center gap-[6px] border-slate-200 rounded-lg w-full h-auto py-[14px] text-lg text-slate-700 ",children:"일정 추가"}),e.jsx(P,{onClick:()=>{a()},icon:e.jsx(me,{className:"text-sm opacity-50 mb-[2px]"}),className:"flex items-center justify-center gap-[6px]  border-slate-200 rounded-lg w-full  h-auto py-[14px] text-lg text-slate-700 ",children:"리뷰쓰기"}),i&&e.jsx($e,{open:i,onClose:()=>c(!1)})]})},Ae=A.forwardRef(function(l,s){let{map:i,position:c,marker:o,children:a,altitude:u,disableAutoPan:p,range:m,removable:n,zIndex:g,onCreate:b}=l;const f=r.useMemo(()=>{const v=document.createElement("div");return v.style.display="none",new kakao.maps.InfoWindow({altitude:u,disableAutoPan:p,range:m,removable:n,zIndex:g,content:v,position:c})},[p,n]),y=r.useMemo(()=>f.getContent(),[f]);return r.useImperativeHandle(s,()=>f,[f]),r.useLayoutEffect(()=>(f.open(i,o),()=>{f.close()}),[i,o]),r.useLayoutEffect(()=>{b&&b(f)},[f,b]),h(f,"setPosition",c),h(f,"setAltitude",u),h(f,"setRange",m),h(f,"setZIndex",g),re.createPortal(a,y.parentElement??y)}),Ee=A.forwardRef(function(l,s){let{map:i,position:c,children:o,altitude:a,clickable:u,draggable:p,image:m,infoWindowOptions:n,onCreate:g,onClick:b,onDragEnd:f,onDragStart:y,onMouseOut:v,onMouseOver:I,opacity:d,range:j,title:N,zIndex:w}=l;const k=r.useContext(ge),S=r.useMemo(()=>{var R,E,L,z,F,H,O,U,_,B,K,Y;return m&&new kakao.maps.MarkerImage(m.src,new kakao.maps.Size(m.size.width,m.size.height),{alt:(R=m.options)==null?void 0:R.alt,coords:(E=m.options)==null?void 0:E.coords,offset:((L=m.options)==null?void 0:L.offset)&&new kakao.maps.Point((z=m.options)==null?void 0:z.offset.x,(F=m.options)==null?void 0:F.offset.y),shape:(H=m.options)==null?void 0:H.shape,spriteOrigin:((O=m.options)==null?void 0:O.spriteOrigin)&&new kakao.maps.Point((U=m.options)==null?void 0:U.spriteOrigin.x,(_=m.options)==null?void 0:_.spriteOrigin.y),spriteSize:((B=m.options)==null?void 0:B.spriteSize)&&new kakao.maps.Size((K=m.options)==null?void 0:K.spriteSize.width,(Y=m.options)==null?void 0:Y.spriteSize.height)})},[JSON.stringify(m)]),x=r.useMemo(()=>new kakao.maps.Marker({altitude:a,clickable:u,draggable:p,image:S,opacity:d,range:j,title:N,zIndex:w,position:c}),[]);return r.useImperativeHandle(s,()=>x,[x]),r.useLayoutEffect(()=>k?(k.addMarker(x,!0),()=>k.removeMarker(x,!0)):(x.setMap(i),()=>x.setMap(null)),[i,k,x]),r.useLayoutEffect(()=>{g&&g(x)},[x,g]),h(x,"setPosition",c),h(x,"setImage",S),h(x,"setAltitude",a),h(x,"setClickable",u),h(x,"setDraggable",p),h(x,"setOpacity",d),h(x,"setRange",j),h(x,"setRange",j),h(x,"setTitle",N),h(x,"setTitle",N),h(x,"setZIndex",w),C(x,"click",b),C(x,"dragstart",y),C(x,"dragend",f),C(x,"mouseout",v),C(x,"mouseover",I),o?e.jsx(Ae,{position:c,map:i,marker:x,altitude:n==null?void 0:n.altitude,disableAutoPan:n==null?void 0:n.disableAutoPan,range:n==null?void 0:n.range,removable:n==null?void 0:n.removable,zIndex:n==null?void 0:n.zIndex,children:o}):null}),Le=A.forwardRef(function(l,s){let{position:i,...c}=l;const o=je("MapMarker"),a=r.useMemo(()=>"lat"in i?new kakao.maps.LatLng(i.lat,i.lng):new kakao.maps.Coords(i.x,i.y).toLatLng(),[i.lat,i.lng,i.x,i.y]);return e.jsx(Ee,{map:o,position:a,...c,ref:s})}),ze=({contentData:t})=>{const[l,s]=r.useState(!1);r.useState({lat:0,lng:0});const i={lat:(t==null?void 0:t.latit)||35.868358,lng:(t==null?void 0:t.longitude)||128.593778};return r.useEffect(()=>{const c=document.createElement("script");return c.async=!0,c.src="//dapi.kakao.com/v2/maps/sdk.js?appkey=1227efa5c91b2ace09ab915e643a15c9&autoload=false",c.addEventListener("load",()=>{window.kakao.maps.load(()=>{s(!0)})}),document.head.appendChild(c),()=>{document.head.removeChild(c)}},[]),l?e.jsx("div",{children:e.jsx(be,{center:i,style:{width:"100%",aspectRatio:"4 / 2",minHeight:"200px",borderRadius:"8px"},level:5,children:e.jsx(Le,{position:i})})}):e.jsx("div",{children:"지도를 불러오는 중입니다..."})},Fe=r.memo(ze),He=({contentData:t})=>{const[l,s]=r.useState(!1),[i,c]=r.useState(!1),o=r.useRef(null);return r.useEffect(()=>{o.current&&c(o.current.scrollHeight>o.current.clientHeight)},[t==null?void 0:t.detail]),e.jsxs("div",{children:[e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"소개"}),e.jsxs("div",{className:"relative w-full",children:[e.jsx("p",{ref:o,className:`text-base text-slate-500 ${l?"":"line-clamp-5"}`,children:t==null?void 0:t.detail}),i&&!l&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-white/100 to-white/0"})]}),i&&e.jsx(P,{onClick:()=>s(a=>!a),className:"w-full h-auto py-[14px] border border-slate-300 rounded-lg",children:l?"숨기기":"펼치기"})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{className:"my-6 px-4",children:[e.jsx("h3",{className:"font-semibold text-slate-700 text-xl mb-4",children:"위치"}),e.jsx(Fe,{contentData:t}),e.jsx("div",{children:e.jsxs("dl",{className:"mt-4 px-4 py-6 bg-slate-50 rounded-lg",children:[e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"주소"}),e.jsxs("dd",{className:"text-base text-slate-500 mb-1",children:["(",t==null?void 0:t.post,") ",t==null?void 0:t.address]}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"전화"}),e.jsx("dd",{className:"text-base text-slate-500 mb-1",children:"062-610-7000"}),e.jsx("dt",{className:"text-base text-slate-700 font-semibold float-left mr-3",children:"사업자번호"}),e.jsx("dd",{className:"text-base text-slate-500",children:"410-86-60209"})]})})]})]})},Oe=({strfId:t,contentData:l})=>e.jsxs("div",{children:[e.jsx("div",{children:e.jsx("img",{src:`${ae}/${t}/${l==null?void 0:l.strfPics[0].strfPic}`,alt:(l==null?void 0:l.strfTitle)||"",className:"w-full"})}),e.jsxs("div",{className:"px-4 py-3 flex flex-col gap-2",children:[e.jsx("p",{className:"text-sm text-slate-500 -mb-[6px]",children:ne(l==null?void 0:l.category)}),e.jsx("h2",{className:"text-2xl text-slate-700 font-semibold",children:l==null?void 0:l.strfTitle}),e.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-[6px]",children:[e.jsx(V,{className:" text-slate-300"}),l==null?void 0:l.address]}),e.jsxs("ul",{className:"flex items-center gap-[6px]",children:[e.jsx("li",{children:e.jsx(Ne,{className:"text-primary text-base"})}),e.jsx("li",{className:"text-sm text-slate-700 font-semibold",children:l==null?void 0:l.ratingAvg}),e.jsxs("li",{className:"text-sm text-primary underline",children:["리뷰 ",l==null?void 0:l.reviewCnt.toLocaleString(),"개"]}),e.jsx("li",{className:"text-slate-300 text-base mx-1",children:"|"}),e.jsx("li",{className:"text-lg text-slate-400",children:l!=null&&l.wishIn?e.jsx(G,{className:"text-secondary3"}):e.jsx(J,{})}),e.jsx("li",{className:"text-slate-500 text-sm",children:l==null?void 0:l.wishCnt})]}),e.jsx("div",{children:e.jsxs("p",{className:"flex items-center gap-[6px] text-slate-500",children:[e.jsx(W,{className:"text-base"}),l!=null&&l.restDate&&l.restDate.length>0?l.restDate.map(s=>` ${de(s)}요일 휴무 `):"매일",l==null?void 0:l.openCheck.replace(/:\d{2}$/,"")," ~",l==null?void 0:l.closeCheck.replace(/:\d{2}$/,"")]})})]})]}),Ue=({scrollEvent:t=!0,strfId:l,contentData:s,getDetailMember:i})=>{const[c,o]=r.useState(!1),a=T(),u=async()=>{const n={strfId:l};console.log("찜하기 데이터:",n);try{const g=await M.post("/api/wish-list",{...n});console.log("찜하기",g.data),g.data.code==="200 성공"&&i()}catch(g){console.log("찜하기",g)}};r.useEffect(()=>{if(!t){o(!1);return}const n=()=>{window.scrollY>0?o(!0):o(!1)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[t]);const p=window.location.href,m=async()=>{try{await navigator.clipboard.writeText(p)}catch(n){console.error("복사 실패",n)}};return console.log("currentUri",p),e.jsx("div",{className:`max-w-[768px] w-full px-4  fixed top-0 left-1/2 -translate-x-1/2 z-10
        duration-300 ${t?c?"bg-white text-slate-700":"bg-transparent text-white":"bg-transparent"}`,children:e.jsxs("div",{className:"flex justify-between items-center h-[60px]",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ie,{className:"text-3xl min-w-7 cursor-pointer",onClick:()=>a(-1)}),e.jsx("h2",{className:"font-semibold text-lg line-clamp-1",children:s==null?void 0:s.strfTitle})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[s!=null&&s.wishIn?e.jsx(G,{className:`text-2xl cursor-pointer ${scrollY>0?"text-secondary3":"text-white"}`,onClick:u}):e.jsx(J,{className:`text-2xl cursor-pointer ${scrollY>0?"text-slate-700":"text-white"}`,onClick:u}),e.jsx(we,{className:"!rounded-2xl",content:e.jsxs("div",{className:"flex items-center justify-between gap-3 bg-slate-100 pl-3 pr-1 py-1 rounded-lg",children:[e.jsx("p",{className:"line-clamp-1 w-[189px]",children:p}),e.jsxs("button",{onClick:()=>m(),className:" flex items-center gap-1 bg-primary px-3 py-1 rounded-lg text-white",children:[e.jsx(xe,{}),"복사"]})]}),trigger:"click",getPopupContainer:n=>n.parentElement||document.body,children:e.jsx(oe,{className:" text-2xl cursor-pointer"})})]})]})})},Ss=()=>{const[t,l]=r.useState(null),[s,i]=r.useState([]),[c]=ce(),o=Number(c.get("strfId"))||0,a=async()=>{try{const p=await M.get(`/api/detail/member?&strf_id=${o}`);p.data.data,console.log("상품조회-회원",p.data.data),l(p.data.data)}catch(p){console.log("상품조회-회원",p)}},u=async()=>{try{const p=await M.get(`/api/detail/menu?strf_id=${o}`);i(p.data.data),console.log("상품조회-메뉴",p.data.data)}catch(p){console.log("상품조회-메뉴",p)}};return r.useEffect(()=>{u(),a()},[]),e.jsxs("div",{children:[t&&e.jsx(Ue,{strfId:o,contentData:t,getDetailMember:a}),e.jsx("section",{children:t&&e.jsx(Oe,{strfId:o,contentData:t})}),s&&e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"w-full h-[10px] bg-slate-100"}),e.jsxs("section",{children:[(t==null?void 0:t.category)==="STAY"&&e.jsx(Se,{strfId:o,menuData:s}),(t==null?void 0:t.category)==="RESTAUR"&&e.jsx(Me,{strfId:o,menuData:s}),((t==null?void 0:t.category)==="TOUR"||(t==null?void 0:t.category)==="FEST")&&e.jsx(Ce,{strfId:o,menuData:s})]}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"})]}),(t==null?void 0:t.category)==="STAY"&&e.jsxs(e.Fragment,{children:[e.jsx("section",{children:e.jsx(ke,{strfId:o})}),e.jsx("section",{className:"w-full h-[10px] bg-slate-100"})]}),e.jsx("section",{children:e.jsx(ye,{defaultActiveKey:"1",centered:!0,className:"custom-strf-tabs",items:[{label:"상세정보",key:"1",children:e.jsx(e.Fragment,{children:t&&e.jsx(He,{strfId:o,contentData:t})})},{label:"리뷰",key:"2",children:e.jsx(e.Fragment,{children:t&&e.jsx(Re,{strfId:o,contentData:t})})}]})}),t&&e.jsx(Te,{strfId:o,contentData:t})]})};export{Ss as default};
