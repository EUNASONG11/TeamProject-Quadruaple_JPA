import{g as b,h as E,u as k,k as S,R as A,r as B,j as e,a8 as C,B as v,m as l,q as T}from"./index-Bm9G2PMV.js";import{e as h,R as _}from"./ReviewItem-47dQikJo.js";import{S as z}from"./StrfInfo-10hHhv2o.js";import{S as D}from"./index-8pCYuP1t.js";import"./index-C-xthC12.js";import"./BottomSheet-CMGuhH5N.js";import"./ReviewImage-67IizvT4.js";import"./swiper-react-Bl7aMMMp.js";import"./index-C5zS-AqD.js";import"./index-8R5iMGzs.js";import"./index-ylnYrNX2.js";import"./index-D4xBV9bV.js";import"./Portal-DxuW4Xz7.js";import"./useId-CZlJin9A.js";import"./motion-DRcDUBp1.js";import"./roundedArrow-CubeYIpZ.js";import"./zoom-K_8YKqxC.js";const Z=()=>{const p=b("accessToken"),[o]=E(),m=Number(o.get("strfId")),g=Number(o.get("reviewId")),w=Number(o.get("replayId")),d=o.get("type"),f=k(),x=()=>{f(`/business/review?strfId=${m}`)},[t,y]=S(h),u=A(h),[R,i]=B.useState(!1),j=async()=>{var a;const r="/api/business/review/create",n={reviewId:g,content:t.reviewReply};i(!0);try{const c=(await l.post(r,n,{headers:{Authorization:`Bearer ${p}`}})).data;return c&&(i(!1),x(),u(),T.success("리뷰 작성 완료")),console.log("대댓글 생성",c),c}catch(s){return l.isAxiosError(s)&&(console.error("Error status:",(a=s.response)==null?void 0:a.status),console.error("Error message:",s.message)),console.log("대댓글 생성",s),i(!1),null}},I=async()=>{const r="/api/business/review/update",n={reviewReplyId:w,content:t.reviewReply};try{const s=(await l.put(r,n,{headers:{Authorization:`Bearer ${p}`}})).data;return s&&(u(),x()),console.log("대댓글 생성",s),s}catch(a){return console.log("대댓글 생성",a),null}},N=()=>{d==="create"?j():I()};return e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(z,{}),e.jsx("div",{className:"px-4",children:e.jsx("h2",{className:"text-2xl font-semibold text-slate-600",children:d==="create"?"댓글 작성":"댓글 수정"})}),t.userReview&&e.jsx(_,{strfId:m,item:t.userReview}),e.jsx("div",{className:"px-4",children:e.jsx(D,{spinning:R,children:e.jsx(C,{placeholder:"댓글을 입력해주세요",maxLength:50,style:{resize:"none",height:"27.73vw",padding:"20px"},value:t.reviewReply,onChange:r=>{y({...t,reviewReply:r.target.value})}})})}),e.jsxs("div",{className:"px-4 py-3 flex gap-3 justify-end",children:[e.jsx(v,{color:"primary",variant:"outlined",className:"text-xl font-semibold px-3 py-1 max-h-[50px] h-[16vw]",children:"취소"}),e.jsx(v,{type:"primary",className:"text-xl font-semibold px-3 py-1 max-h-[50px] h-[16vw]",onClick:N,children:"등록"})]})]})};export{Z as default};
