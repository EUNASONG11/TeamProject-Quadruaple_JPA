import{R as E,r as s,u as k,b as C,j as e,d as R}from"./index-CG8vYf2y.js";import"./TitleHeader-HJveUMRb.js";import{S as P}from"./SearchItems-DwmgUJS5.js";import{T as $}from"./api-B-eoqegl.js";import{L as V}from"./pic-Jp7D6aQ0.js";import{e as T}from"./EditTripAtom--1TVL_qI.js";import{S as B}from"./Skeleton-CQ8GiPWg.js";import"./index-CkZhrZUZ.js";import"./iconBase-BliIWTH0.js";import"./index-BK2APq6_.js";import"./index-zbYbnkux.js";import"./index-CWOPntzi.js";import"./index-DduuLXv4.js";import"./searchAtom-C3LxS7Az.js";import"./index-DmNkHtiY.js";import"./context-PnQlGr6A.js";import"./UnstableContext-Cxtoe_qF.js";import"./useSize-s7Cj9DSQ.js";import"./index-Bo0Apytk.js";import"./button-Qumjrz4E.js";import"./reactNode-Dx8pTwlk.js";import"./genStyleUtils-BNuyCX-p.js";import"./useMergedState-DU3z-VtB.js";import"./BaseInput-CpL4Y_YZ.js";import"./ContextIsolator-BLCcxi2B.js";import"./CloseCircleFilled-BQjJuuZg.js";import"./useCSSVarCls-DVyv07Mk.js";import"./pickAttrs-KpDTT5l5.js";import"./index-N7vMWSMs.js";import"./index-BSwssLiK.js";import"./match-D1Z4e6My.js";import"./index-DNP8OPt4.js";import"./index-DgAP2TMZ.js";import"./index-DipEv1TS.js";import"./KeyCode-DNlgD2sM.js";import"./index-DrSQ8jn4.js";import"./index-E9bkYm6o.js";import"./Portal-CztClCTi.js";import"./useId-D1G52zAA.js";import"./useZIndex-DHIAsWu5.js";import"./zoom-Dx8PYXKT.js";import"./Keyframes-DQFvTPSf.js";const wt=()=>{var f,h;const[i,g]=E(T);s.useEffect(()=>{console.log("편집 데이터",i)},[i]);const p=k(),a=C().state,n=a==null?void 0:a.from;a==null||a.tripLocationList;const L=()=>{n?n==="/schedule/index"?(p(n),g({...i,tripLocationList:o})):p(n,{state:o}):p("/schedule/days",{state:{selectedLocationId:o,title:o[0].title}})},[c,b]=s.useState(null),[o,x]=s.useState([]),[q,j]=s.useState(!1),[u,y]=s.useState(""),[N,S]=s.useState("");s.useState(!1),s.useEffect(()=>{console.log("selectedLocationId",o)},[o]);const m=s.useRef(null);s.useEffect(()=>{m.current&&console.log(m.current)},[]);const I=async()=>{try{const t=await R.get($.getLocationList);b(t.data)}catch(t){console.log("지역 목록 조회:",t)}};s.useEffect(()=>{I()},[]),s.useEffect(()=>{if(c&&(i!=null&&i.tripLocationList)){const t=c.data.locationList.filter(l=>i.tripLocationList.includes(l.locationId));x(t)}},[c,i==null?void 0:i.tripLocationList]);const d=c==null?void 0:c.data.locationList,r=d==null?void 0:d.filter(t=>t.title.includes(u)),v=t=>{o.some(l=>l.locationId===t.locationId)||x([...o,t])},w=t=>{x(o.filter(l=>l.locationId!==t.locationId))};return e.jsxs("div",{children:[e.jsx(P,{searchValue:u,setSearchValue:y,setSearchState:j,inputValue:N,setInputValue:S}),e.jsx("ul",{className:"flex flex-col gap-[20px] px-[32px] mb-[20px]",children:(r==null?void 0:r.length)>0?r==null?void 0:r.map(t=>e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-[30px] items-center",children:[e.jsx("div",{className:"w-[100px] h-[100px] rounded-2xl overflow-hidden",children:t.locationPic?e.jsx("img",{src:`${V}${t.locationPic}`,alt:t.title,ref:m,className:"w-full h-full object-cover"}):e.jsx(B.Image,{active:!1,style:{width:"100px",height:"100px"}})}),e.jsxs("div",{className:"flex flex-col gap-[16px]",children:[e.jsx("p",{className:"text-[24px] text-slate-700",children:t.title}),e.jsx("p",{className:"text-[18px] text-slate-500",children:"어디론가 떠나고 싶을 때"})]})]}),e.jsx("div",{className:"h-auto flex items-center justify-center ",children:o.filter(l=>l.locationId===t.locationId).length>0?e.jsx("button",{type:"button",className:"text-[16px] text-primary border border-primary3 rounded-2xl px-[15px] py-[5px]",onClick:()=>w(t),children:"취소"}):e.jsx("button",{type:"button",className:"text-[16px] text-slate-500 border border-slate-300 rounded-2xl px-[15px] py-[5px]",onClick:()=>v(t),children:"선택"})})]},t.locationId)):null}),e.jsx("div",{className:"w-full px-[32px] mb-[20px]",children:o.length>0?e.jsx("button",{type:"button",className:"w-full px-[20px] py-[15px] text-[20px] font-bold text-white bg-primary rounded-lg",onClick:L,children:o.length===1?`${(f=o[0])==null?void 0:f.title} 선택 완료`:`${(h=o[0])==null?void 0:h.title} 외 ${o.length-1}개 선택 완료`}):e.jsx("button",{type:"button",className:"w-full px-[20px] py-[15px] text-[20px] font-bold text-slate-400 bg-slate-50 rounded-lg",children:"도시 선택"})})]})};export{wt as default};
