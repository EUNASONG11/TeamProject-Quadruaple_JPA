import{u as $,M as k,r as m,j as e,a5 as f,a6 as I,a4 as P,b as S,B as w,a9 as B,c as E}from"./index-C93OXIGC.js";import{f as g,g as v}from"./index-C-xkmeiy.js";import{a as D}from"./index-BrsyDvBu.js";import{B as O}from"./BottomSheet-D7-uJt9r.js";import{m as R}from"./menuAtom-BtmLVM31.js";import{N as A}from"./NoData-Lz8MJjIA.js";import{d as L}from"./match-B1N-zgeZ.js";import{S as _}from"./index-BTIIt3Y0.js";import"./proxy-Dj3NXsV6.js";import"./index-Uy6wI8z0.js";import"./index-D85vvWje.js";import"./index-B1fvrkpU.js";import"./index-iL0ocLys.js";const q=({strfId:t,item:s,category:a})=>{const l=$(),x=()=>{l(`/business/menu/edit?strfId=${t}&category=${a}&menuId=${s.menuId}&what=menu`)},n=()=>{l(`/business/menu/edit?strfId=${t}&category=${a}&menuId=${s.menuId}&what=room`)},p=()=>{l(`/business/menu/detail?strfId=${t}&category=${a}&menuId=${s.menuId}`,{state:s})},[o,u]=k(R),[d,i]=m.useState(!1),[r,c]=m.useState(!1),b=()=>{console.log("삭제"),c(!1)},h=()=>{i(!d)},C=()=>{c(!1)},j=()=>{i(!1),c(!0)},N=()=>{u({...o,menuTitle:s.menuTitle,menuPrice:s.menuPrice,menuPic:{uid:"1",name:s.menuPic,status:"done",url:`${f}/${t}/menu/${s.menuPic}`}}),console.log("url",`${f}/${t}/menu/${s.menuPic}`),x()},y=()=>{n()},M=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(g,{className:"text-slate-300"}),"수정하기"]}),onClick:()=>N()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(v,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>j()}],T=[{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(g,{className:"text-slate-300"}),"객실/호실 등록하기"]}),onClick:()=>y()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(g,{className:"text-slate-300"}),"수정하기"]}),onClick:()=>N()},{label:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-[14px] text-lg text-slate-500",children:[e.jsx(v,{className:"text-slate-400"}),"삭제하기"]}),onClick:()=>j()}];return e.jsxs("div",{className:"flex items-center gap-2 py-3 select-none",children:[e.jsxs("section",{className:"flex items-center w-full cursor-pointer gap-5",onClick:p,children:[e.jsx("div",{className:"aspect-square w-[21.3vw] max-w-[162px] rounded-lg overflow-hidden bg-slate-200",children:e.jsx("img",{src:`${f}/${t}/menu/${s==null?void 0:s.menuPic}`,alt:s==null?void 0:s.menuTitle,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[e.jsx("p",{className:"text-xl font-semibold text-slate-700 text-left",children:s==null?void 0:s.menuTitle}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg text-slate-500 font-medium text-left",children:[s==null?void 0:s.menuPrice.toLocaleString(),"원"]}),e.jsx("p",{className:`${!s.recomCapacity&&a===I.STAY?"visible":"invisible"} text-slate-500`,children:"* 예약을 위해 객실을 등록해주세요."})]})]})]}),e.jsx("div",{children:e.jsx("button",{type:"button",onClick:h,children:e.jsx(D,{className:"text-3xl text-slate-500"})})}),d&&e.jsx(O,{open:d,onClose:h,actions:s.recomCapacity?M:T,title:"더보기"}),r&&e.jsx(P,{title:"객실 삭제",content:"해당 메뉴를 삭제하시겠습니까?",handleClickSubmit:b,handleClickCancle:C})]})},ee=()=>{const t=$(),s=()=>{t(`/business/menu/create?strfId=${l}&category=${x}`)},[a]=S(),l=Number(a.get("strfId")),x=a.get("category"),[n,p]=m.useState([]),[o,u]=m.useState(!1),d=async()=>{const i="/api/detail/menu";u(!0);try{const c=(await E.get(`${i}?strf_id=${l}`)).data;return c.data[0]!==null&&p(c.data),u(!1),c}catch(r){return console.log(r),u(!1),null}};return m.useEffect(()=>{d()},[]),e.jsxs("div",{className:"px-4 flex flex-col gap-3 pb-3",children:[e.jsx("section",{className:"flex justify-end",children:e.jsxs(w,{size:"large",onClick:s,className:"text-base font-semibold text-slate-500 px-4 flex items-center gap-3",children:[e.jsx(B,{}),"메뉴 추가"]})}),e.jsx("section",{children:e.jsxs(_,{spinning:o,children:[o&&e.jsx("div",{className:"h-96"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[!o&&n.length>0&&(n==null?void 0:n.map((i,r)=>e.jsx(q,{item:i,strfId:l,category:x},r))),!o&&n.length===0&&e.jsx(A,{icon:L(x),content:"등록된 메뉴가 없습니다"})]})]})})]})};export{ee as default};
