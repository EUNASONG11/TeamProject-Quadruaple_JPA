import{g as C,b,r as a,j as s,a4 as p,c as S,B as t}from"./index-C93OXIGC.js";import{d as l}from"./dayjs.min-P6fXZY3M.js";import{S as B}from"./index-BTIIt3Y0.js";const Y=()=>{const h=C("accessToken"),[r]=b(),i=r.get("bookingId"),f=r.get("state");console.log("예약 상세 조회 예약 번호",i);const[e,j]=a.useState(null),[N,c]=a.useState(!1),[u,o]=a.useState(!1),[g,n]=a.useState(!1),y=async()=>{const d="/api/business/my-page/booking/details";c(!0);try{const x=(await S.get(`${d}?bookingId=${i}`,{headers:{Authorization:`Bearer ${h}`}})).data;x&&j(x),c(!1),console.log("예약 상세 조회 결과",x)}catch(m){console.log("예약 상세 조회 에러",m),c(!1)}},v=d=>{switch(d){case"0":case"1":return s.jsxs(s.Fragment,{children:[s.jsx(t,{color:"primary",variant:"filled",className:"w-full h-auto py-3 rounded-lg text-base font-semibold text-primary3 ",onClick:()=>n(!0),children:"예약 취소"}),s.jsx(t,{type:"primary",className:"w-full h-auto py-3 rounded-lg text-base font-semibold ",onClick:()=>o(!0),children:"예약 승인"})]});case"2":return s.jsx(s.Fragment,{children:s.jsx(t,{className:"w-full h-auto py-3 rounded-lg text-base font-semibold bg-primary2 text-slate-700",onClick:()=>n(!0),children:"예약 취소"})});case"3":return s.jsx(s.Fragment,{children:s.jsx(t,{className:"w-full h-auto py-3 rounded-lg text-base font-semibold text-slate-700",disabled:!0,children:"예약 취소 완료"})})}};return a.useEffect(()=>{y()},[]),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs(B,{spinning:N,children:[s.jsxs("section",{className:"flex flex-col gap-3 px-4 py-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-600",children:"예약 내용"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"객실"}),s.jsxs("p",{className:"col-span-3 text-slate-500 text-base",children:[e==null?void 0:e.menuTitle," / ",e==null?void 0:e.roomNum,"호"]})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"예약일자"}),s.jsxs("p",{className:"col-span-3 text-slate-500 text-base",children:[l(e==null?void 0:e.checkIn).format("YYYY.MM.DD")," ~"," ",l(e==null?void 0:e.checkOut).format("YYYY.MM.DD"),"(",l(e==null?void 0:e.checkOut).diff(l(e==null?void 0:e.checkIn),"day"),"박"," ",l(e==null?void 0:e.checkOut).diff(l(e==null?void 0:e.checkIn),"day")+1,"일)"]})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"인원수"}),s.jsxs("p",{className:"col-span-3 text-slate-500 text-base",children:[e==null?void 0:e.recomCapacity,"명"]})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"추가인원"}),s.jsxs("p",{className:"col-span-3 text-slate-500 text-base",children:[e==null?void 0:e.extraPersonCount,"명"]})]})]})]}),s.jsx("div",{className:"h-[10px] bg-slate-100"}),s.jsxs("section",{className:"flex flex-col gap-3 px-4 py-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-600",children:"예약자 정보"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"예약자명"}),s.jsx("p",{className:"col-span-3 text-slate-500 text-base",children:e==null?void 0:e.name})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"연락처"}),s.jsx("p",{className:"col-span-3 text-slate-500 text-base",children:e==null?void 0:e.tell})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"이메일"}),s.jsx("p",{className:"col-span-3 text-slate-500 text-base",children:e==null?void 0:e.email})]})]})]}),s.jsx("div",{className:"h-[10px] bg-slate-100"}),s.jsxs("section",{className:"flex flex-col gap-3 px-4 py-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-600",children:"결제 정보"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"추가금액"}),s.jsxs("p",{className:"col-span-3 text-slate-500 text-base",children:[e==null?void 0:e.extraFee.toLocaleString(),"원"]})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"결제 예정 금액"}),s.jsxs("p",{className:"col-span-3 text-slate-500 text-base",children:[e==null?void 0:e.finalPayment.toLocaleString(),"원"]})]}),s.jsxs("div",{className:"grid grid-cols-4",children:[s.jsx("p",{className:"col-span-1 text-slate-600 text-lg font-semibold",children:"사용 쿠폰"}),s.jsx("p",{className:"col-span-3 text-slate-500 text-base",children:e==null?void 0:e.couponTitle})]})]})]})]}),s.jsx("div",{className:"h-[10px] bg-slate-100"}),s.jsx("section",{className:"flex gap-3",children:v(f)}),u&&s.jsx(p,{title:"예약 승인",content:"해당 예약을 승인하시겠습니까?",handleClickSubmit:()=>{},handleClickCancle:()=>o(!1)}),g&&s.jsx(p,{title:"예약 취소",content:"해당 예약을 취소하시겠습니까?",handleClickSubmit:()=>{},handleClickCancle:()=>n(!1)})]})};export{Y as default};
