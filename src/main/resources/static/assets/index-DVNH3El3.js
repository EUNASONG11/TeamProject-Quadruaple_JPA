import{r as i,ag as nr,bd as Cn,ak as wn,l as H,J as he,b6 as bn,ax as Sn,_ as U,ba as Dn,bm as Nn,bb as Ln,bn as kn,b7 as Ie,bo as un,bp as Tn,ah as vn,bq as ln,ai as Wn}from"./index-CXgPt5JN.js";import{P as Pn}from"./Portal-DyoJ0XAQ.js";import{u as zn}from"./useId-CFvmNKkm.js";import{i as Hn}from"./isMobile-B4CO7CVJ.js";function $n(e){var a=e.prefixCls,r=e.align,t=e.arrow,u=e.arrowPos,l=t||{},v=l.className,d=l.content,m=u.x,g=m===void 0?0:m,$=u.y,h=$===void 0?0:$,b=i.useRef();if(!r||!r.points)return null;var s={position:"absolute"};if(r.autoArrow!==!1){var S=r.points[0],W=r.points[1],L=S[0],D=S[1],B=W[0],k=W[1];L===B||!["t","b"].includes(L)?s.top=h:L==="t"?s.top=0:s.bottom=0,D===k||!["l","r"].includes(D)?s.left=g:D==="l"?s.left=0:s.right=0}return i.createElement("div",{ref:b,className:nr("".concat(a,"-arrow"),v),style:s},d)}function Bn(e){var a=e.prefixCls,r=e.open,t=e.zIndex,u=e.mask,l=e.motion;return u?i.createElement(Cn,wn({},l,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(v){var d=v.className;return i.createElement("div",{style:{zIndex:t},className:nr("".concat(a,"-mask"),d)})}):null}var En=i.memo(function(e){var a=e.children;return a},function(e,a){return a.cache}),Fn=i.forwardRef(function(e,a){var r=e.popup,t=e.className,u=e.prefixCls,l=e.style,v=e.target,d=e.onVisibleChanged,m=e.open,g=e.keepDom,$=e.fresh,h=e.onClick,b=e.mask,s=e.arrow,S=e.arrowPos,W=e.align,L=e.motion,D=e.maskMotion,B=e.forceRender,k=e.getPopupContainer,q=e.autoDestroy,J=e.portal,f=e.zIndex,Se=e.onMouseEnter,De=e.onMouseLeave,me=e.onPointerEnter,Ne=e.onPointerDownCapture,Fe=e.ready,ge=e.offsetX,ye=e.offsetY,oe=e.offsetR,Me=e.offsetB,G=e.onAlign,Ce=e.onPrepare,E=e.stretch,x=e.targetWidth,c=e.targetHeight,xe=typeof r=="function"?r():r,ee=m||g,F=(k==null?void 0:k.length)>0,y=i.useState(!k||!F),K=H(y,2),Ae=K[0],ar=K[1];if(he(function(){!Ae&&F&&v&&ar(!0)},[Ae,F,v]),!Ae)return null;var ue="auto",Q={left:"-1000vw",top:"-1000vh",right:ue,bottom:ue};if(Fe||!m){var Le,Ve=W.points,I=W.dynamicInset||((Le=W._experimental)===null||Le===void 0?void 0:Le.dynamicInset),le=I&&Ve[0][1]==="r",re=I&&Ve[0][0]==="b";le?(Q.right=oe,Q.left=ue):(Q.left=ge,Q.right=ue),re?(Q.bottom=Me,Q.top=ue):(Q.top=ye,Q.bottom=ue)}var j={};return E&&(E.includes("height")&&c?j.height=c:E.includes("minHeight")&&c&&(j.minHeight=c),E.includes("width")&&x?j.width=x:E.includes("minWidth")&&x&&(j.minWidth=x)),m||(j.pointerEvents="none"),i.createElement(J,{open:B||ee,getContainer:k&&function(){return k(v)},autoDestroy:q},i.createElement(Bn,{prefixCls:u,open:m,zIndex:f,mask:b,motion:D}),i.createElement(bn,{onResize:G,disabled:!m},function(tr){return i.createElement(Cn,wn({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:B,leavedClassName:"".concat(u,"-hidden")},L,{onAppearPrepare:Ce,onEnterPrepare:Ce,visible:m,onVisibleChanged:function(_){var se;L==null||(se=L.onVisibleChanged)===null||se===void 0||se.call(L,_),d(_)}}),function(ke,_){var se=ke.className,Re=ke.style,A=nr(u,se,t);return i.createElement("div",{ref:Sn(tr,a,_),className:A,style:U(U(U(U({"--arrow-x":"".concat(S.x||0,"px"),"--arrow-y":"".concat(S.y||0,"px")},Q),j),Re),{},{boxSizing:"border-box",zIndex:f},l),onMouseEnter:Se,onMouseLeave:De,onPointerEnter:me,onClick:h,onPointerDownCapture:Ne},s&&i.createElement($n,{prefixCls:u,arrow:s,arrowPos:S,align:W}),i.createElement(En,{cache:!m&&!$},xe))})}))}),xn=i.forwardRef(function(e,a){var r=e.children,t=e.getTriggerDOMNode,u=Dn(r),l=i.useCallback(function(d){Nn(a,t?t(d):d)},[t]),v=Ln(l,kn(r));return u?i.cloneElement(r,{ref:v}):r}),dn=i.createContext(null);function cn(e){return e?Array.isArray(e)?e:[e]:[]}function An(e,a,r,t){return i.useMemo(function(){var u=cn(r??a),l=cn(t??a),v=new Set(u),d=new Set(l);return e&&(v.has("hover")&&(v.delete("hover"),v.add("click")),d.has("hover")&&(d.delete("hover"),d.add("click"))),[v,d]},[e,a,r,t])}function Vn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?e[0]===a[0]:e[0]===a[0]&&e[1]===a[1]}function Rn(e,a,r,t){for(var u=r.points,l=Object.keys(e),v=0;v<l.length;v+=1){var d,m=l[v];if(Vn((d=e[m])===null||d===void 0?void 0:d.points,u,t))return"".concat(a,"-placement-").concat(m)}return""}function hn(e,a,r,t){return a||(r?{motionName:"".concat(e,"-").concat(r)}:t?{motionName:t}:null)}function mr(e){return e.ownerDocument.defaultView}function sn(e){for(var a=[],r=e==null?void 0:e.parentElement,t=["hidden","scroll","clip","auto"];r;){var u=mr(r).getComputedStyle(r),l=u.overflowX,v=u.overflowY,d=u.overflow;[l,v,d].some(function(m){return t.includes(m)})&&a.push(r),r=r.parentElement}return a}function hr(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?a:e}function cr(e){return hr(parseFloat(e),0)}function mn(e,a){var r=U({},e);return(a||[]).forEach(function(t){if(!(t instanceof HTMLBodyElement||t instanceof HTMLHtmlElement)){var u=mr(t).getComputedStyle(t),l=u.overflow,v=u.overflowClipMargin,d=u.borderTopWidth,m=u.borderBottomWidth,g=u.borderLeftWidth,$=u.borderRightWidth,h=t.getBoundingClientRect(),b=t.offsetHeight,s=t.clientHeight,S=t.offsetWidth,W=t.clientWidth,L=cr(d),D=cr(m),B=cr(g),k=cr($),q=hr(Math.round(h.width/S*1e3)/1e3),J=hr(Math.round(h.height/b*1e3)/1e3),f=(S-W-B-k)*q,Se=(b-s-L-D)*J,De=L*J,me=D*J,Ne=B*q,Fe=k*q,ge=0,ye=0;if(l==="clip"){var oe=cr(v);ge=oe*q,ye=oe*J}var Me=h.x+Ne-ge,G=h.y+De-ye,Ce=Me+h.width+2*ge-Ne-Fe-f,E=G+h.height+2*ye-De-me-Se;r.left=Math.max(r.left,Me),r.top=Math.max(r.top,G),r.right=Math.min(r.right,Ce),r.bottom=Math.min(r.bottom,E)}}),r}function gn(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(a),t=r.match(/^(.*)\%$/);return t?e*(parseFloat(t[1])/100):parseFloat(r)}function yn(e,a){var r=a||[],t=H(r,2),u=t[0],l=t[1];return[gn(e.width,u),gn(e.height,l)]}function Mn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function rr(e,a){var r=a[0],t=a[1],u,l;return r==="t"?l=e.y:r==="b"?l=e.y+e.height:l=e.y+e.height/2,t==="l"?u=e.x:t==="r"?u=e.x+e.width:u=e.x+e.width/2,{x:u,y:l}}function Ee(e,a){var r={t:"b",b:"t",l:"r",r:"l"};return e.map(function(t,u){return u===a?r[t]||"c":t}).join("")}function Un(e,a,r,t,u,l,v){var d=i.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:u[t]||{}}),m=H(d,2),g=m[0],$=m[1],h=i.useRef(0),b=i.useMemo(function(){return a?sn(a):[]},[a]),s=i.useRef({}),S=function(){s.current={}};e||S();var W=Ie(function(){if(a&&r&&e){let p=function(er,$e){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:gr,dr=y.x+er,Br=y.y+$e,nn=dr+le,an=Br+I,tn=Math.max(dr,Be.left),n=Math.max(Br,Be.top),o=Math.min(nn,Be.right),P=Math.min(an,Be.bottom);return Math.max(0,(o-tn)*(P-n))},$r=function(){Je=y.y+w,Ge=Je+I,be=y.x+M,Xe=be+le};var B,k,q,J,f=a,Se=f.ownerDocument,De=mr(f),me=De.getComputedStyle(f),Ne=me.width,Fe=me.height,ge=me.position,ye=f.style.left,oe=f.style.top,Me=f.style.right,G=f.style.bottom,Ce=f.style.overflow,E=U(U({},u[t]),l),x=Se.createElement("div");(B=f.parentElement)===null||B===void 0||B.appendChild(x),x.style.left="".concat(f.offsetLeft,"px"),x.style.top="".concat(f.offsetTop,"px"),x.style.position=ge,x.style.height="".concat(f.offsetHeight,"px"),x.style.width="".concat(f.offsetWidth,"px"),f.style.left="0",f.style.top="0",f.style.right="auto",f.style.bottom="auto",f.style.overflow="hidden";var c;if(Array.isArray(r))c={x:r[0],y:r[1],width:0,height:0};else{var xe,ee,F=r.getBoundingClientRect();F.x=(xe=F.x)!==null&&xe!==void 0?xe:F.left,F.y=(ee=F.y)!==null&&ee!==void 0?ee:F.top,c={x:F.x,y:F.y,width:F.width,height:F.height}}var y=f.getBoundingClientRect();y.x=(k=y.x)!==null&&k!==void 0?k:y.left,y.y=(q=y.y)!==null&&q!==void 0?q:y.top;var K=Se.documentElement,Ae=K.clientWidth,ar=K.clientHeight,ue=K.scrollWidth,Q=K.scrollHeight,Le=K.scrollTop,Ve=K.scrollLeft,I=y.height,le=y.width,re=c.height,j=c.width,tr={left:0,top:0,right:Ae,bottom:ar},ke={left:-Ve,top:-Le,right:ue-Ve,bottom:Q-Le},_=E.htmlRegion,se="visible",Re="visibleFirst";_!=="scroll"&&_!==Re&&(_=se);var A=_===Re,xr=mn(ke,b),C=mn(tr,b),gr=_===se?C:xr,Ue=A?C:gr;f.style.left="auto",f.style.top="auto",f.style.right="0",f.style.bottom="0";var V=f.getBoundingClientRect();f.style.left=ye,f.style.top=oe,f.style.right=Me,f.style.bottom=G,f.style.overflow=Ce,(J=f.parentElement)===null||J===void 0||J.removeChild(x);var Te=hr(Math.round(le/parseFloat(Ne)*1e3)/1e3),we=hr(Math.round(I/parseFloat(Fe)*1e3)/1e3);if(Te===0||we===0||un(r)&&!Tn(r))return;var Ar=E.offset,Vr=E.targetOffset,yr=yn(y,Ar),ne=H(yr,2),ae=ne[0],X=ne[1],Rr=yn(c,Vr),je=H(Rr,2),Y=je[0],We=je[1];c.x-=Y,c.y-=We;var Ur=E.points||[],Mr=H(Ur,2),jr=Mr[0],qr=Mr[1],fe=Mn(qr),Z=Mn(jr),ir=rr(c,fe),R=rr(y,Z),ze=U({},E),M=ir.x-R.x+ae,w=ir.y-R.y+X,te=p(M,w),qe=p(M,w,C),or=rr(c,["t","l"]),O=rr(y,["t","l"]),Cr=rr(c,["b","r"]),ur=rr(y,["b","r"]),He=E.overflow||{},wr=He.adjustX,Jr=He.adjustY,lr=He.shiftX,_e=He.shiftY,sr=function($e){return typeof $e=="boolean"?$e:$e>=0},Je,Ge,be,Xe;$r();var Ke=sr(Jr),br=Z[0]===fe[0];if(Ke&&Z[0]==="t"&&(Ge>Ue.bottom||s.current.bt)){var z=w;br?z-=I-re:z=or.y-ur.y-X;var Pr=p(M,z),Gr=p(M,z,C);Pr>te||Pr===te&&(!A||Gr>=qe)?(s.current.bt=!0,w=z,X=-X,ze.points=[Ee(Z,0),Ee(fe,0)]):s.current.bt=!1}if(Ke&&Z[0]==="b"&&(Je<Ue.top||s.current.tb)){var Qe=w;br?Qe+=I-re:Qe=Cr.y-O.y-X;var Sr=p(M,Qe),Kr=p(M,Qe,C);Sr>te||Sr===te&&(!A||Kr>=qe)?(s.current.tb=!0,w=Qe,X=-X,ze.points=[Ee(Z,0),Ee(fe,0)]):s.current.tb=!1}var Dr=sr(wr),Nr=Z[1]===fe[1];if(Dr&&Z[1]==="l"&&(Xe>Ue.right||s.current.rl)){var Ze=M;Nr?Ze-=le-j:Ze=or.x-ur.x-ae;var Lr=p(Ze,w),Ye=p(Ze,w,C);Lr>te||Lr===te&&(!A||Ye>=qe)?(s.current.rl=!0,M=Ze,ae=-ae,ze.points=[Ee(Z,1),Ee(fe,1)]):s.current.rl=!1}if(Dr&&Z[1]==="r"&&(be<Ue.left||s.current.lr)){var Pe=M;Nr?Pe+=le-j:Pe=Cr.x-O.x-ae;var kr=p(Pe,w),Tr=p(Pe,w,C);kr>te||kr===te&&(!A||Tr>=qe)?(s.current.lr=!0,M=Pe,ae=-ae,ze.points=[Ee(Z,1),Ee(fe,1)]):s.current.lr=!1}$r();var ve=lr===!0?0:lr;typeof ve=="number"&&(be<C.left&&(M-=be-C.left-ae,c.x+j<C.left+ve&&(M+=c.x-C.left+j-ve)),Xe>C.right&&(M-=Xe-C.right-ae,c.x>C.right-ve&&(M+=c.x-C.right+ve)));var ie=_e===!0?0:_e;typeof ie=="number"&&(Je<C.top&&(w-=Je-C.top-X,c.y+re<C.top+ie&&(w+=c.y-C.top+re-ie)),Ge>C.bottom&&(w-=Ge-C.bottom-X,c.y>C.bottom-ie&&(w+=c.y-C.bottom+ie)));var Oe=y.x+M,pe=Oe+le,de=y.y+w,Qr=de+I,Wr=c.x,Zr=Wr+j,fr=c.y,Ir=fr+re,_r=Math.max(Oe,Wr),Xr=Math.min(pe,Zr),zr=(_r+Xr)/2,Yr=zr-Oe,Or=Math.max(de,fr),Hr=Math.min(Qr,Ir),pr=(Or+Hr)/2,en=pr-de;v==null||v(a,ze);var vr=V.right-y.x-(M+y.width),ce=V.bottom-y.y-(w+y.height);Te===1&&(M=Math.round(M),vr=Math.round(vr)),we===1&&(w=Math.round(w),ce=Math.round(ce));var rn={ready:!0,offsetX:M/Te,offsetY:w/we,offsetR:vr/Te,offsetB:ce/we,arrowX:Yr/Te,arrowY:en/we,scaleX:Te,scaleY:we,align:ze};$(rn)}}),L=function(){h.current+=1;var k=h.current;Promise.resolve().then(function(){h.current===k&&W()})},D=function(){$(function(k){return U(U({},k),{},{ready:!1})})};return he(D,[t]),he(function(){e||D()},[e]),[g.ready,g.offsetX,g.offsetY,g.offsetR,g.offsetB,g.arrowX,g.arrowY,g.scaleX,g.scaleY,g.align,L]}function jn(e,a,r,t,u){he(function(){if(e&&a&&r){let h=function(){t(),u()};var l=a,v=r,d=sn(l),m=sn(v),g=mr(v),$=new Set([g].concat(vn(d),vn(m)));return $.forEach(function(b){b.addEventListener("scroll",h,{passive:!0})}),g.addEventListener("resize",h,{passive:!0}),t(),function(){$.forEach(function(b){b.removeEventListener("scroll",h),g.removeEventListener("resize",h)})}}},[e,a,r])}function qn(e,a,r,t,u,l,v,d){var m=i.useRef(e);m.current=e;var g=i.useRef(!1);i.useEffect(function(){if(a&&t&&(!u||l)){var h=function(){g.current=!1},b=function(L){var D;m.current&&!v(((D=L.composedPath)===null||D===void 0||(D=D.call(L))===null||D===void 0?void 0:D[0])||L.target)&&!g.current&&d(!1)},s=mr(t);s.addEventListener("pointerdown",h,!0),s.addEventListener("mousedown",b,!0),s.addEventListener("contextmenu",b,!0);var S=ln(r);return S&&(S.addEventListener("mousedown",b,!0),S.addEventListener("contextmenu",b,!0)),function(){s.removeEventListener("pointerdown",h,!0),s.removeEventListener("mousedown",b,!0),s.removeEventListener("contextmenu",b,!0),S&&(S.removeEventListener("mousedown",b,!0),S.removeEventListener("contextmenu",b,!0))}}},[a,r,t,u,l]);function $(){g.current=!0}return $}var Jn=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Gn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pn,a=i.forwardRef(function(r,t){var u=r.prefixCls,l=u===void 0?"rc-trigger-popup":u,v=r.children,d=r.action,m=d===void 0?"hover":d,g=r.showAction,$=r.hideAction,h=r.popupVisible,b=r.defaultPopupVisible,s=r.onPopupVisibleChange,S=r.afterPopupVisibleChange,W=r.mouseEnterDelay,L=r.mouseLeaveDelay,D=L===void 0?.1:L,B=r.focusDelay,k=r.blurDelay,q=r.mask,J=r.maskClosable,f=J===void 0?!0:J,Se=r.getPopupContainer,De=r.forceRender,me=r.autoDestroy,Ne=r.destroyPopupOnHide,Fe=r.popup,ge=r.popupClassName,ye=r.popupStyle,oe=r.popupPlacement,Me=r.builtinPlacements,G=Me===void 0?{}:Me,Ce=r.popupAlign,E=r.zIndex,x=r.stretch,c=r.getPopupClassNameFromAlign,xe=r.fresh,ee=r.alignPoint,F=r.onPopupClick,y=r.onPopupAlign,K=r.arrow,Ae=r.popupMotion,ar=r.maskMotion,ue=r.popupTransitionName,Q=r.popupAnimation,Le=r.maskTransitionName,Ve=r.maskAnimation,I=r.className,le=r.getTriggerDOMNode,re=Wn(r,Jn),j=me||Ne||!1,tr=i.useState(!1),ke=H(tr,2),_=ke[0],se=ke[1];he(function(){se(Hn())},[]);var Re=i.useRef({}),A=i.useContext(dn),xr=i.useMemo(function(){return{registerSubPopup:function(o,P){Re.current[o]=P,A==null||A.registerSubPopup(o,P)}}},[A]),C=zn(),gr=i.useState(null),Ue=H(gr,2),V=Ue[0],Te=Ue[1],we=i.useRef(null),Ar=Ie(function(n){we.current=n,un(n)&&V!==n&&Te(n),A==null||A.registerSubPopup(C,n)}),Vr=i.useState(null),yr=H(Vr,2),ne=yr[0],ae=yr[1],X=i.useRef(null),Rr=Ie(function(n){un(n)&&ne!==n&&(ae(n),X.current=n)}),je=i.Children.only(v),Y=(je==null?void 0:je.props)||{},We={},Ur=Ie(function(n){var o,P,T=ne;return(T==null?void 0:T.contains(n))||((o=ln(T))===null||o===void 0?void 0:o.host)===n||n===T||(V==null?void 0:V.contains(n))||((P=ln(V))===null||P===void 0?void 0:P.host)===n||n===V||Object.values(Re.current).some(function(N){return(N==null?void 0:N.contains(n))||n===N})}),Mr=hn(l,Ae,Q,ue),jr=hn(l,ar,Ve,Le),qr=i.useState(b||!1),fe=H(qr,2),Z=fe[0],ir=fe[1],R=h??Z,ze=Ie(function(n){h===void 0&&ir(n)});he(function(){ir(h||!1)},[h]);var M=i.useRef(R);M.current=R;var w=i.useRef([]);w.current=[];var te=Ie(function(n){var o;ze(n),((o=w.current[w.current.length-1])!==null&&o!==void 0?o:R)!==n&&(w.current.push(n),s==null||s(n))}),qe=i.useRef(),or=function(){clearTimeout(qe.current)},O=function(o){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;or(),P===0?te(o):qe.current=setTimeout(function(){te(o)},P*1e3)};i.useEffect(function(){return or},[]);var Cr=i.useState(!1),ur=H(Cr,2),He=ur[0],wr=ur[1];he(function(n){(!n||R)&&wr(!0)},[R]);var Jr=i.useState(null),lr=H(Jr,2),_e=lr[0],sr=lr[1],Je=i.useState(null),Ge=H(Je,2),be=Ge[0],Xe=Ge[1],Ke=function(o){Xe([o.clientX,o.clientY])},br=Un(R,V,ee&&be!==null?be:ne,oe,G,Ce,y),z=H(br,11),Pr=z[0],Gr=z[1],Qe=z[2],Sr=z[3],Kr=z[4],Dr=z[5],Nr=z[6],Ze=z[7],Lr=z[8],Ye=z[9],Pe=z[10],kr=An(_,m,g,$),Tr=H(kr,2),ve=Tr[0],ie=Tr[1],Oe=ve.has("click"),pe=ie.has("click")||ie.has("contextMenu"),de=Ie(function(){He||Pe()}),Qr=function(){M.current&&ee&&pe&&O(!1)};jn(R,ne,V,de,Qr),he(function(){de()},[be,oe]),he(function(){R&&!(G!=null&&G[oe])&&de()},[JSON.stringify(Ce)]);var Wr=i.useMemo(function(){var n=Rn(G,l,Ye,ee);return nr(n,c==null?void 0:c(Ye))},[Ye,c,G,l,ee]);i.useImperativeHandle(t,function(){return{nativeElement:X.current,popupElement:we.current,forceAlign:de}});var Zr=i.useState(0),fr=H(Zr,2),Ir=fr[0],_r=fr[1],Xr=i.useState(0),zr=H(Xr,2),Yr=zr[0],Or=zr[1],Hr=function(){if(x&&ne){var o=ne.getBoundingClientRect();_r(o.width),Or(o.height)}},pr=function(){Hr(),de()},en=function(o){wr(!1),Pe(),S==null||S(o)},vr=function(){return new Promise(function(o){Hr(),sr(function(){return o})})};he(function(){_e&&(Pe(),_e(),sr(null))},[_e]);function ce(n,o,P,T){We[n]=function(N){var Er;T==null||T(N),O(o,P);for(var on=arguments.length,fn=new Array(on>1?on-1:0),Fr=1;Fr<on;Fr++)fn[Fr-1]=arguments[Fr];(Er=Y[n])===null||Er===void 0||Er.call.apply(Er,[Y,N].concat(fn))}}(Oe||pe)&&(We.onClick=function(n){var o;M.current&&pe?O(!1):!M.current&&Oe&&(Ke(n),O(!0));for(var P=arguments.length,T=new Array(P>1?P-1:0),N=1;N<P;N++)T[N-1]=arguments[N];(o=Y.onClick)===null||o===void 0||o.call.apply(o,[Y,n].concat(T))});var rn=qn(R,pe,ne,V,q,f,Ur,O),p=ve.has("hover"),$r=ie.has("hover"),er,$e;p&&(ce("onMouseEnter",!0,W,function(n){Ke(n)}),ce("onPointerEnter",!0,W,function(n){Ke(n)}),er=function(o){(R||He)&&V!==null&&V!==void 0&&V.contains(o.target)&&O(!0,W)},ee&&(We.onMouseMove=function(n){var o;(o=Y.onMouseMove)===null||o===void 0||o.call(Y,n)})),$r&&(ce("onMouseLeave",!1,D),ce("onPointerLeave",!1,D),$e=function(){O(!1,D)}),ve.has("focus")&&ce("onFocus",!0,B),ie.has("focus")&&ce("onBlur",!1,k),ve.has("contextMenu")&&(We.onContextMenu=function(n){var o;M.current&&ie.has("contextMenu")?O(!1):(Ke(n),O(!0)),n.preventDefault();for(var P=arguments.length,T=new Array(P>1?P-1:0),N=1;N<P;N++)T[N-1]=arguments[N];(o=Y.onContextMenu)===null||o===void 0||o.call.apply(o,[Y,n].concat(T))}),I&&(We.className=nr(Y.className,I));var Be=U(U({},Y),We),dr={},Br=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Br.forEach(function(n){re[n]&&(dr[n]=function(){for(var o,P=arguments.length,T=new Array(P),N=0;N<P;N++)T[N]=arguments[N];(o=Be[n])===null||o===void 0||o.call.apply(o,[Be].concat(T)),re[n].apply(re,T)})});var nn=i.cloneElement(je,U(U({},Be),dr)),an={x:Dr,y:Nr},tn=K?U({},K!==!0?K:{}):null;return i.createElement(i.Fragment,null,i.createElement(bn,{disabled:!R,ref:Rr,onResize:pr},i.createElement(xn,{getTriggerDOMNode:le},nn)),i.createElement(dn.Provider,{value:xr},i.createElement(Fn,{portal:e,ref:Ar,prefixCls:l,popup:Fe,className:nr(ge,Wr),style:ye,target:ne,onMouseEnter:er,onMouseLeave:$e,onPointerEnter:er,zIndex:E,open:R,keepDom:He,fresh:xe,onClick:F,onPointerDownCapture:rn,mask:q,motion:Mr,maskMotion:jr,onVisibleChanged:en,onPrepare:vr,forceRender:De,autoDestroy:j,getPopupContainer:Se,align:Ye,arrow:tn,arrowPos:an,ready:Pr,offsetX:Gr,offsetY:Qe,offsetR:Sr,offsetB:Kr,onAlign:de,stretch:x,targetWidth:Ir/Ze,targetHeight:Yr/Lr})))});return a}const _n=Gn(Pn);export{_n as T};
