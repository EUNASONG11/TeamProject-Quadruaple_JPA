import{r as u,au as hn,aw as kt,as as Re,av as De,_ as he,bf as le,o as be,bt as On,J as jn,bs as dt,at as Be,by as $n,E as Tn,cH as An,bC as Zt,aJ as zn,ax as it,x as Fn,y as In,aF as Bn,q as xe,bU as Xt,w as je,F as Ln,aI as Hn,aM as Wn,j as R,B as pt,c as pn,a as mn,u as gn,g as mt,Q as qn,X as Un,ah as Zn,I as vn,ai as Gt,e as gt,N as Je}from"./index-BntdmLw6.js";import{M as Xn}from"./index-CRM9PfNC.js";import{U as bn}from"./index-Ic51ErGl.js";import{T as Gn}from"./index-BwdDw7dk.js";import{u as yn,F as _e}from"./index-8ukATiw3.js";import{f as Yn}from"./index-DlpCU_wW.js";import{m as Yt}from"./menuAtom-CnA-t2cj.js";import{m as Me,e as Vn,c as Vt}from"./match-QPO8WXvd.js";import{S as Cn}from"./index-xetdIjy9.js";import{T as ft}from"./index-C9npNYaW.js";function Ot(t,r,e){return(t-r)/(e-r)}function $t(t,r,e,n){var a=Ot(r,e,n),o={};switch(t){case"rtl":o.right="".concat(a*100,"%"),o.transform="translateX(50%)";break;case"btt":o.bottom="".concat(a*100,"%"),o.transform="translateY(50%)";break;case"ttb":o.top="".concat(a*100,"%"),o.transform="translateY(-50%)";break;default:o.left="".concat(a*100,"%"),o.transform="translateX(-50%)";break}return o}function Xe(t,r){return Array.isArray(t)?t[r]:t}var Ge=u.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Kn=u.createContext({}),Jn=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Kt=u.forwardRef(function(t,r){var e=t.prefixCls,n=t.value,a=t.valueIndex,o=t.onStartMove,i=t.onDelete,s=t.style,f=t.render,l=t.dragging,c=t.draggingDelete,p=t.onOffsetChange,w=t.onChangeComplete,m=t.onFocus,b=t.onMouseEnter,g=hn(t,Jn),d=u.useContext(Ge),C=d.min,h=d.max,y=d.direction,x=d.disabled,P=d.keyboard,D=d.range,z=d.tabIndex,I=d.ariaLabelForHandle,_=d.ariaLabelledByForHandle,v=d.ariaRequired,S=d.ariaValueTextFormatterForHandle,M=d.styles,$=d.classNames,E="".concat(e,"-handle"),O=function(W){x||o(W,a)},V=function(W){m==null||m(W,a)},Z=function(W){b(W,a)},pe=function(W){if(!x&&P){var A=null;switch(W.which||W.keyCode){case le.LEFT:A=y==="ltr"||y==="btt"?-1:1;break;case le.RIGHT:A=y==="ltr"||y==="btt"?1:-1;break;case le.UP:A=y!=="ttb"?1:-1;break;case le.DOWN:A=y!=="ttb"?-1:1;break;case le.HOME:A="min";break;case le.END:A="max";break;case le.PAGE_UP:A=2;break;case le.PAGE_DOWN:A=-2;break;case le.BACKSPACE:case le.DELETE:i(a);break}A!==null&&(W.preventDefault(),p(A,a))}},ge=function(W){switch(W.which||W.keyCode){case le.LEFT:case le.RIGHT:case le.UP:case le.DOWN:case le.HOME:case le.END:case le.PAGE_UP:case le.PAGE_DOWN:w==null||w();break}},Ee=$t(y,n,C,h),Pe={};if(a!==null){var ye;Pe={tabIndex:x?null:Xe(z,a),role:"slider","aria-valuemin":C,"aria-valuemax":h,"aria-valuenow":n,"aria-disabled":x,"aria-label":Xe(I,a),"aria-labelledby":Xe(_,a),"aria-required":Xe(v,a),"aria-valuetext":(ye=Xe(S,a))===null||ye===void 0?void 0:ye(n),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:O,onTouchStart:O,onFocus:V,onMouseEnter:Z,onKeyDown:pe,onKeyUp:ge}}var Ne=u.createElement("div",kt({ref:r,className:Re(E,De(De(De({},"".concat(E,"-").concat(a+1),a!==null&&D),"".concat(E,"-dragging"),l),"".concat(E,"-dragging-delete"),c),$.handle),style:he(he(he({},Ee),s),M.handle)},Pe,g));return f&&(Ne=f(Ne,{index:a,prefixCls:e,value:n,dragging:l,draggingDelete:c})),Ne}),Qn=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],er=u.forwardRef(function(t,r){var e=t.prefixCls,n=t.style,a=t.onStartMove,o=t.onOffsetChange,i=t.values,s=t.handleRender,f=t.activeHandleRender,l=t.draggingIndex,c=t.draggingDelete,p=t.onFocus,w=hn(t,Qn),m=u.useRef({}),b=u.useState(!1),g=be(b,2),d=g[0],C=g[1],h=u.useState(-1),y=be(h,2),x=y[0],P=y[1],D=function(S){P(S),C(!0)},z=function(S,M){D(M),p==null||p(S)},I=function(S,M){D(M)};u.useImperativeHandle(r,function(){return{focus:function(S){var M;(M=m.current[S])===null||M===void 0||M.focus()},hideHelp:function(){On.flushSync(function(){C(!1)})}}});var _=he({prefixCls:e,onStartMove:a,onOffsetChange:o,render:s,onFocus:z,onMouseEnter:I},w);return u.createElement(u.Fragment,null,i.map(function(v,S){var M=l===S;return u.createElement(Kt,kt({ref:function(E){E?m.current[S]=E:delete m.current[S]},dragging:M,draggingDelete:M&&c,style:Xe(n,S),key:S,value:v,valueIndex:S},_))}),f&&d&&u.createElement(Kt,kt({key:"a11y"},_,{value:i[x],valueIndex:null,dragging:l!==-1,draggingDelete:c,render:f,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),tr=function(r){var e=r.prefixCls,n=r.style,a=r.children,o=r.value,i=r.onClick,s=u.useContext(Ge),f=s.min,l=s.max,c=s.direction,p=s.includedStart,w=s.includedEnd,m=s.included,b="".concat(e,"-text"),g=$t(c,o,f,l);return u.createElement("span",{className:Re(b,De({},"".concat(b,"-active"),m&&p<=o&&o<=w)),style:he(he({},g),n),onMouseDown:function(C){C.stopPropagation()},onClick:function(){i(o)}},a)},nr=function(r){var e=r.prefixCls,n=r.marks,a=r.onClick,o="".concat(e,"-mark");return n.length?u.createElement("div",{className:o},n.map(function(i){var s=i.value,f=i.style,l=i.label;return u.createElement(tr,{key:s,prefixCls:o,style:f,value:s,onClick:a},l)})):null},rr=function(r){var e=r.prefixCls,n=r.value,a=r.style,o=r.activeStyle,i=u.useContext(Ge),s=i.min,f=i.max,l=i.direction,c=i.included,p=i.includedStart,w=i.includedEnd,m="".concat(e,"-dot"),b=c&&p<=n&&n<=w,g=he(he({},$t(l,n,s,f)),typeof a=="function"?a(n):a);return b&&(g=he(he({},g),typeof o=="function"?o(n):o)),u.createElement("span",{className:Re(m,De({},"".concat(m,"-active"),b)),style:g})},ar=function(r){var e=r.prefixCls,n=r.marks,a=r.dots,o=r.style,i=r.activeStyle,s=u.useContext(Ge),f=s.min,l=s.max,c=s.step,p=u.useMemo(function(){var w=new Set;if(n.forEach(function(b){w.add(b.value)}),a&&c!==null)for(var m=f;m<=l;)w.add(m),m+=c;return Array.from(w)},[f,l,c,a,n]);return u.createElement("div",{className:"".concat(e,"-step")},p.map(function(w){return u.createElement(rr,{prefixCls:e,key:w,value:w,style:o,activeStyle:i})}))},Jt=function(r){var e=r.prefixCls,n=r.style,a=r.start,o=r.end,i=r.index,s=r.onStartMove,f=r.replaceCls,l=u.useContext(Ge),c=l.direction,p=l.min,w=l.max,m=l.disabled,b=l.range,g=l.classNames,d="".concat(e,"-track"),C=Ot(a,p,w),h=Ot(o,p,w),y=function(z){!m&&s&&s(z,-1)},x={};switch(c){case"rtl":x.right="".concat(C*100,"%"),x.width="".concat(h*100-C*100,"%");break;case"btt":x.bottom="".concat(C*100,"%"),x.height="".concat(h*100-C*100,"%");break;case"ttb":x.top="".concat(C*100,"%"),x.height="".concat(h*100-C*100,"%");break;default:x.left="".concat(C*100,"%"),x.width="".concat(h*100-C*100,"%")}var P=f||Re(d,De(De({},"".concat(d,"-").concat(i+1),i!==null&&b),"".concat(e,"-track-draggable"),s),g.track);return u.createElement("div",{className:P,style:he(he({},x),n),onMouseDown:y,onTouchStart:y})},or=function(r){var e=r.prefixCls,n=r.style,a=r.values,o=r.startPoint,i=r.onStartMove,s=u.useContext(Ge),f=s.included,l=s.range,c=s.min,p=s.styles,w=s.classNames,m=u.useMemo(function(){if(!l){if(a.length===0)return[];var g=o??c,d=a[0];return[{start:Math.min(g,d),end:Math.max(g,d)}]}for(var C=[],h=0;h<a.length-1;h+=1)C.push({start:a[h],end:a[h+1]});return C},[a,l,o,c]);if(!f)return null;var b=m!=null&&m.length&&(w.tracks||p.tracks)?u.createElement(Jt,{index:null,prefixCls:e,start:m[0].start,end:m[m.length-1].end,replaceCls:Re(w.tracks,"".concat(e,"-tracks")),style:p.tracks}):null;return u.createElement(u.Fragment,null,b,m.map(function(g,d){var C=g.start,h=g.end;return u.createElement(Jt,{index:d,prefixCls:e,style:he(he({},Xe(n,d)),p.track),start:C,end:h,key:d,onStartMove:i})}))},ir=130;function Qt(t){var r="targetTouches"in t?t.targetTouches[0]:t;return{pageX:r.pageX,pageY:r.pageY}}function sr(t,r,e,n,a,o,i,s,f,l,c){var p=u.useState(null),w=be(p,2),m=w[0],b=w[1],g=u.useState(-1),d=be(g,2),C=d[0],h=d[1],y=u.useState(!1),x=be(y,2),P=x[0],D=x[1],z=u.useState(e),I=be(z,2),_=I[0],v=I[1],S=u.useState(e),M=be(S,2),$=M[0],E=M[1],O=u.useRef(null),V=u.useRef(null),Z=u.useRef(null),pe=u.useContext(Kn),ge=pe.onDragStart,Ee=pe.onDragChange;jn(function(){C===-1&&v(e)},[e,C]),u.useEffect(function(){return function(){document.removeEventListener("mousemove",O.current),document.removeEventListener("mouseup",V.current),Z.current&&(Z.current.removeEventListener("touchmove",O.current),Z.current.removeEventListener("touchend",V.current))}},[]);var Pe=function(A,j,F){j!==void 0&&b(j),v(A);var T=A;F&&(T=A.filter(function(k,B){return B!==C})),i(T),Ee&&Ee({rawValues:A,deleteIndex:F?C:-1,draggingIndex:C,draggingValue:j})},ye=dt(function(W,A,j){if(W===-1){var F=$[0],T=$[$.length-1],k=n-F,B=a-T,X=A*(a-n);X=Math.max(X,k),X=Math.min(X,B);var q=o(F+X);X=q-F;var H=$.map(function(re){return re+X});Pe(H)}else{var Y=(a-n)*A,te=Be(_);te[W]=$[W];var J=f(te,Y,W,"dist");Pe(J.values,J.value,j)}}),Ne=function(A,j,F){A.stopPropagation();var T=F||e,k=T[j];h(j),b(k),E(T),v(T),D(!1);var B=Qt(A),X=B.pageX,q=B.pageY,H=!1;ge&&ge({rawValues:T,draggingIndex:j,draggingValue:k});var Y=function(re){re.preventDefault();var Q=Qt(re),ae=Q.pageX,ue=Q.pageY,ne=ae-X,G=ue-q,fe=t.current.getBoundingClientRect(),Ce=fe.width,ke=fe.height,we,Se;switch(r){case"btt":we=-G/ke,Se=ne;break;case"ttb":we=G/ke,Se=ne;break;case"rtl":we=-ne/Ce,Se=G;break;default:we=ne/Ce,Se=G}H=l?Math.abs(Se)>ir&&c<_.length:!1,D(H),ye(j,we,H)},te=function J(re){re.preventDefault(),document.removeEventListener("mouseup",J),document.removeEventListener("mousemove",Y),Z.current&&(Z.current.removeEventListener("touchmove",O.current),Z.current.removeEventListener("touchend",V.current)),O.current=null,V.current=null,Z.current=null,s(H),h(-1),D(!1)};document.addEventListener("mouseup",te),document.addEventListener("mousemove",Y),A.currentTarget.addEventListener("touchend",te),A.currentTarget.addEventListener("touchmove",Y),O.current=Y,V.current=te,Z.current=A.currentTarget},ve=u.useMemo(function(){var W=Be(e).sort(function(k,B){return k-B}),A=Be(_).sort(function(k,B){return k-B}),j={};A.forEach(function(k){j[k]=(j[k]||0)+1}),W.forEach(function(k){j[k]=(j[k]||0)-1});var F=l?1:0,T=Object.values(j).reduce(function(k,B){return k+Math.abs(B)},0);return T<=F?_:e},[e,_,l]);return[C,m,P,ve,Ne]}function lr(t,r,e,n,a,o){var i=u.useCallback(function(m){return Math.max(t,Math.min(r,m))},[t,r]),s=u.useCallback(function(m){if(e!==null){var b=t+Math.round((i(m)-t)/e)*e,g=function(y){return(String(y).split(".")[1]||"").length},d=Math.max(g(e),g(r),g(t)),C=Number(b.toFixed(d));return t<=C&&C<=r?C:null}return null},[e,t,r,i]),f=u.useCallback(function(m){var b=i(m),g=n.map(function(h){return h.value});e!==null&&g.push(s(m)),g.push(t,r);var d=g[0],C=r-t;return g.forEach(function(h){var y=Math.abs(b-h);y<=C&&(d=h,C=y)}),d},[t,r,n,e,i,s]),l=function m(b,g,d){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof g=="number"){var h,y=b[d],x=y+g,P=[];n.forEach(function(v){P.push(v.value)}),P.push(t,r),P.push(s(y));var D=g>0?1:-1;C==="unit"?P.push(s(y+D*e)):P.push(s(x)),P=P.filter(function(v){return v!==null}).filter(function(v){return g<0?v<=y:v>=y}),C==="unit"&&(P=P.filter(function(v){return v!==y}));var z=C==="unit"?y:x;h=P[0];var I=Math.abs(h-z);if(P.forEach(function(v){var S=Math.abs(v-z);S<I&&(h=v,I=S)}),h===void 0)return g<0?t:r;if(C==="dist")return h;if(Math.abs(g)>1){var _=Be(b);return _[d]=h,m(_,g-D,d,C)}return h}else{if(g==="min")return t;if(g==="max")return r}},c=function(b,g,d){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=b[d],y=l(b,g,d,C);return{value:y,changed:y!==h}},p=function(b){return o===null&&b===0||typeof o=="number"&&b<o},w=function(b,g,d){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=b.map(f),y=h[d],x=l(h,g,d,C);if(h[d]=x,a===!1){var P=o||0;d>0&&h[d-1]!==y&&(h[d]=Math.max(h[d],h[d-1]+P)),d<h.length-1&&h[d+1]!==y&&(h[d]=Math.min(h[d],h[d+1]-P))}else if(typeof o=="number"||o===null){for(var D=d+1;D<h.length;D+=1)for(var z=!0;p(h[D]-h[D-1])&&z;){var I=c(h,1,D);h[D]=I.value,z=I.changed}for(var _=d;_>0;_-=1)for(var v=!0;p(h[_]-h[_-1])&&v;){var S=c(h,-1,_-1);h[_-1]=S.value,v=S.changed}for(var M=h.length-1;M>0;M-=1)for(var $=!0;p(h[M]-h[M-1])&&$;){var E=c(h,-1,M-1);h[M-1]=E.value,$=E.changed}for(var O=0;O<h.length-1;O+=1)for(var V=!0;p(h[O+1]-h[O])&&V;){var Z=c(h,1,O+1);h[O+1]=Z.value,V=Z.changed}}return{value:h[d],values:h}};return[f,w]}function cr(t){return u.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var r=t.editable,e=t.draggableTrack,n=t.minCount,a=t.maxCount;return[!0,r,!r&&e,n||0,a]},[t])}var ur=u.forwardRef(function(t,r){var e=t.prefixCls,n=e===void 0?"rc-slider":e,a=t.className,o=t.style,i=t.classNames,s=t.styles,f=t.id,l=t.disabled,c=l===void 0?!1:l,p=t.keyboard,w=p===void 0?!0:p,m=t.autoFocus,b=t.onFocus,g=t.onBlur,d=t.min,C=d===void 0?0:d,h=t.max,y=h===void 0?100:h,x=t.step,P=x===void 0?1:x,D=t.value,z=t.defaultValue,I=t.range,_=t.count,v=t.onChange,S=t.onBeforeChange,M=t.onAfterChange,$=t.onChangeComplete,E=t.allowCross,O=E===void 0?!0:E,V=t.pushable,Z=V===void 0?!1:V,pe=t.reverse,ge=t.vertical,Ee=t.included,Pe=Ee===void 0?!0:Ee,ye=t.startPoint,Ne=t.trackStyle,ve=t.handleStyle,W=t.railStyle,A=t.dotStyle,j=t.activeDotStyle,F=t.marks,T=t.dots,k=t.handleRender,B=t.activeHandleRender,X=t.track,q=t.tabIndex,H=q===void 0?0:q,Y=t.ariaLabelForHandle,te=t.ariaLabelledByForHandle,J=t.ariaRequired,re=t.ariaValueTextFormatterForHandle,Q=u.useRef(null),ae=u.useRef(null),ue=u.useMemo(function(){return ge?pe?"ttb":"btt":pe?"rtl":"ltr"},[pe,ge]),ne=cr(I),G=be(ne,5),fe=G[0],Ce=G[1],ke=G[2],we=G[3],Se=G[4],me=u.useMemo(function(){return isFinite(C)?C:0},[C]),Te=u.useMemo(function(){return isFinite(y)?y:100},[y]),ee=u.useMemo(function(){return P!==null&&P<=0?1:P},[P]),Ae=u.useMemo(function(){return typeof Z=="boolean"?Z?ee:!1:Z>=0?Z:!1},[Z,ee]),Le=u.useMemo(function(){return Object.keys(F||{}).map(function(L){var N=F[L],U={value:Number(L)};return N&&$n(N)==="object"&&!u.isValidElement(N)&&("label"in N||"style"in N)?(U.style=N.style,U.label=N.label):U.label=N,U}).filter(function(L){var N=L.label;return N||typeof N=="number"}).sort(function(L,N){return L.value-N.value})},[F]),st=lr(me,Te,ee,Le,O,Ae),He=be(st,2),Ye=He[0],et=He[1],bt=Tn(z,{value:D}),de=be(bt,2),oe=de[0],yt=de[1],ie=u.useMemo(function(){var L=oe==null?[]:Array.isArray(oe)?oe:[oe],N=be(L,1),U=N[0],K=U===void 0?me:U,se=oe===null?[]:[K];if(fe){if(se=Be(L),_||oe===void 0){var We=_>=0?_+1:2;for(se=se.slice(0,We);se.length<We;){var ze;se.push((ze=se[se.length-1])!==null&&ze!==void 0?ze:me)}}se.sort(function(Fe,Ie){return Fe-Ie})}return se.forEach(function(Fe,Ie){se[Ie]=Ye(Fe)}),se},[oe,fe,me,_,Ye]),Oe=function(N){return fe?N:N[0]},Ue=dt(function(L){var N=Be(L).sort(function(U,K){return U-K});v&&!An(N,ie,!0)&&v(Oe(N)),yt(N)}),Ve=dt(function(L){L&&Q.current.hideHelp();var N=Oe(ie);M==null||M(N),Zt(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(N)}),wn=function(N){if(!(c||!Ce||ie.length<=we)){var U=Be(ie);U.splice(N,1),S==null||S(Oe(U)),Ue(U);var K=Math.max(0,N-1);Q.current.hideHelp(),Q.current.focus(K)}},Sn=sr(ae,ue,ie,me,Te,Ye,Ue,Ve,et,Ce,we),tt=be(Sn,5),Tt=tt[0],Rn=tt[1],En=tt[2],Ct=tt[3],At=tt[4],zt=function(N,U){if(!c){var K=Be(ie),se=0,We=0,ze=Te-me;ie.forEach(function(qe,lt){var Ut=Math.abs(N-qe);Ut<=ze&&(ze=Ut,se=lt),qe<N&&(We=lt)});var Fe=se;Ce&&ze!==0&&(!Se||ie.length<Se)?(K.splice(We+1,0,N),Fe=We+1):K[se]=N,fe&&!ie.length&&_===void 0&&K.push(N);var Ie=Oe(K);if(S==null||S(Ie),Ue(K),U){var Ze,Ke;(Ze=document.activeElement)===null||Ze===void 0||(Ke=Ze.blur)===null||Ke===void 0||Ke.call(Ze),Q.current.focus(Fe),At(U,Fe,K)}else M==null||M(Ie),Zt(!M,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),$==null||$(Ie)}},Pn=function(N){N.preventDefault();var U=ae.current.getBoundingClientRect(),K=U.width,se=U.height,We=U.left,ze=U.top,Fe=U.bottom,Ie=U.right,Ze=N.clientX,Ke=N.clientY,qe;switch(ue){case"btt":qe=(Fe-Ke)/se;break;case"ttb":qe=(Ke-ze)/se;break;case"rtl":qe=(Ie-Ze)/K;break;default:qe=(Ze-We)/K}var lt=me+qe*(Te-me);zt(Ye(lt),N)},Mn=u.useState(null),Ft=be(Mn,2),xt=Ft[0],It=Ft[1],_n=function(N,U){if(!c){var K=et(ie,N,U);S==null||S(Oe(ie)),Ue(K.values),It(K.value)}};u.useEffect(function(){if(xt!==null){var L=ie.indexOf(xt);L>=0&&Q.current.focus(L)}It(null)},[xt]);var Dn=u.useMemo(function(){return ke&&ee===null?!1:ke},[ke,ee]),Bt=dt(function(L,N){At(L,N),S==null||S(Oe(ie))}),Lt=Tt!==-1;u.useEffect(function(){if(!Lt){var L=ie.lastIndexOf(Rn);Q.current.focus(L)}},[Lt]);var nt=u.useMemo(function(){return Be(Ct).sort(function(L,N){return L-N})},[Ct]),Nn=u.useMemo(function(){return fe?[nt[0],nt[nt.length-1]]:[me,nt[0]]},[nt,fe,me]),Ht=be(Nn,2),Wt=Ht[0],qt=Ht[1];u.useImperativeHandle(r,function(){return{focus:function(){Q.current.focus(0)},blur:function(){var N,U=document,K=U.activeElement;(N=ae.current)!==null&&N!==void 0&&N.contains(K)&&(K==null||K.blur())}}}),u.useEffect(function(){m&&Q.current.focus(0)},[]);var kn=u.useMemo(function(){return{min:me,max:Te,direction:ue,disabled:c,keyboard:w,step:ee,included:Pe,includedStart:Wt,includedEnd:qt,range:fe,tabIndex:H,ariaLabelForHandle:Y,ariaLabelledByForHandle:te,ariaRequired:J,ariaValueTextFormatterForHandle:re,styles:s||{},classNames:i||{}}},[me,Te,ue,c,w,ee,Pe,Wt,qt,fe,H,Y,te,J,re,s,i]);return u.createElement(Ge.Provider,{value:kn},u.createElement("div",{ref:ae,className:Re(n,a,De(De(De(De({},"".concat(n,"-disabled"),c),"".concat(n,"-vertical"),ge),"".concat(n,"-horizontal"),!ge),"".concat(n,"-with-marks"),Le.length)),style:o,onMouseDown:Pn,id:f},u.createElement("div",{className:Re("".concat(n,"-rail"),i==null?void 0:i.rail),style:he(he({},W),s==null?void 0:s.rail)}),X!==!1&&u.createElement(or,{prefixCls:n,style:Ne,values:ie,startPoint:ye,onStartMove:Dn?Bt:void 0}),u.createElement(ar,{prefixCls:n,marks:Le,dots:T,style:A,activeStyle:j}),u.createElement(er,{ref:Q,prefixCls:n,style:ve,values:Ct,draggingIndex:Tt,draggingDelete:En,onStartMove:Bt,onOffsetChange:_n,onFocus:b,onBlur:g,handleRender:k,activeHandleRender:B,onChangeComplete:Ve,onDelete:Ce?wn:void 0}),u.createElement(nr,{prefixCls:n,marks:Le,onClick:zt})))});const dr=u.createContext({}),en=u.forwardRef((t,r)=>{const{open:e,draggingDelete:n}=t,a=u.useRef(null),o=e&&!n,i=u.useRef(null);function s(){it.cancel(i.current),i.current=null}function f(){i.current=it(()=>{var l;(l=a.current)===null||l===void 0||l.forceAlign(),i.current=null})}return u.useEffect(()=>(o?f():s(),s),[o,t.title]),u.createElement(Gn,Object.assign({ref:zn(a,r)},t,{open:o}))}),fr=t=>{const{componentCls:r,antCls:e,controlSize:n,dotSize:a,marginFull:o,marginPart:i,colorFillContentHover:s,handleColorDisabled:f,calc:l,handleSize:c,handleSizeHover:p,handleActiveColor:w,handleActiveOutlineColor:m,handleLineWidth:b,handleLineWidthHover:g,motionDurationMid:d}=t;return{[r]:Object.assign(Object.assign({},Bn(t)),{position:"relative",height:n,margin:`${xe(i)} ${xe(o)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${xe(o)} ${xe(i)}`},[`${r}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${d}`},[`${r}-track,${r}-tracks`]:{position:"absolute",transition:`background-color ${d}`},[`${r}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${r}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${r}-rail`]:{backgroundColor:t.railHoverBg},[`${r}-track`]:{backgroundColor:t.trackHoverBg},[`${r}-dot`]:{borderColor:s},[`${r}-handle::after`]:{boxShadow:`0 0 0 ${xe(b)} ${t.colorPrimaryBorderHover}`},[`${r}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${r}-handle`]:{position:"absolute",width:c,height:c,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:l(b).mul(-1).equal(),insetBlockStart:l(b).mul(-1).equal(),width:l(c).add(l(b).mul(2)).equal(),height:l(c).add(l(b).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:c,height:c,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${xe(b)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${d},
            inset-block-start ${d},
            width ${d},
            height ${d},
            box-shadow ${d},
            outline ${d}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:l(p).sub(c).div(2).add(g).mul(-1).equal(),insetBlockStart:l(p).sub(c).div(2).add(g).mul(-1).equal(),width:l(p).add(l(g).mul(2)).equal(),height:l(p).add(l(g).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${xe(g)} ${w}`,outline:`6px solid ${m}`,width:p,height:p,insetInlineStart:t.calc(c).sub(p).div(2).equal(),insetBlockStart:t.calc(c).sub(p).div(2).equal()}}},[`&-lock ${r}-handle`]:{"&::before, &::after":{transition:"none"}},[`${r}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${r}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${r}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${r}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:t.colorBgElevated,border:`${xe(b)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${r}-disabled`]:{cursor:"not-allowed",[`${r}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${r}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${r}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${r}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:c,height:c,boxShadow:`0 0 0 ${xe(b)} ${f}`,insetInlineStart:0,insetBlockStart:0},[`
          ${r}-mark-text,
          ${r}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${e}-tooltip-inner`]:{minWidth:"unset"}})}},xn=(t,r)=>{const{componentCls:e,railSize:n,handleSize:a,dotSize:o,marginFull:i,calc:s}=t,f=r?"paddingBlock":"paddingInline",l=r?"width":"height",c=r?"height":"width",p=r?"insetBlockStart":"insetInlineStart",w=r?"top":"insetInlineStart",m=s(n).mul(3).sub(a).div(2).equal(),b=s(a).sub(n).div(2).equal(),g=r?{borderWidth:`${xe(b)} 0`,transform:`translateY(${xe(s(b).mul(-1).equal())})`}:{borderWidth:`0 ${xe(b)}`,transform:`translateX(${xe(t.calc(b).mul(-1).equal())})`};return{[f]:n,[c]:s(n).mul(3).equal(),[`${e}-rail`]:{[l]:"100%",[c]:n},[`${e}-track,${e}-tracks`]:{[c]:n},[`${e}-track-draggable`]:Object.assign({},g),[`${e}-handle`]:{[p]:m},[`${e}-mark`]:{insetInlineStart:0,top:0,[w]:s(n).mul(3).add(r?0:i).equal(),[l]:"100%"},[`${e}-step`]:{insetInlineStart:0,top:0,[w]:n,[l]:"100%",[c]:n},[`${e}-dot`]:{position:"absolute",[p]:s(n).sub(o).div(2).equal()}}},hr=t=>{const{componentCls:r,marginPartWithMark:e}=t;return{[`${r}-horizontal`]:Object.assign(Object.assign({},xn(t,!0)),{[`&${r}-with-marks`]:{marginBottom:e}})}},pr=t=>{const{componentCls:r}=t;return{[`${r}-vertical`]:Object.assign(Object.assign({},xn(t,!1)),{height:"100%"})}},mr=t=>{const e=t.controlHeightLG/4,n=t.controlHeightSM/2,a=t.lineWidth+1,o=t.lineWidth+1*1.5,i=t.colorPrimary,s=new Xt(i).setA(.2).toRgbString();return{controlSize:e,railSize:4,handleSize:e,handleSizeHover:n,dotSize:8,handleLineWidth:a,handleLineWidthHover:o,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:i,handleActiveOutlineColor:s,handleColorDisabled:new Xt(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},gr=Fn("Slider",t=>{const r=In(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[fr(r),hr(r),pr(r)]},mr);function wt(){const[t,r]=u.useState(!1),e=u.useRef(null),n=()=>{it.cancel(e.current)},a=o=>{n(),o?r(o):e.current=it(()=>{r(o)})};return u.useEffect(()=>n,[]),[t,a]}var vr=function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e};function br(t,r){return t||t===null?t:r||r===null?r:e=>typeof e=="number"?e.toString():""}const St=je.forwardRef((t,r)=>{var e,n,a,o,i,s,f,l,c,p;const{prefixCls:w,range:m,className:b,rootClassName:g,style:d,disabled:C,tooltipPrefixCls:h,tipFormatter:y,tooltipVisible:x,getTooltipPopupContainer:P,tooltipPlacement:D,tooltip:z={},onChangeComplete:I,classNames:_,styles:v}=t,S=vr(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:M}=t,{direction:$,slider:E,getPrefixCls:O,getPopupContainer:V}=je.useContext(Ln),Z=je.useContext(Hn),pe=C??Z,{handleRender:ge,direction:Ee}=je.useContext(dr),ye=(Ee||$)==="rtl",[Ne,ve]=wt(),[W,A]=wt(),j=Object.assign({},z),{open:F,placement:T,getPopupContainer:k,prefixCls:B,formatter:X}=j,q=F??x,H=(Ne||W)&&q!==!1,Y=br(X,y),[te,J]=wt(),re=ee=>{I==null||I(ee),J(!1)},Q=(ee,Ae)=>ee||(Ae?ye?"left":"right":"top"),ae=O("slider",w),[ue,ne,G]=gr(ae),fe=Re(b,E==null?void 0:E.className,(e=E==null?void 0:E.classNames)===null||e===void 0?void 0:e.root,_==null?void 0:_.root,g,{[`${ae}-rtl`]:ye,[`${ae}-lock`]:te},ne,G);ye&&!S.vertical&&(S.reverse=!S.reverse),je.useEffect(()=>{const ee=()=>{it(()=>{A(!1)},1)};return document.addEventListener("mouseup",ee),()=>{document.removeEventListener("mouseup",ee)}},[]);const Ce=m&&!q,ke=ge||((ee,Ae)=>{const{index:Le}=Ae,st=ee.props;function He(de,oe,yt){var ie,Oe,Ue,Ve;yt&&((Oe=(ie=S)[de])===null||Oe===void 0||Oe.call(ie,oe)),(Ve=(Ue=st)[de])===null||Ve===void 0||Ve.call(Ue,oe)}const Ye=Object.assign(Object.assign({},st),{onMouseEnter:de=>{ve(!0),He("onMouseEnter",de)},onMouseLeave:de=>{ve(!1),He("onMouseLeave",de)},onMouseDown:de=>{A(!0),J(!0),He("onMouseDown",de)},onFocus:de=>{var oe;A(!0),(oe=S.onFocus)===null||oe===void 0||oe.call(S,de),He("onFocus",de,!0)},onBlur:de=>{var oe;A(!1),(oe=S.onBlur)===null||oe===void 0||oe.call(S,de),He("onBlur",de,!0)}}),et=je.cloneElement(ee,Ye),bt=(!!q||H)&&Y!==null;return Ce?et:je.createElement(en,Object.assign({},j,{prefixCls:O("tooltip",B??h),title:Y?Y(Ae.value):"",open:bt,placement:Q(T??D,M),key:Le,classNames:{root:`${ae}-tooltip`},getPopupContainer:k||P||V}),et)}),we=Ce?(ee,Ae)=>{const Le=je.cloneElement(ee,{style:Object.assign(Object.assign({},ee.props.style),{visibility:"hidden"})});return je.createElement(en,Object.assign({},j,{prefixCls:O("tooltip",B??h),title:Y?Y(Ae.value):"",open:Y!==null&&H,placement:Q(T??D,M),key:"tooltip",classNames:{root:`${ae}-tooltip`},getPopupContainer:k||P||V,draggingDelete:Ae.draggingDelete}),Le)}:void 0,Se=Object.assign(Object.assign(Object.assign(Object.assign({},(n=E==null?void 0:E.styles)===null||n===void 0?void 0:n.root),E==null?void 0:E.style),v==null?void 0:v.root),d),me=Object.assign(Object.assign({},(a=E==null?void 0:E.styles)===null||a===void 0?void 0:a.tracks),v==null?void 0:v.tracks),Te=Re((o=E==null?void 0:E.classNames)===null||o===void 0?void 0:o.tracks,_==null?void 0:_.tracks);return ue(je.createElement(ur,Object.assign({},S,{classNames:Object.assign({handle:Re((i=E==null?void 0:E.classNames)===null||i===void 0?void 0:i.handle,_==null?void 0:_.handle),rail:Re((s=E==null?void 0:E.classNames)===null||s===void 0?void 0:s.rail,_==null?void 0:_.rail),track:Re((f=E==null?void 0:E.classNames)===null||f===void 0?void 0:f.track,_==null?void 0:_.track)},Te?{tracks:Te}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},(l=E==null?void 0:E.styles)===null||l===void 0?void 0:l.handle),v==null?void 0:v.handle),rail:Object.assign(Object.assign({},(c=E==null?void 0:E.styles)===null||c===void 0?void 0:c.rail),v==null?void 0:v.rail),track:Object.assign(Object.assign({},(p=E==null?void 0:E.styles)===null||p===void 0?void 0:p.track),v==null?void 0:v.track)},Object.keys(me).length?{tracks:me}:{}),step:S.step,range:m,className:fe,style:Se,disabled:pe,ref:r,prefixCls:ae,handleRender:ke,activeHandleRender:we,onChangeComplete:re})))});var jt=function(t,r){return jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},jt(t,r)};function yr(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");jt(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ce=function(){return ce=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ce.apply(this,arguments)};function Cr(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)r.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(e[n[a]]=t[n[a]]);return e}function ct(t,r,e,n){function a(o){return o instanceof e?o:new e(function(i){i(o)})}return new(e||(e=Promise))(function(o,i){function s(c){try{l(n.next(c))}catch(p){i(p)}}function f(c){try{l(n.throw(c))}catch(p){i(p)}}function l(c){c.done?o(c.value):a(c.value).then(s,f)}l((n=n.apply(t,r||[])).next())})}var Rt,tn;function xr(){if(tn)return Rt;tn=1;var t=!1,r,e,n,a,o,i,s,f,l,c,p,w,m,b,g;function d(){if(!t){t=!0;var h=navigator.userAgent,y=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(h),x=/(Mac OS X)|(Windows)|(Linux)/.exec(h);if(w=/\b(iPhone|iP[ao]d)/.exec(h),m=/\b(iP[ao]d)/.exec(h),c=/Android/i.exec(h),b=/FBAN\/\w+;/i.exec(h),g=/Mobile/i.exec(h),p=!!/Win64/.exec(h),y){r=y[1]?parseFloat(y[1]):y[5]?parseFloat(y[5]):NaN,r&&document&&document.documentMode&&(r=document.documentMode);var P=/(?:Trident\/(\d+.\d+))/.exec(h);i=P?parseFloat(P[1])+4:r,e=y[2]?parseFloat(y[2]):NaN,n=y[3]?parseFloat(y[3]):NaN,a=y[4]?parseFloat(y[4]):NaN,a?(y=/(?:Chrome\/(\d+\.\d+))/.exec(h),o=y&&y[1]?parseFloat(y[1]):NaN):o=NaN}else r=e=n=o=a=NaN;if(x){if(x[1]){var D=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(h);s=D?parseFloat(D[1].replace("_",".")):!0}else s=!1;f=!!x[2],l=!!x[3]}else s=f=l=!1}}var C={ie:function(){return d()||r},ieCompatibilityMode:function(){return d()||i>r},ie64:function(){return C.ie()&&p},firefox:function(){return d()||e},opera:function(){return d()||n},webkit:function(){return d()||a},safari:function(){return C.webkit()},chrome:function(){return d()||o},windows:function(){return d()||f},osx:function(){return d()||s},linux:function(){return d()||l},iphone:function(){return d()||w},mobile:function(){return d()||w||m||c||g},nativeApp:function(){return d()||b},android:function(){return d()||c},ipad:function(){return d()||m}};return Rt=C,Rt}var Et,nn;function wr(){if(nn)return Et;nn=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),r={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return Et=r,Et}var Pt,rn;function Sr(){if(rn)return Pt;rn=1;var t=wr(),r;t.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(n,a){if(!t.canUseDOM||a&&!("addEventListener"in document))return!1;var o="on"+n,i=o in document;if(!i){var s=document.createElement("div");s.setAttribute(o,"return;"),i=typeof s[o]=="function"}return!i&&r&&n==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}return Pt=e,Pt}var Mt,an;function Rr(){if(an)return Mt;an=1;var t=xr(),r=Sr(),e=10,n=40,a=800;function o(i){var s=0,f=0,l=0,c=0;return"detail"in i&&(f=i.detail),"wheelDelta"in i&&(f=-i.wheelDelta/120),"wheelDeltaY"in i&&(f=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(s=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=f,f=0),l=s*e,c=f*e,"deltaY"in i&&(c=i.deltaY),"deltaX"in i&&(l=i.deltaX),(l||c)&&i.deltaMode&&(i.deltaMode==1?(l*=n,c*=n):(l*=a,c*=a)),l&&!s&&(s=l<1?-1:1),c&&!f&&(f=c<1?-1:1),{spinX:s,spinY:f,pixelX:l,pixelY:c}}return o.getEventType=function(){return t.firefox()?"DOMMouseScroll":r("wheel")?"wheel":"mousewheel"},Mt=o,Mt}var _t,on;function Er(){return on||(on=1,_t=Rr()),_t}var Pr=Er();const Mr=Wn(Pr);function _r(t,r,e,n,a,o){o===void 0&&(o=0);var i=Qe(t,r,o),s=i.width,f=i.height,l=Math.min(s,e),c=Math.min(f,n);return l>c*a?{width:c*a,height:c}:{width:l,height:l/a}}function Dr(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function rt(t,r,e,n,a){a===void 0&&(a=0);var o=Qe(r.width,r.height,a),i=o.width,s=o.height;return{x:sn(t.x,i,e.width,n),y:sn(t.y,s,e.height,n)}}function sn(t,r,e,n){var a=r*n/2-e/2;return vt(t,-a,a)}function ln(t,r){return Math.sqrt(Math.pow(t.y-r.y,2)+Math.pow(t.x-r.x,2))}function cn(t,r){return Math.atan2(r.y-t.y,r.x-t.x)*180/Math.PI}function Nr(t,r,e,n,a,o,i){o===void 0&&(o=0),i===void 0&&(i=!0);var s=i?kr:Or,f=Qe(r.width,r.height,o),l=Qe(r.naturalWidth,r.naturalHeight,o),c={x:s(100,((f.width-e.width/a)/2-t.x/a)/f.width*100),y:s(100,((f.height-e.height/a)/2-t.y/a)/f.height*100),width:s(100,e.width/f.width*100/a),height:s(100,e.height/f.height*100/a)},p=Math.round(s(l.width,c.width*l.width/100)),w=Math.round(s(l.height,c.height*l.height/100)),m=l.width>=l.height*n,b=m?{width:Math.round(w*n),height:w}:{width:p,height:Math.round(p/n)},g=ce(ce({},b),{x:Math.round(s(l.width-b.width,c.x*l.width/100)),y:Math.round(s(l.height-b.height,c.y*l.height/100))});return{croppedAreaPercentages:c,croppedAreaPixels:g}}function kr(t,r){return Math.min(t,Math.max(0,r))}function Or(t,r){return r}function jr(t,r,e,n,a,o){var i=Qe(r.width,r.height,e),s=vt(n.width/i.width*(100/t.width),a,o),f={x:s*i.width/2-n.width/2-i.width*s*(t.x/100),y:s*i.height/2-n.height/2-i.height*s*(t.y/100)};return{crop:f,zoom:s}}function $r(t,r,e){var n=Dr(r);return e.height>e.width?e.height/(t.height*n):e.width/(t.width*n)}function Tr(t,r,e,n,a,o){e===void 0&&(e=0);var i=Qe(r.naturalWidth,r.naturalHeight,e),s=vt($r(t,r,n),a,o),f=n.height>n.width?n.height/t.height:n.width/t.width,l={x:((i.width-t.width)/2-t.x)*f,y:((i.height-t.height)/2-t.y)*f};return{crop:l,zoom:s}}function un(t,r){return{x:(r.x+t.x)/2,y:(r.y+t.y)/2}}function Ar(t){return t*Math.PI/180}function Qe(t,r,e){var n=Ar(e);return{width:Math.abs(Math.cos(n)*t)+Math.abs(Math.sin(n)*r),height:Math.abs(Math.sin(n)*t)+Math.abs(Math.cos(n)*r)}}function vt(t,r,e){return Math.min(Math.max(t,r),e)}function ut(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var zr=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Fr=1,Ir=3,Br=1,Lr=function(t){yr(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=u.createRef(),e.imageRef=u.createRef(),e.videoRef=u.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var n=!0;e.resizeObserver=new window.ResizeObserver(function(a){if(n){n=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(n){return n.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var n=e.computeSizes();n&&(e.emitCropData(),e.setInitialCrop(n)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(n){if(e.props.initialCroppedAreaPercentages){var a=jr(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,n,e.props.minZoom,e.props.maxZoom),o=a.crop,i=a.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=Tr(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,n,e.props.minZoom,e.props.maxZoom),o=s.crop,i=s.zoom;e.props.onCropChange(o),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var n,a,o,i,s,f,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var c=e.containerRect.width/e.containerRect.height,p=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,w=((o=e.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,m=l.offsetWidth<p||l.offsetHeight<w,b=p/w,g=void 0;if(m)switch(e.state.mediaObjectFit){default:case"contain":g=c>b?{width:e.containerRect.height*b,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/b};break;case"horizontal-cover":g={width:e.containerRect.width,height:e.containerRect.width/b};break;case"vertical-cover":g={width:e.containerRect.height*b,height:e.containerRect.height};break}else g={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=ce(ce({},g),{naturalWidth:p,naturalHeight:w}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var d=e.props.cropSize?e.props.cropSize:_r(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==d.height||((f=e.state.cropSize)===null||f===void 0?void 0:f.width)!==d.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(d),e.setState({cropSize:d},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(d),d}},e.saveContainerPosition=function(){if(e.containerRef){var n=e.containerRef.getBoundingClientRect();e.containerPosition={x:n.left,y:n.top}}},e.onMouseDown=function(n){e.currentDoc&&(n.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(r.getMousePoint(n)))},e.onMouseMove=function(n){return e.onDrag(r.getMousePoint(n))},e.onScroll=function(n){e.currentDoc&&(n.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(n){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(n))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),n.touches.length===2?e.onPinchStart(n):n.touches.length===1&&e.onDragStart(r.getTouchPoint(n.touches[0]))))},e.onTouchMove=function(n){n.preventDefault(),n.touches.length===2?e.onPinchMove(n):n.touches.length===1&&e.onDrag(r.getTouchPoint(n.touches[0]))},e.onGestureStart=function(n){e.currentDoc&&(n.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(n){if(n.preventDefault(),!e.isTouching){var a=r.getMousePoint(n),o=e.gestureZoomStart-1+n.scale;if(e.setNewZoom(o,a,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+n.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(n){e.cleanEvents()},e.onDragStart=function(n){var a,o,i=n.x,s=n.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=ce({},e.props.crop),(o=(a=e.props).onInteractionStart)===null||o===void 0||o.call(a)},e.onDrag=function(n){var a=n.x,o=n.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(a===void 0||o===void 0)){var i=a-e.dragStartPosition.x,s=o-e.dragStartPosition.y,f={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?rt(f,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):f;e.props.onCropChange(l)}}))},e.onDragStopped=function(){var n,a;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(a=(n=e.props).onInteractionEnd)===null||a===void 0||a.call(n)},e.onWheel=function(n){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(n))){n.preventDefault();var a=r.getMousePoint(n),o=Mr(n).pixelY,i=e.props.zoom-o*e.props.zoomSpeed/200;e.setNewZoom(i,a,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,f;return(f=(s=e.props).onInteractionStart)===null||f===void 0?void 0:f.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,f;return(f=(s=e.props).onInteractionEnd)===null||f===void 0?void 0:f.call(s)})},250)}},e.getPointOnContainer=function(n,a){var o=n.x,i=n.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(o-a.x),y:e.containerRect.height/2-(i-a.y)}},e.getPointOnMedia=function(n){var a=n.x,o=n.y,i=e.props,s=i.crop,f=i.zoom;return{x:(a+s.x)/f,y:(o+s.y)/f}},e.setNewZoom=function(n,a,o){var i=o===void 0?{}:o,s=i.shouldUpdatePosition,f=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var l=vt(n,e.props.minZoom,e.props.maxZoom);if(f){var c=e.getPointOnContainer(a,e.containerPosition),p=e.getPointOnMedia(c),w={x:p.x*l-c.x,y:p.y*l-c.y},m=e.props.restrictPosition?rt(w,e.mediaSize,e.state.cropSize,l,e.props.rotation):w;e.props.onCropChange(m)}e.props.onZoomChange(l)}},e.getCropData=function(){if(!e.state.cropSize)return null;var n=e.props.restrictPosition?rt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Nr(n,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var n=e.getCropData();if(n){var a=n.croppedAreaPercentages,o=n.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(a,o),e.props.onCropAreaChange&&e.props.onCropAreaChange(a,o)}},e.emitCropAreaChange=function(){var n=e.getCropData();if(n){var a=n.croppedAreaPercentages,o=n.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(a,o)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var n=e.props.restrictPosition?rt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(n),e.emitCropData()}},e.onKeyDown=function(n){var a,o,i=e.props,s=i.crop,f=i.onCropChange,l=i.keyboardStep,c=i.zoom,p=i.rotation,w=l;if(e.state.cropSize){n.shiftKey&&(w*=.2);var m=ce({},s);switch(n.key){case"ArrowUp":m.y-=w,n.preventDefault();break;case"ArrowDown":m.y+=w,n.preventDefault();break;case"ArrowLeft":m.x-=w,n.preventDefault();break;case"ArrowRight":m.x+=w,n.preventDefault();break;default:return}e.props.restrictPosition&&(m=rt(m,e.mediaSize,e.state.cropSize,c,p)),n.repeat||(o=(a=e.props).onInteractionStart)===null||o===void 0||o.call(a),f(m)}},e.onKeyUp=function(n){var a,o;switch(n.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault();break;default:return}e.emitCropData(),(o=(a=e.props).onInteractionEnd)===null||o===void 0||o.call(a)},e}return r.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=zr,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},r.prototype.componentWillUnmount=function(){var e,n;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((n=this.styleRef.parentNode)===null||n===void 0||n.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},r.prototype.componentDidUpdate=function(e){var n,a,o,i,s,f,l,c,p;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((n=e.cropSize)===null||n===void 0?void 0:n.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((o=e.cropSize)===null||o===void 0?void 0:o.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((c=this.props.crop)===null||c===void 0?void 0:c.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((p=this.videoRef.current)===null||p===void 0||p.load());var w=this.getObjectFit();w!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:w},this.computeSizes)},r.prototype.getAspect=function(){var e=this.props,n=e.cropSize,a=e.aspect;return n?n.width/n.height:a},r.prototype.getObjectFit=function(){var e,n,a,o;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,f=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((n=this.videoRef.current)===null||n===void 0?void 0:n.videoWidth)||0,l=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((o=this.videoRef.current)===null||o===void 0?void 0:o.videoHeight)||0,c=f/l;return c<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},r.prototype.onPinchStart=function(e){var n=r.getTouchPoint(e.touches[0]),a=r.getTouchPoint(e.touches[1]);this.lastPinchDistance=ln(n,a),this.lastPinchRotation=cn(n,a),this.onDragStart(un(n,a))},r.prototype.onPinchMove=function(e){var n=this;if(!(!this.currentDoc||!this.currentWindow)){var a=r.getTouchPoint(e.touches[0]),o=r.getTouchPoint(e.touches[1]),i=un(a,o);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=ln(a,o),f=n.props.zoom*(s/n.lastPinchDistance);n.setNewZoom(f,i,{shouldUpdatePosition:!1}),n.lastPinchDistance=s;var l=cn(a,o),c=n.props.rotation+(l-n.lastPinchRotation);n.props.onRotationChange&&n.props.onRotationChange(c),n.lastPinchRotation=l})}},r.prototype.render=function(){var e=this,n,a=this.props,o=a.image,i=a.video,s=a.mediaProps,f=a.cropperProps,l=a.transform,c=a.crop,p=c.x,w=c.y,m=a.rotation,b=a.zoom,g=a.cropShape,d=a.showGrid,C=a.style,h=C.containerStyle,y=C.cropAreaStyle,x=C.mediaStyle,P=a.classes,D=P.containerClassName,z=P.cropAreaClassName,I=P.mediaClassName,_=(n=this.state.mediaObjectFit)!==null&&n!==void 0?n:this.getObjectFit();return u.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(S){return e.containerRef=S},"data-testid":"container",style:h,className:ut("reactEasyCrop_Container",D)},o?u.createElement("img",ce({alt:"",className:ut("reactEasyCrop_Image",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},s,{src:o,ref:this.imageRef,style:ce(ce({},x),{transform:l||"translate(".concat(p,"px, ").concat(w,"px) rotate(").concat(m,"deg) scale(").concat(b,")")}),onLoad:this.onMediaLoad})):i&&u.createElement("video",ce({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ut("reactEasyCrop_Video",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",I)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ce(ce({},x),{transform:l||"translate(".concat(p,"px, ").concat(w,"px) rotate(").concat(m,"deg) scale(").concat(b,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(v){return u.createElement("source",ce({key:v.src},v))})),this.state.cropSize&&u.createElement("div",ce({ref:this.cropperRef,style:ce(ce({},y),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ut("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",d&&"reactEasyCrop_CropAreaGrid",z)},f)))},r.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Ir,minZoom:Fr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Br},r.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},r}(u.Component);const $e="img-crop",Dt=1,at=.1,ht=0,dn=-180,fn=180,Nt=1,ot=.01,Hr=u.forwardRef((t,r)=>{const{cropperRef:e,zoomSlider:n,rotationSlider:a,aspectSlider:o,showReset:i,resetBtnText:s,modalImage:f,aspect:l,minZoom:c,maxZoom:p,minAspect:w,maxAspect:m,cropShape:b,showGrid:g,cropperProps:d}=t,[C,h]=u.useState(Dt),[y,x]=u.useState(ht),[P,D]=u.useState(l),z=C!==Dt||y!==ht||P!==l,I=()=>{h(Dt),x(ht),D(l)},[_,v]=u.useState({x:0,y:0}),S=u.useRef({width:0,height:0,x:0,y:0}),M=u.useCallback((V,Z)=>{S.current=Z},[]);u.useImperativeHandle(r,()=>({rotation:y,cropPixelsRef:S,onReset:I}));const $="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",E="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",O="[flex:1]";return R.jsxs(R.Fragment,{children:[R.jsx(Lr,Object.assign({},d,{ref:e,image:f,crop:_,zoom:C,rotation:y,aspect:P,minZoom:c,maxZoom:p,zoomWithScroll:n,cropShape:b,showGrid:g,onCropChange:v,onZoomChange:h,onRotationChange:x,onCropComplete:M,classes:{containerClassName:`${$e}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${$e}-media`}})),n&&R.jsxs("section",{className:`${$e}-control ${$e}-control-zoom ${$}`,children:[R.jsx("button",{className:E,onClick:()=>h(+(C-at).toFixed(1)),disabled:C-at<c,children:"－"}),R.jsx(St,{className:O,min:c,max:p,step:at,value:C,onChange:h}),R.jsx("button",{className:E,onClick:()=>h(+(C+at).toFixed(1)),disabled:C+at>p,children:"＋"})]}),a&&R.jsxs("section",{className:`${$e}-control ${$e}-control-rotation ${$}`,children:[R.jsx("button",{className:`${E} [font-size:16px]`,onClick:()=>x(y-Nt),disabled:y===dn,children:"↺"}),R.jsx(St,{className:O,min:dn,max:fn,step:Nt,value:y,onChange:x}),R.jsx("button",{className:`${E} [font-size:16px]`,onClick:()=>x(y+Nt),disabled:y===fn,children:"↻"})]}),o&&R.jsxs("section",{className:`${$e}-control ${$e}-control-aspect ${$}`,children:[R.jsx("button",{className:E,onClick:()=>D(+(P-ot).toFixed(2)),disabled:P-ot<w,children:"↕"}),R.jsx(St,{className:O,min:w,max:m,step:ot,value:P,onChange:D}),R.jsx("button",{className:E,onClick:()=>D(+(P+ot).toFixed(2)),disabled:P+ot>m,children:"↔"})]}),i&&(n||a||o)&&R.jsx(pt,{className:"[bottom:20px] [position:absolute]",style:z?{}:{opacity:.3,pointerEvents:"none"},onClick:I,children:s})]})});var Wr=u.memo(Hr);function qr(t,r){r===void 0&&(r={});var e=r.insertAt;if(!(typeof document>"u")){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",e==="top"&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}var Ur=".\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";qr(Ur,{insertAt:"top"});const Zr=u.forwardRef((t,r)=>{const{quality:e=.4,fillColor:n="white",zoomSlider:a=!0,rotationSlider:o=!1,aspectSlider:i=!1,showReset:s=!1,resetText:f,aspect:l=1,minZoom:c=1,maxZoom:p=3,minAspect:w=.5,maxAspect:m=2,cropShape:b="rect",showGrid:g=!1,cropperProps:d,modalClassName:C,modalTitle:h,modalWidth:y,modalOk:x,modalCancel:P,onModalOk:D,onModalCancel:z,modalProps:I,beforeCrop:_,children:v}=t,S=u.useRef({});S.current.onModalOk=D,S.current.onModalCancel=z,S.current.beforeCrop=_;const M=u.useRef(null),$=u.useCallback(j=>{var F;const T=document.createElement("canvas"),k=T.getContext("2d"),X=(((F=j==null?void 0:j.getRootNode)===null||F===void 0?void 0:F.call(j))||document).querySelector(`.${$e}-media`),{width:q,height:H,x:Y,y:te}=M.current.cropPixelsRef.current;if(o&&M.current.rotation!==ht){const{naturalWidth:J,naturalHeight:re}=X,Q=M.current.rotation*(Math.PI/180),ae=Math.abs(Math.sin(Q)),ue=Math.abs(Math.cos(Q)),ne=J*ue+re*ae,G=re*ue+J*ae;T.width=ne,T.height=G,k.fillStyle=n,k.fillRect(0,0,ne,G);const fe=ne/2,Ce=G/2;k.translate(fe,Ce),k.rotate(Q),k.translate(-fe,-Ce);const ke=(ne-J)/2,we=(G-re)/2;k.drawImage(X,0,0,J,re,ke,we,J,re);const Se=k.getImageData(0,0,ne,G);T.width=q,T.height=H,k.putImageData(Se,-Y,-te)}else T.width=q,T.height=H,k.fillStyle=n,k.fillRect(0,0,q,H),k.drawImage(X,Y,te,q,H,0,0,q,H);return T},[n,o]),[E,O]=u.useState(""),V=u.useRef(),Z=u.useRef(),pe=u.useCallback(j=>ct(void 0,[j],void 0,function*({beforeUpload:F,file:T,resolve:k,reject:B}){const X=T;if(typeof F!="function"){k(X);return}try{const q=yield F(T,[T]);k(q===!1?!1:q!==!0&&q||X)}catch(q){B(q)}}),[]),ge=u.useCallback(j=>(F,T)=>new Promise((k,B)=>ct(void 0,void 0,void 0,function*(){let X=F;if(typeof S.current.beforeCrop=="function")try{const H=yield S.current.beforeCrop(F,T);if(H===!1)return pe({beforeUpload:j,file:F,resolve:k,reject:B});H!==!0&&(X=H||F)}catch{return pe({beforeUpload:j,file:F,resolve:k,reject:B})}const q=new FileReader;q.addEventListener("load",()=>{typeof q.result=="string"&&O(q.result)}),q.readAsDataURL(X),V.current=()=>{var H,Y;O(""),M.current.onReset();let te=!1;(Y=(H=S.current).onModalCancel)===null||Y===void 0||Y.call(H,J=>{k(J),te=!0}),te||k(bn.LIST_IGNORE)},Z.current=H=>ct(void 0,void 0,void 0,function*(){O(""),M.current.onReset();const Y=$(H.target),{type:te,name:J,uid:re}=X;Y.toBlob(Q=>ct(void 0,void 0,void 0,function*(){const ae=new File([Q],J,{type:te});Object.assign(ae,{uid:re}),pe({beforeUpload:j,file:ae,resolve:ue=>{var ne,G;k(ue),(G=(ne=S.current).onModalOk)===null||G===void 0||G.call(ne,ue)},reject:ue=>{var ne,G;B(ue),(G=(ne=S.current).onModalOk)===null||G===void 0||G.call(ne,ue)}})}),te,e)})})),[$,e,pe]),Ee=u.useCallback(j=>{const F=Array.isArray(j)?j[0]:j,T=F.props,{beforeUpload:k,accept:B}=T,X=Cr(T,["beforeUpload","accept"]);return Object.assign(Object.assign({},F),{props:Object.assign(Object.assign({},X),{accept:B||"image/*",beforeUpload:ge(k)})})},[ge]),Pe=u.useMemo(()=>{const j={};return y!==void 0&&(j.width=y),x!==void 0&&(j.okText=x),P!==void 0&&(j.cancelText=P),j},[P,x,y]),ye=`${$e}-modal${C?` ${C}`:""}`,ve=(typeof window>"u"?"":window.navigator.language)==="zh-CN",W=h||(ve?"编辑图片":"Edit image"),A=f||(ve?"重置":"Reset");return R.jsxs(R.Fragment,{children:[Ee(v),E&&R.jsx(Xn,Object.assign({},I,Pe,{open:!0,title:W,onCancel:V.current,onOk:Z.current,wrapClassName:ye,maskClosable:!1,destroyOnClose:!0,children:R.jsx(Wr,{ref:M,cropperRef:r,zoomSlider:a,rotationSlider:o,aspectSlider:i,showReset:s,resetBtnText:A,modalImage:E,aspect:l,minZoom:c,maxZoom:p,minAspect:w,maxAspect:m,cropShape:b,showGrid:g,cropperProps:d})}))]})}),ra=({handleCurrent:t,hadleMenuId:r})=>{const[e]=pn(),n=Number(e.get("strfId")),a=e.get("category"),o=Number(e.get("menuId")),s=mn().pathname,f=gn(),l=()=>{s==="/business/menu/create"&&(a===Gt.STAY?t==null||t(1):f(`/business/menu?strfId=${n}&category=${a}`)),s==="/business/menu/edit"&&f(`/business/menu?strfId=${n}&category=${a}`)},c=mt("user"),p=c==null?void 0:c.strfDtos[0].busiNum,w=mt("accessToken"),[m]=yn(),[b]=qn(Yt),g=Un(Yt);u.useEffect(()=>{var v;m.setFieldsValue({menuPic:{uid:"1",name:b.menuTitle,status:"done",url:`${Zn}/${n}/menu/${(v=b.menuPic)==null?void 0:v.url}`},menuTitle:b.menuTitle,menuPrice:b.menuPrice})},[]);const[d,C]=u.useState([]),[,h]=u.useState(null),[y,x]=u.useState(!1),P=({fileList:v})=>{C(v),m.setFieldValue("menuPic",v)},D=async v=>{let S=v.url;S||(S=await new Promise(E=>{const O=new FileReader;O.readAsDataURL(v.originFileObj),O.onload=()=>E(O.result)}));const M=new Image;M.src=S;const $=window.open(S);$==null||$.document.write(M.outerHTML)},z=async v=>{x(!0);const S="/api/detail/menu";try{const M=await gt.post(S,v,{headers:{Authorization:`Bearer ${w}`}});console.log("메뉴 등록 code",M.data.code);const $=M.data;return $.code==="200 성공"&&(Je.success("메뉴 등록을 성공했습니다"),l(),r==null||r($.data),x(!1),g()),M.data}catch(M){return console.error("메뉴 등록 실패",M),x(!1),Je.error("메뉴 등록에 실패했습니다"),null}},I=async v=>{x(!0);const S="/api/detail/menu";try{const M=await gt.patch(S,v,{headers:{Authorization:`Bearer ${w}`}});console.log("메뉴 수정",M.data);const $=M.data;return($==null?void 0:$.code)==="200 성공"&&(x(!1),l(),Je.success("메뉴 수정을 성공했습니다"),g()),M.data}catch(M){return console.error("메뉴 수정 실패",M),x(!1),Je.error("메뉴 수정에 실패했습니다"),null}},_=v=>{const{menuTitle:S,menuPrice:M}=v,$={strfId:n,busiNum:p,menus:[{menuTitle:S,menuPrice:M}]},E={strfId:n,menuId:o,busiNum:p,menus:[{menuPrice:M,menuTitle:S}]},O=new FormData;if(!d||d.length===0){console.error("⚠️ fileList가 비어 있습니다!");return}O.append("menuPic",d[0].originFileObj),s==="/business/menu/create"&&(console.log("p",$),O.append("p",new Blob([JSON.stringify($)],{type:"application/json"})),console.log("제출 데이터",O.get("p"))),s==="/business/menu/edit"&&(console.log("menuReq",E),O.append("menuReq",new Blob([JSON.stringify(E)],{type:"application/json"})),console.log("제출 데이터",O.get("menuReq"))),console.log("FormData entries:");for(let V of O.entries())console.log(V[0],V[1]);s==="/business/menu/create"&&z(O),s==="/business/menu/edit"&&I(O)};return R.jsx("section",{className:"flex flex-col gap-2 px-4 py-3",children:R.jsx(Cn,{spinning:y,children:R.jsxs(_e,{form:m,onFinish:_,name:"menu",children:[R.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[R.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[Me(a)," 사진"]}),R.jsxs("p",{className:"text-sm text-slate-500",children:[Me(a)," 이미지를 등록해주세요."]})]}),R.jsx(_e.Item,{name:"menuPic",rules:[{required:!0,message:"메뉴 사진을 등록해주세요.",validator:()=>d.length>0?Promise.resolve():Promise.reject(new Error("메뉴 사진을 등록해주세요."))}],help:`${Me(a)} 이미지는 최대 1장입니다.`,children:R.jsx(Zr,{rotationSlider:!0,children:R.jsx(bn,{listType:"picture-card",fileList:d,onChange:P,onPreview:D,beforeUpload:()=>!1,accept:"image/*",maxCount:1,children:d.length<1&&"+ Upload"})})}),R.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[R.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[Me(a)," 이름"]}),R.jsxs("p",{className:"text-sm text-slate-500",children:["고객에게 보이는 ",Me(a)," 이름입니다."]})]}),R.jsx(_e.Item,{name:"menuTitle",rules:[{required:!0,message:`${Me(a)} 이름을 입력해주세요.`}],className:"w-3/4",children:R.jsx(vn,{size:"large",placeholder:`${Me(a)} 이름을 입력해주세요 예) ${a===Gt.STAY?"트윈룸":"마라탕"}`})}),R.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[R.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[Me(a)," 가격"]}),R.jsxs("p",{className:"text-sm text-slate-500",children:["고객에게 보이는 ",Me(a)," 가격입니다."]})]}),R.jsx(_e.Item,{name:"menuPrice",rules:[{required:!0,message:`${Me(a)} 가격을 입력해주세요.`}],className:"w-3/4",children:R.jsx(ft,{size:"large",placeholder:`${Me(a)} 가격을 입력해주세요 예) 100000`,suffix:"원",onChange:v=>{typeof v=="number"&&h(v)},formatter:v=>typeof v=="string"?v.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:v=>v==null?void 0:v.replace(/,/g,""),className:"w-full"})}),R.jsxs(_e.Item,{className:"flex justify-end gap-2",children:[R.jsxs(pt,{type:"default",size:"large",htmlType:"button",className:"mr-5 text-slate-500 text-lg",onClick:()=>m.resetFields(),children:[R.jsx(Yn,{}),"초기화"]}),R.jsx(pt,{type:"primary",htmlType:"submit",size:"large",className:"text-lg",children:s==="/business/menu/create"?"등록하기":"수정하기"})]})]})})})},aa=({menuId:t})=>{const r=mt("accessToken"),e=mt("user"),n=e==null?void 0:e.strfDtos[0].busiNum,[a]=pn(),o=Number(a.get("strfId")),i=a.get("category"),s=gn(),[f]=yn(),[l,c]=u.useState(!1),[p,w]=u.useState([]),m=mn(),b=m.pathname,g=m.state;console.log("state",g);const d=async x=>{c(!0);const P="/api/detail/stay";try{const D=await gt.post(P,x,{headers:{Authorization:`Bearer ${r}`}});console.log(D.data);const z=D.data;return z&&(c(!1),Je.success("객실 생성 완료"),s(`/business/menu?strfId=${o}&category=${i}`)),z}catch{return c(!1),null}},C=async x=>{c(!0);const P="/api/detail/stay";try{const D=await gt.patch(P,x,{headers:{Authorization:`Bearer ${r}`}});console.log(D.data);const z=D.data;return z&&(c(!1),Je.success("객실 수정이 완료되었습니다"),s(`/business/menu/detail?strfId=${o}&category=${i}&menuId=${t}`)),z}catch{return c(!1),null}},h=x=>{p.includes(x)?w(P=>P.filter(D=>D!==x)):w(P=>[...P,x])},y=x=>{console.log(x);const{recomCapacity:P,maxCapacity:D,surcharge:z,rooms:I}=x,_={strfId:o,busiNum:n,category:Vt(i),menuId:Number(t),ameniPoints:p,parlors:[{menuId:Number(t),recomCapacity:P,maxCapacity:D,surcharge:z}],rooms:I},v={stayReq:{strfId:o,busiNum:n,category:Vt(i),menuId:Number(t),parlors:[{recomCapacity:P,maxCapacity:D,surcharge:z}],rooms:I}};b==="/business/menu/create"&&(console.log("생성 payload",_),d(_)),b==="/business/menu/edit"&&(console.log("수정 payload",v),C(v))};return u.useEffect(()=>{g&&f.setFieldsValue({rooms:g.roomNum.length,recomCapacity:g.recomCapacity,maxCapacity:g.maxCapacity,surcharge:g.surcharge})},[]),R.jsx("div",{className:"px-4 py-3",children:R.jsx(Cn,{spinning:l,children:R.jsxs(_e,{form:f,onFinish:y,name:"room/parlors/amenities",children:[R.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[R.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"객실 수량"}),R.jsx("p",{className:"text-sm text-slate-500",children:"해당 객실 종류의 수량을 선택해주세요."})]}),R.jsx(_e.Item,{name:"rooms",rules:[{required:!0,message:"객실 번호를 입력해주세요."}],className:"w-full pb-5",children:R.jsx(vn,{placeholder:"객실 수량을 선택해주세요",size:"large"})}),R.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[R.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"객실 인원"}),R.jsxs("p",{className:"text-sm text-slate-500",children:["해당 객실 종류의 권장 인원 및 최대 인원과 그에 따른 추가금액을",R.jsx("br",{}),"입력해주세요."]})]}),R.jsx(_e.Item,{name:"recomCapacity",rules:[{required:!0,message:"권장 인원을 입력해주세요."}],label:"권장 인원",labelCol:{span:30},className:"w-full",children:R.jsx(ft,{size:"large",placeholder:"권장 인원",className:"w-3/4",suffix:"명",onChange:x=>f.setFieldsValue({maxCapacity:x})})}),R.jsx(_e.Item,{name:"maxCapacity",rules:[{required:!0,message:"최대 인원을 입력해주세요."}],label:"최대 인원",labelCol:{span:30},className:"w-full",children:R.jsx(ft,{size:"large",placeholder:"최대 인원",className:"w-3/4",suffix:"명"})}),R.jsx(_e.Item,{name:"surcharge",rules:[{required:!0,message:"추가 금액을 입력해주세요."}],label:"추가 금액",labelCol:{span:30},className:"w-full pb-5",children:R.jsx(ft,{size:"large",placeholder:"추가 금액",className:"w-3/4",suffix:"원",formatter:x=>x?`${x}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):""})}),b!=="/business/menu/edit"&&R.jsxs("div",{className:"py-2 flex flex-col gap-1 pb-10",children:[R.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"편의 시설"}),R.jsxs("p",{className:"text-sm text-slate-500 pb-2",children:["해당 객실 종류의 편의 시설을 선택해주세요.",R.jsx("br",{})," * 해당 편의시설은 검색 필터에 적용됩니다."]}),R.jsx("div",{className:"flex flex-wrap gap-2",children:Vn.map((x,P)=>R.jsxs("button",{type:"button",className:`flex text-base items-center gap-2
                border rounded-2xl w-fit px-2 py-1
                ${p.includes(x.amenity_id)?"border-primary text-primary":"border-slate-300 text-slate-500"}`,onClick:()=>h(x.amenity_id),children:[x.icon,x.key]},P))})]}),R.jsx(_e.Item,{className:"w-full flex justify-end",children:R.jsx(pt,{type:"primary",htmlType:"submit",size:"large",children:b==="/business/menu/create"?"등록하기":"수정하기"})})]})})})};export{ra as M,aa as R};
