import{R as y,a as I,r as a,g as R,u as C,j as t,d as r}from"./index-CG8vYf2y.js";import{a as T,b as A}from"./index-BSwssLiK.js";import{a as $}from"./pic-Jp7D6aQ0.js";import{L as B}from"./index-3acWglrF.js";import{F as E}from"./Footer-Doo6Z_i7.js";/* empty css                    */import{T as M}from"./TitleHeader-HJveUMRb.js";import{B as m}from"./button-Qumjrz4E.js";import{R as O}from"./index-DipEv1TS.js";import{M as P}from"./index-CJFK-7g1.js";import"./iconBase-BliIWTH0.js";import"./index-CkZhrZUZ.js";import"./index-DNP8OPt4.js";import"./DockBar-DeVDYASQ.js";import"./index-DduuLXv4.js";import"./index-CWOPntzi.js";import"./searchAtom-C3LxS7Az.js";import"./searchSelector-iZOl_tOs.js";import"./index-nQPZjETo.js";import"./UnstableContext-Cxtoe_qF.js";import"./useSize-s7Cj9DSQ.js";import"./ExclamationCircleFilled-B_QXJoCI.js";import"./CloseCircleFilled-BQjJuuZg.js";import"./InfoCircleFilled-DdebdxrH.js";import"./KeyCode-DNlgD2sM.js";import"./pickAttrs-KpDTT5l5.js";import"./useCSSVarCls-DVyv07Mk.js";import"./Keyframes-DQFvTPSf.js";import"./useZIndex-DHIAsWu5.js";import"./genStyleUtils-BNuyCX-p.js";import"./CloseOutlined-72i2lCdW.js";import"./index-BK2APq6_.js";import"./index-zbYbnkux.js";import"./reactNode-Dx8pTwlk.js";import"./useMergedState-DU3z-VtB.js";import"./index-DrSQ8jn4.js";import"./index-E9bkYm6o.js";import"./Portal-CztClCTi.js";import"./index-N7vMWSMs.js";import"./useId-D1G52zAA.js";import"./ContextIsolator-BLCcxi2B.js";import"./context-PnQlGr6A.js";import"./zoom-Dx8PYXKT.js";import"./Skeleton-CQ8GiPWg.js";import"./useLocale-DGpfybmt.js";import"./index-Dgnr2uwk.js";import"./fade-DL5WuKh7.js";import"./PurePanel-DL_M_EeW.js";const Ee=()=>{const[f,S]=y(I),[U,h]=a.useState([]),[s,u]=a.useState([]),[j,l]=a.useState(!1),o=R("accessToken"),g=async()=>{try{const e=await r.get("/api/user/userInfo",{headers:{Authorization:`Bearer ${o}`}});h(e.data.data)}catch(e){console.log(e)}};console.log("isRecents",s);const c=async()=>{try{const e=await r.get("/api/recent/list",{headers:{Authorization:`Bearer ${o}`}});u(e.data.data),console.log("✅  isRecents:",e.data.data)}catch(e){console.log("✅  error:",e)}},N=async()=>{try{const e=await r.patch("/api/recent/hide/all",{},{headers:{Authorization:`Bearer ${o}`}});c()}catch(e){console.log("✅  error:",e)}},w=async e=>{console.log("isRecents.strfId",e.strfId,o);const i={strf_id:e.strfId};try{const n=await r.patch(`/api/recent/hide?strf_id=${e.strfId}`,{...i},{headers:{Authorization:`Bearer ${o}`}});console.log("숨기기 결과",n.data),c()}catch(n){console.log("✅  error:",n)}};a.useEffect(()=>{f.accessToken&&g()},[]),a.useEffect(()=>{c()},[]);const b=e=>{console.log("클릭된 아이템",e),x(`/contents/index?strfId=${e.strfId}`)},v={STAY:"숙소",RESTAUR:"맛집",TOUR:"관광지",FEST:"축제"},k=()=>l(!0),d=()=>{N(),l(!1)},p=()=>l(!1),x=C();return t.jsxs("div",{children:[t.jsx(M,{icon:"back",title:"최근 본 목록",onClick:()=>{x(-1)}}),s.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-60px)]",children:[t.jsx(B,{className:"w-full text-slate-300 text-8xl mb-5 "}),t.jsx("p",{className:"text-2xl text-slate-400 font-semibold",children:"최근에 본 목록이 없습니다."})]}):t.jsxs("div",{className:"relative flex flex-col gap-5 px-8 my-10",children:[t.jsxs("div",{className:"flex items-center justify-between w-full h-16",children:[t.jsx("span",{className:" text-slate-500 mr-auto ",children:"최근 본 상품은 최대 10개 까지 출력됩니다."}),t.jsx(m,{onClick:k,className:"px-4 h-8",children:"전체 삭제"})]}),s==null?void 0:s.map(e=>t.jsxs("div",{onClick:()=>b(e),className:"relative w-full flex gap-5 cursor-pointer",children:[t.jsx("p",{className:" w-32 h-32 overflow-hidden rounded-lg bg-slate-200",children:t.jsx("img",{src:`${$}${e.strfId}/${e.strfPic}`,alt:e.strfTitle,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"h-28 mt-2",children:[t.jsx("p",{className:"text-slate-700 text-xl font-semibold",children:e.strfTitle}),t.jsxs("p",{className:"text-sm text-slate-500 mb-3",children:[v[e.category]," ⋅ ",e.locationName]}),t.jsxs("div",{children:[t.jsxs("p",{className:"flex items-center text-slate-400 text-sm gap-1 mb-2",children:[t.jsx(O,{disabled:!0,allowHalf:!0,defaultValue:e.ratingAvg,className:"custom-rate"}),t.jsxs("span",{children:["(",e.reviewCnt,")"]})]}),t.jsxs("p",{className:"flex items-center text-slate-400 text-sm gap-1",children:[e.wishIn?t.jsx(T,{className:"text-secondary3 text-xl"}):t.jsx(A,{className:"text-slate-400 text-xl"}),e.wishCnt]})]})]}),t.jsx("p",{className:"absolute top-3 right-3 text-slate-400",onClick:i=>{i.stopPropagation(),w(e)},children:"삭제"})]},e.strfId))]}),t.jsx(E,{}),t.jsx(P,{open:j,onOk:d,onCancel:p,closable:!1,footer:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(m,{onClick:p,className:"w-full h-14 border-0 rounded-none shadow-none",children:"취소"},"back"),t.jsx("span",{className:"text-slate-300 font-thin",children:"|"}),t.jsx(m,{onClick:d,className:"w-full h-14 border-none shadow-none",children:"확인"},"submit")]})],children:t.jsx("p",{className:"text-lg text-slate-700 font-semibold text-center py-6",children:"최근 본 목록을 전체 삭제하시겠습니까 ?"})})]})};export{Ee as default};
