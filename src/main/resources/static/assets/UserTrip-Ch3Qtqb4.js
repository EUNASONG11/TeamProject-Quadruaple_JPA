import{r as l,u as v,j as e,T as b,a8 as w,ab as N,a4 as y,ac as I,a9 as C}from"./index-DH-Wz4Mj.js";import{a as R}from"./index-BeEwLrkL.js";import{a as x}from"./index-DY24jvwy.js";import{j as i}from"./jwt-DnEXN_lJ.js";import{B as T}from"./BottomSheet-DU6y7FlW.js";import{F as k}from"./Footer-C-7cIh83.js";import"./proxy-AvwZpyC7.js";import"./DockBar-CuwC-lSB.js";import"./index-CQz5_Up4.js";import"./userAtom-DgR9NHTV.js";import"./index-C50gSxXV.js";import"./searchAtom-Cy7CarFV.js";const U=()=>{const[t,p]=l.useState([]),[d,r]=l.useState(!1),[o,m]=l.useState(null),c=v(),n=async()=>{try{const s=await i.get("/api/trip-review/myTripReview?orderType=latest");p(s.data.data),console.log("✅  res.data.data:",s.data.data)}catch(s){console.log("✅  error:",s)}},j=s=>{console.log(s);try{const a=i.delete(`/api/trip-review?tripReviewId=${s.tripReviewId}`);console.log("✅  tripReviewId:",s.tripReviewId),console.log("Deleting item:",s),n()}catch(a){console.log("✅  error:",a)}},f=s=>{c(`/scheduleboard/scheduleDetail?tripId=${s.tripId}&TripReviewId=${s.tripReviewId}`)},g=async()=>{try{await i.post("/api/trip-review/scrap",{tripReviewId:76,copyTripId:1148,newStartAt:"2025-04-01",newEndAt:"2025-04-11"})}catch(s){console.log("error",s)}};l.useEffect(()=>{n()},[]);const h=[{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(x,{className:"text-slate-400"})," 스크랩하기"]}),onClick:()=>g()},{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(I,{className:"text-slate-400"})," 수정하기"]}),onClick:()=>console.log("인식")},{label:e.jsxs("div",{className:"flex items-center gap-3 text-lg",children:[e.jsx(C,{className:"text-slate-400"})," 삭제하기"]}),onClick:()=>{o&&(j(o),r(!1))}}];return e.jsxs("div",{children:[e.jsx(b,{icon:"back",title:"내 여행기",onClick:()=>c(-1)}),e.jsx("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-t-[1px] border-slate-100 ",children:e.jsxs("p",{className:"text-sm font-semibold",children:["총 ",t.length,"개"]})}),e.jsx("div",{children:t==null?void 0:t.map((s,a)=>e.jsxs("li",{className:"flex flex-col gap-4 px-4 py-8 cursor-pointer border-b-[10px] border-slate-100 last:border-none",onClick:()=>f(s),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-lg text-slate-700",children:s.title}),e.jsx(w,{className:"text-slate-400 text-2xl cursor-pointer",onClick:u=>{u.stopPropagation(),m(s),r(!0)}})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"w-full min-h-48 aspect-[3/2] bg-slate-200 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.tripReviewPics!==null?`${N}/${s.tripReviewId}/${s.tripReviewPics[0]}`:"",alt:"여행기 사진",className:"w-full h-full object-cover"})}),e.jsx("p",{className:"text-base text-slate-500 line-clamp-3 tracking-tight",children:s.content})]}),e.jsxs("ul",{className:"flex items-center justify-end gap-3",children:[e.jsxs("li",{className:"flex items-center text-sm text-slate-500 font-semibold gap-0.5",children:[e.jsx(y,{className:"text-base text-slate-300"}),e.jsx("span",{children:s.recentCount})]}),e.jsxs("li",{className:"flex items-center text-sm text-slate-500 font-semibold gap-0.5",children:[e.jsx(R,{className:"text-base text-slate-300"}),e.jsx("span",{children:s.likeCount})]}),e.jsxs("li",{className:"flex items-center text-sm text-slate-500 font-semibold gap-0.5",children:[e.jsx(x,{className:"text-base text-slate-300"}),e.jsx("span",{children:s.scrapCount})]})]})]},a))}),e.jsx(k,{}),e.jsx(T,{open:d,onClose:()=>r(!1),actions:h})]})};export{U as default};
