import{h as j,k as w,a2 as F,r as y,j as e,B as L}from"./index-BDvp6vJ-.js";import{s as I}from"./strfAtom-C31xQf7i.js";import{b as U}from"./match-DqbF0vPE.js";import{u as $,F as a}from"./index-sxxMLJq8.js";import{U as b}from"./index-Bekse5eQ.js";import"./index-BUmFPigH.js";import"./index-CHbw3iEE.js";import"./index-BspFPnqN.js";import"./index-ClPqg3ds.js";import"./index-RBkh3_Fy.js";import"./index-CGcuxldO.js";import"./motion-Z4zvjc5S.js";import"./responsiveObserver-DAFGTY3O.js";import"./zoom-BVA-z112.js";import"./Portal-8tQC4Gpp.js";import"./index-CicLC-YN.js";import"./index-BbrJAp72.js";import"./index-CyfMtEI1.js";import"./useId-Dew7XV0g.js";import"./roundedArrow-C96aV79_.js";import"./useLocale-DiUcR1Ls.js";import"./fade-DKp8I_BD.js";import"./CheckOutlined-C8mj7XYB.js";const Z=()=>{const[m]=j(),c=m.get("strfId"),p=m.get("category"),[l,v]=w(I),d=l.strfPics.map((t,r)=>({uid:`-${r}`,name:t.strfPic,status:"done",url:`${F}/${c}/${t.strfPic}`})),[o,u]=y.useState(d),[f]=$(),h=t=>{console.log("form",t)},g=({fileList:t})=>{u(t)},x=async t=>{let r=t.url;r||(r=await new Promise(P=>{const i=new FileReader;i.readAsDataURL(t.originFileObj),i.onload=()=>P(i.result)}));const n=new Image;n.src=r;const s=window.open(r);s==null||s.document.write(n.outerHTML)};return e.jsx("div",{children:e.jsxs(a,{form:f,onFinish:h,name:"strfPic",children:[e.jsx(a.Item,{name:"strfPic",rules:[{required:!0,message:"메뉴 사진을 등록해주세요.",validator:()=>o.length>0?Promise.resolve():Promise.reject(new Error("메뉴 사진을 등록해주세요."))}],help:`${U(p)} 이미지는 다수(최대 5장)을 등록하실 수 있습니다.`,children:e.jsx(b,{listType:"picture-card",fileList:o,onChange:g,onPreview:x,beforeUpload:()=>!1,accept:"image/*",maxCount:5,children:o.length<5&&"+ Upload"})}),e.jsx(a.Item,{children:e.jsx(L,{type:"primary",htmlType:"submit",size:"large",className:"text-lg",children:"등록하기"})})]})})};export{Z as default};
