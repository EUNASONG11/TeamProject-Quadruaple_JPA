import{h as g,g as j,r as a,j as e,B as v,m as S}from"./index-BDvp6vJ-.js";import{R as I}from"./ReviewItem-CFydJHSb.js";import{S as N}from"./StrfInfo-Cv6Wh5H5.js";import{L as w}from"./index-ClPqg3ds.js";import{S as y}from"./index-C5ojTJ4o.js";import"./index-CI5zJzi3.js";import"./BottomSheet-CorLbzWB.js";import"./ReviewImage-C75NWoHJ.js";import"./swiper-react-B9nLXrm3.js";import"./index-BUmFPigH.js";import"./index-DCp_-sk3.js";import"./index-BbrJAp72.js";import"./index-CyfMtEI1.js";import"./Portal-8tQC4Gpp.js";import"./useId-Dew7XV0g.js";import"./motion-Z4zvjc5S.js";import"./roundedArrow-C96aV79_.js";import"./zoom-BVA-z112.js";import"./strfAtom-C31xQf7i.js";const J=()=>{const[p]=g(),d=Number(p.get("strfId")),f=j("accessToken"),[s,o]=a.useState([]),[i,l]=a.useState(0),[u,n]=a.useState(!1),m=async r=>{const c="/api/business/review/all";n(!0);try{const t=(await S.get(`${c}?start_idx=${i}&page_size=20`,{headers:{Authorization:`Bearer ${f}`}})).data;return console.log("리뷰 목록 조회",t),t&&r==="more"&&o([...s,...t]),t&&r==="delete"&&(l(0),o(t)),n(!1),t}catch(x){return console.log("리뷰 목록 조회",x),n(!1),null}},h=async()=>{l(i+20)};return a.useEffect(()=>{m("more")},[i]),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsx(N,{}),e.jsxs(y,{spinning:u,children:[e.jsx("section",{className:"flex flex-col gap-10 pb-10",children:s.length>0?s==null?void 0:s.map((r,c)=>e.jsx(I,{item:r,strfId:d,setReviewList:o,getReviewList:m},c)):e.jsxs("div",{className:"flex flex-col gap-5 items-center justify-center text-slate-300 py-12",children:[e.jsx(w,{className:"text-7xl"}),e.jsx("p",{className:"text-2xl",children:"리뷰가 없습니다"})]})}),e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{variant:"outlined",className:"px-5 py-2 h-[9.6vw] max-h-[60px] text-xl text-slate-400 rounded-[32px]",onClick:h,children:"더보기"})})]})]})};export{J as default};
